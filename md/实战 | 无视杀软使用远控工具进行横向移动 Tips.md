> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/sgRXpXLt7pXQtN9hsNbO8Q)

  

![](https://mmbiz.qpic.cn/mmbiz_gif/myic1rJ84UQib1h8I5Re97yPxU4o2fzIk9oZ62CvkvzianGcPoDtrqFdXWicFKmKdvPyCWibpfmHYy3JFpkiatI1ImiaQ/640?wx_fmt=gif&wxfrom=5&wx_lazy=1)

在有杀软拦截，CS 无法上线的情况下，经常用到 todesk 和向日葵这两个远控工具进行横向移动。不过这两个工具现在好像不怎么好用了。不过无所谓，用其他的就是了，听说最近 GotoHTTP 很火，可以试试看。

**1、GoToHTTP 的优点和缺点**
---------------------

**优点：**

*   B2C 模式，无需安装控制端软件，有浏览器就可以远控。
    
*   流量走 https 协议，只要目标放行 443 端口出口就可以实现内网穿透。
    
*   在低带宽也可以使用，运行占用内存极低，控制时占用 CPU 仅为 0%-3%。
    
*   被控端在类 Linux 系统上支持图形界面（GUI）和字符界面（CLI）。
    

**缺点：**

*   需要管理员权限运行
    
*   一些行为（网络唤醒远程主机）需要加载驱动，导致运行时 360 安全卫士会拦截这行为，其他杀软则不会拦截。
    
*   微信搜索 x 领取资料 。
    

2、GoToHTTP 使用
-------------

下载：http://www.gotohttp.com/goto/download.12x  
GoToHTTP 提供了多种系统的被控端，可以根据情况选用。

在本地虚拟机演示一下  

将 gotohttp.exe 上传到指定目录  

这里可以看到靶机直接弹出连接框了  

在哥斯拉中，gotohttp.exe 目录下直接生成了配置文件  

读取配置文件，可以获取电脑 ID 和控制码  

直接连接

**1、RustDesk 介绍**
-----------------

看了精灵师傅的文章发现了另一个巨 TM 好用的远控工具，按照精灵师傅的话就是：它不仅有 GotoHTTP 的优点，还是免费开源的，而且还支持自建服务器，简直业界良心。

RustDesk 相比于 GoToHTTP 最大的优点就是：**普通权限即可运行，而且支持纯内网环境**。  
RustDesk 地址：http://rustdesk.com/zh/  

注意：RuskDesk 控制端和被控制端是同一个应用

**2、RustDesk 使用**
-----------------

通过 webshell 上传 rustdesk  

运行 rustdesk  

靶机会弹框，这个不需要管，我们直接去找配置文件  

配置文件地址：C:\Users \ 用户名 \ AppData\Roaming\RustDesk\config

获取 id 和密码  

成功连接

**3、踩坑实录**
----------

（1）要下载 RustDesk 的 portable 版本，不要下载 puts 版本。portable 版本免安装，puts 版本会弹框提示安装  
个版本下载地址：https://gitee.com/rustdesk/rustdesk/releases  

（2）不知道是不是 RustDesk 的 bug 还是出于安全考虑，如果是第一次在目标上运行 RustDesk，RustDesk 不会立即将密码保存到配置文件，而此时你把鼠标放在显示密码时则会保存到文件，遇到这种情况我们只需运行 RustDesk，生成配置文件后结束 RustDesk 进程，然后修改配置文件里 password 为指定密码，再运行 RustDesk 即可。  
修改配置文件 password

重新启动 RustDesk

成功修改密码

**4、RustDesk 在纯内网环境中的优势**
-------------------------

有时候我们打点控了一台跳板机，在内网有一台服务器有 webshell 权限，但是这台机器又不出网，而且上面装了多个杀软，防护开到最严，你又不知道目标账号密码，这时候你许多操作都会受限，这种场景还是挺常见的。这时候如果能远程过去把杀软退掉可能是一种捷径，而 RustDesk 就支持在内网使用 IP 进行直连。

在 RustDesk 默认设置中，允许 IP 直接访问功能未开启，如下图：

针对这个问题，我们可以修改配置文件 RustDesk2.toml，在 options 下添加一行

然后重启 RustDesk 即可。  

RustDesk 的实现 IP 直接访问功能监听的默认端口是 21118，这个端口也是可以修改的，同样的步骤修改配置文件 RustDesk2.toml，在 options 下添加一行 direct-access-port = '8443'，然后重启 RustDesk 即可。

注意：这里修改默认端口是因为在一些场景下被控端防火墙需要放行入站方向的指定端口。

在控制端输入目标地址（如果是默认端口直接输入 IP，如果是自定义端口输入 IP:PORT 格式），然后输入密码即可远控。

成功连接

免责声明
----

请勿利用文章内的相关技术从事非法测试，由于传播、利用此文所提供的信息而造成的任何直接或者间接的后果及损失，均由使用者本人负责，作者及公众号不为此承担任何责任。工具来自网络，安全性自测。

文章来源

> https://xz.aliyun.com/t/11557

**注：如有侵权请联系删除**

![](https://mmbiz.qpic.cn/mmbiz_gif/twRRNxG1Mqy7Ag2iaLAeEbuDLvBfLEAjibt04Fejwnsiac0gpBOJaUsicv00L7TIom61ic4JI02NHBNuMdvQcnx54rw/640?wx_fmt=gif&wxfrom=5&wx_lazy=1)