> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/wrQbENxA47JIYECmx9eCww)

静静地看文章，一定很枯燥吧，奏乐！

当前浏览器不支持播放音乐或语音，请在微信或其他浏览器中播放 Mystery of Love 音乐： Sufjan Stevens ![](http://res.wx.qq.com/mmbizappmsg/zh_CN/htmledition/js/images/icon/audio/icon_qqmusic_source664ebd.svg)   ![](http://y.gtimg.cn/music/photo_new/T001R120x120M000001tlnqA1W8BXm_3.jpg)

![](https://mmbiz.qpic.cn/mmbiz_gif/3GHDOauYyUGbiaHXGx1ib5UxkKzSNtpMzY5tbbGdibG7icBSxlH783x1YTF0icAv8MWrmanB4u5qjyKfmYo1dDf7YbA/640?wx_fmt=gif)

  

絮絮叨叨

自从上次连续三天水文之后，这个默默无闻的野鸡公众号开始热闹起来了。目前关注有 500 多。这是什么概念？对我而言，相当于结识了 500 多个白帽子，而这些朋友，遍布全国各地，可能就在隔壁写字楼，哪一天擦肩而过，乃人生难得的缘分。

前期开号初衷并非为了吸引关注，只是想记录一些生活琐事，不曾想琐事难成篇幅，故而改为技术小号。为了给师傅们营造一个良好的学习环境，我决定：

再水一篇！  

![](https://mmbiz.qpic.cn/mmbiz_jpg/5ddaqXIIpumuOVSicFk1Nn9YicIFWZlhnjd8v6oV9mcZ2QZf76fYBGL1hic9N7nVGwZy0dLhV1o6XC9okqI4dnoFA/640?wx_fmt=jpeg)

![](https://mmbiz.qpic.cn/mmbiz_png/HWREJselCribXKZnW4g6I2gicDlib73KLnWBMib7xPga814txqfxcPWBtkYhkXX3BVdG42szWtx3eib5YmzeeuoibE1Q/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_gif/pLGTianTzSu7XRhTMZOBAqXehvREhD5ThABGJdRialUx3dQWwO7fclsicyiajicKfvXV4kHs38nkwFxUSckVF2nYlibA/640?wx_fmt=gif)

  

正文

这次分享**如何开启微信内置浏览器断点调试**的小鸡巧 (不要小看小鸡巧，小鸡巧在挖洞中往往能出其不意)~  
现在许多网站都实现了微信浏览器环境下的一键登录授权，微信的内置浏览器是谷歌内核，微信把浏览器魔改了。截止发文，最新版的自带浏览器已经无法 debugger，如果一些请求参数使用了加密算法，破解的难度就增加了。虽然可以使用谷歌浏览器，结合 fiddler 替换数据包实现动态调试，这样太麻烦，不利于偷懒。所以我给大家推荐一条直线救国的方案，直接用老版本的微信进行代码调试。

![](https://mmbiz.qpic.cn/mmbiz_gif/3GHDOauYyUGbiaHXGx1ib5UxkKzSNtpMzY5tbbGdibG7icBSxlH783x1YTF0icAv8MWrmanB4u5qjyKfmYo1dDf7YbA/640?wx_fmt=gif)

  

资源

阅读文章之前，你可以直接下载我的软件包 (放心~ 我不是黑客，不会投毒的)：  
https://www.aliyundrive.com/s/Q6sAx8SvoSK

![](https://mmbiz.qpic.cn/mmbiz_jpg/5ddaqXIIpumuOVSicFk1Nn9YicIFWZlhnjSfROmicXlChu8Kvlua4kfbgGia4zJgEEJQz9cTYSTPmqkicNXtmnjdrEg/640?wx_fmt=jpeg)

![](https://mmbiz.qpic.cn/mmbiz_gif/3GHDOauYyUGbiaHXGx1ib5UxkKzSNtpMzY5tbbGdibG7icBSxlH783x1YTF0icAv8MWrmanB4u5qjyKfmYo1dDf7YbA/640?wx_fmt=gif)

  

复现

1. 先准备一个 win7 系统的电脑或是在 Vmware 上安装 win7 也行，用老系统是为了防止微信升级，还记得 win7 长啥样不？我给你看看

![](https://mmbiz.qpic.cn/mmbiz_jpg/5ddaqXIIpumuOVSicFk1Nn9YicIFWZlhnjowo0EWTpV3qwicia6cFQvx2Iz6x4WZpl6Lf78PVndCIn6PvgaZDja2Qw/640?wx_fmt=jpeg)

(左下角的阿 D 是不是暴露了脚本小子的本性)  

2. 打开链接:  
https://pc.qq.com/detail/9/detail_27349.html

下载老版本的微信 PC 端

![](https://mmbiz.qpic.cn/mmbiz_jpg/5ddaqXIIpumuOVSicFk1Nn9YicIFWZlhnjdj1jgWIsn8KjJMC7YXFc8bOtym3laZB6JZOVp9Ds8JR3JcZl749ULA/640?wx_fmt=jpeg)

然后安装，过程就不截图了。

3. 登录微信号，接下来查看下微信浏览器的版本，我们在云服务器上挂载一个查看浏览器版本的 html 文件。

version.html 源码如下：

```
<html>
  <script type="text/javascript">
    window.open('chrome://version')
</script>
</html>

```

4. 在公网服务器上用 python 启动 http 服务  

![](https://mmbiz.qpic.cn/mmbiz_jpg/5ddaqXIIpumuOVSicFk1Nn9YicIFWZlhnjuenc4YYf8ZmpKbQ8QzvWheRGcPIw6qpj7QmiaATRNbM6pQXhibibmz1Gg/640?wx_fmt=jpeg)

  
5. 在微信聊天窗口把源码链接发出去，点击链接  

![](https://mmbiz.qpic.cn/mmbiz_jpg/5ddaqXIIpumuOVSicFk1Nn9YicIFWZlhnjriadTCxL8mpNKE2924gSib0SQTmmZGvAmA3tXgDqUTkLeiaqNfV5yjaXQ/640?wx_fmt=jpeg)

  
6. 找到 --resources-dir-path = 参数，这是浏览器内核的位置：

```
C:\Users\ADMINI~1\AppData\Roaming\Tencent\WeChat\All Users\CefResources\2589

```

![](https://mmbiz.qpic.cn/mmbiz_jpg/5ddaqXIIpumuOVSicFk1Nn9YicIFWZlhnj3reH0nJ8BRIFsoACMudf7Xiaz1HRChGPAicaYekUfBdLTnZViaI1Yfkew/640?wx_fmt=jpeg)

7. 把 devtools_resources.pak 复制到目录中去  

![](https://mmbiz.qpic.cn/mmbiz_jpg/5ddaqXIIpumuOVSicFk1Nn9YicIFWZlhnjOoIW7Ze334xrsTHKFWYg6ADTBMzeicRdqDQictic4tXzYJqydtz97jibvw/640?wx_fmt=jpeg)

8. 点击桌面的微信快捷方式，右击查看属性：

![](https://mmbiz.qpic.cn/mmbiz_jpg/5ddaqXIIpumuOVSicFk1Nn9YicIFWZlhnjVibpMFCyRnkicNBHdicXN3ZAsyKJWe28cH9yqGxgXh2vrDudk8AEQcNMg/640?wx_fmt=jpeg)

9. 在目标栏末尾输入一个空格，粘贴代码：  

```
-remote-debugging-port=8000

```

![](https://mmbiz.qpic.cn/mmbiz_jpg/5ddaqXIIpumuOVSicFk1Nn9YicIFWZlhnjf4jk7aXRUM6FmeDexmqthF2HicYPnVpHANFRhqG75FY88d271J1cHkQ/640?wx_fmt=jpeg)

10. 点击确定，重启微信。  
11. 启动微信后，聊天对话框输入 https://www.baidu.com，并点击这个链接，调起微信浏览器。

![](https://mmbiz.qpic.cn/mmbiz_jpg/5ddaqXIIpumuOVSicFk1Nn9YicIFWZlhnjY8h9Y213FzW2VrblervPNXVlvFXwnSMZibWFhPnqHA9r5Weuc685nfg/640?wx_fmt=jpeg)

怎么肥事？搞了半天似乎没什么异样，莫急莫急，打开其他的浏览器，输入地址: http://127.0.0.1:8000/  

![](https://mmbiz.qpic.cn/mmbiz_jpg/5ddaqXIIpumuOVSicFk1Nn9YicIFWZlhnjdbZSHYmzqdtxK1aoicqO3MvRPxy1kSHS9gGlicibianJ1nsO3bO3w1E6ow/640?wx_fmt=jpeg)

  
看到没有，这里出现了一个百度的标题，点击 TA!  

![](https://mmbiz.qpic.cn/mmbiz_jpg/5ddaqXIIpumuOVSicFk1Nn9YicIFWZlhnjvw97VEdhVdOiaIKFBHLSL22VaaLhuCMiaIiczs6EdsmsWertAeuPn6ZNw/640?wx_fmt=jpeg)

  
看到源码，调试器什么的一应俱全，可以开启你的表演了！  
断点调试秀一下：  

![](https://mmbiz.qpic.cn/mmbiz_jpg/5ddaqXIIpumuOVSicFk1Nn9YicIFWZlhnj7DIz3kg3noCcuLO0w92oBhO3K21pbskZtdXZS1r2eVKBQI3GJWISYg/640?wx_fmt=jpeg)

  
这就是谷歌浏览器远程调试。

![](https://mmbiz.qpic.cn/mmbiz_png/HWREJselCribXKZnW4g6I2gicDlib73KLnWBMib7xPga814txqfxcPWBtkYhkXX3BVdG42szWtx3eib5YmzeeuoibE1Q/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_gif/3GHDOauYyUGbiaHXGx1ib5UxkKzSNtpMzY5tbbGdibG7icBSxlH783x1YTF0icAv8MWrmanB4u5qjyKfmYo1dDf7YbA/640?wx_fmt=gif)

  

结语

就在我准备兴冲冲地给各位看官老爷打包文件的时候，我的 vmware 传输文件到宿主机时，卡死了，真是个悲桑的故事，Win7 reboot ing...

![](https://mmbiz.qpic.cn/mmbiz_jpg/5ddaqXIIpumuOVSicFk1Nn9YicIFWZlhnjobKQEDt62z8r3hR0VtiaC7mcrkzM8WjBx9kZcvl6e9qQmicia7UGIAYQw/640?wx_fmt=jpeg)

![](https://mmbiz.qpic.cn/mmbiz_png/HWREJselCribXKZnW4g6I2gicDlib73KLnWBMib7xPga814txqfxcPWBtkYhkXX3BVdG42szWtx3eib5YmzeeuoibE1Q/640?wx_fmt=png)

既然你都看到这里了，有没有 BGM 比文章精彩的错觉？

(转载请私聊，免费传播。本文中涉及到的知识仅用于网络安全评估测试，切勿用作其他用途。)