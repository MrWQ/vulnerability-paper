> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/usHrpgxCvGsu9vvf0SMSBQ)

基于 Caddy 实现的 C2 前置代理 - RedCaddy
===============================

Author: 小离 - xiaoli

0x01 Intro
----------

*   • 起因：
    

*   • 发觉每次部署 CS，尤其是，都挺麻烦，于是就萌生了写一款能够一键部署好前置代理的工具。
    
*   • 期间尝试过 RedGuard，RedWarden，其中的话，RedGuard 一使用自个的 profile 就报错了，应该是 parser 没弄好，而 RedWarden 的话，写得很完美了，但是 beacon 一多，就会有很大延时（性能下降），但是两款工具都非常好了，RedGuard 有自动配置假 ssl 证书，但是看上去不支持多个端口，作者的思路是通过假 host 头去进行流量转发，配置依旧不够灵活；RedWarden 的话，配置很详细，性能问题除外，其他都很好。
    
*   • 后面看到了 c2modrewrite，该项目的思路就是用 apache 和 nginx 这种成熟的 http 服务去一键生成针对 proifle 的流量转发配置（主要是识别 uri path）就不用像上述两款项目一样重写一个转发器。
    
*   • 结合上述三款项目的思路，于是就有了现在这个项目.
    

0x02 设计思路
---------

主要围绕以下 5 点

*   • Core
    
*   • Basic blacklists (UA & IP)
    
*   • Header matcher & Reverse proxy (main)
    
*   • GeoIP
    
*   • SSL
    

扩展围绕以下 2 点

*   • Teamserver 端口保护
    
*   • 真白名单上线  
    

#### 0x001 First: core

1、首先的话，我们就不手撸一个 http 服务作为核心了（作者也没那本事），我们可以选中已有的开源 http 服务作为核心，这里选中了 caddy 作为核心，主要是配置挺方便，性能也高 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdaQw2wUWAiaFWYICS3B5GJGHyMkxBRh683ADobXxvyyJZV4khFl6mUgw/640?wx_fmt=png)

2、Caddy 需要修改一下 tls 部分，使其支持老系统（win7 / windows2008）https 上线（但是可惜的是，2003 只支持 SSL2.0，而 caddy 本身不支持 SSL2.0），以下两个 commit 是必须 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdicHTarbdA9BZ287jA68ezz5Hwur8RjxdjEFDD7DxdosgvsR6o2YjBMw/640?wx_fmt=png)

3、个人经过多次实战测试发现，Caddy 的配置文件还需要加上这一段算法支持，才能完全支持老系统上线 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdLMiafLsgvx40PcpIR9KbbLO1jXrfZLSwHCiaibhNcRvic8s1orIYWufKFQ/640?wx_fmt=png)

4、为了实现 GEOIP 和后面的扩展，需要添加两个外部模块（包含在了上述 commit 中） 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdntHdzGdGqh63iasqLKzsJeBTnIgibAMic4FDHIxcEkpv4EodI2LN4qjnw/640?wx_fmt=png)

#### 0x002 Second: Basic blacklists

1、基本黑名单是给我们普通模式下防护用的，防止恶意 IP，沙箱 IP，防止沙箱以及空间测绘之类的，黑名单 IP 用的是 RedGuard + 自己实战抓的沙箱 ip，一点点的补充上去 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdKC7ODIGJxzYKbVMwIbibiacTPuncns4DlzEBRt1hfzxsIeicLqtKibufww/640?wx_fmt=png)

2、UA 头黑名单，这个思路是来自以下文章 [🇬🇧 Carrying the Tortellini’s golf sticks | APT::WTF - APTortellini’s blog (aptw.tf)]https://aptw.tf/2021/11/25/c2-redirectors-using-caddy.html 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdsNVCrkl3icHpiaLZfm8WibykLPG3ic3fL5KMVSibibATNibZyHnl6wByDPwKw/640?wx_fmt=png)

3、还有基本安全配置 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdickzwsqGpoWbBWexuRCV4azHL0hngQZMB4Orxe0CZXpdT5s2JYnJyjA/640?wx_fmt=png)

4、结合上述三点，在 Caddy 配置文件里面可以这样呈现 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zdr1NXviaZkDsAsUc1XGa0gCsYOaxqKaM6qfWZ62LuxKohAx96r55LJ3w/640?wx_fmt=png)

#### 0x003 GEOIP

1、从 RedWarden 学来的思路，我们还可以用 GEOIP 来限制国家 IP 上线，本人的话就限制只能 CN 上线即可 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zdjc2aqVy0Fo3icT8zwrpO3v2u15l0nYtQS9Td4CDojk1JT47vxwUv84w/640?wx_fmt=png)

2、记得要在 caddy 添加 GEOIP 模块 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdVvRiaE4k8aVYf79ibLMePhicxichI4g2uufUfSQBN5GCDQncKicVU8iaiaiagg/640?wx_fmt=png)

#### 0x004 Header matcher & reverse proxy

1、使用严格的转发策略，要 headers 完全匹配了，才能上线，caddy 对于这块处理，不吃性能；对于用了 CDN 的，可以把来源头带有`x-forwarded-for`继续转发给 CS，让 CS 识别为来源 IP，没使用 CDN 的话，就把`x-forwarded-for`填入来源 IP 转发给 CS 即可 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zd1wabnicrIZTI4PkPj64ZNZJFGiclYN45hjiaK2pCEBXGk90j9z0pYTIIA/640?wx_fmt=png)

这也意味着 CS profile 的`set trust_x_forwarded_for "true";`必须一直开着

2、对于 Host 头伪造，只能伪造证书 SAN 里面有的域名，星号则意味着你能随便伪造`xxx.jd.com`之类的 host 头，因为 caddy 会对 host 头去认证回你自己的证书 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zd6SjI5253DuOcxarjfS08zjXRsaAiaiazeNCafhQqrTnW4PMoAD2kueDQ/640?wx_fmt=png)

#### 0x005 SSL 证书伪造

1、原先是用 carboncopy 的思路，使用 python 库去伪造 SSL 证书，后面在实战过程中遇到了很多奇奇怪怪的问题，上不了线，Caddy 提示证书有问题之类的情况（mkcert 项目也一样的情况） 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdUeS5CbawHogw0Oxc4eViaVZhZlYtCGiaAXfib0EzgicDrGU44lHSXDZPww/640?wx_fmt=png)

2、后面使用了这个帖子，使用 openssl 生成一张假的证书即可 [How to create an HTTPS certificate for localhost domains (github.com)]https://gist.github.com/cecilemuller/9492b848eb8fe46d462abeb26656c4f8

3、self-signed-cert.py 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdXZ4icFCCcceZ5bkibhAia4f3ZJic6EjwxlPZIEeIE31U9kSH9JdRWMwbtg/640?wx_fmt=png)

4、同时会生成 store 文件，直接在 cs 用就可以了 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdlRJmP1MCBdPPfopKrOKc0huqfxxmS8FKM2EEDbkYVliaiaSDAkxmp4Ig/640?wx_fmt=png)

#### 0x006 扩展 1：Teamserver Guard

1、善用 CGI 模块，即可做出一个白名单模式去保护 Teamserver 后端，使用特殊头 + 特殊链接访问触发添加 iptables 接受来源 ip 流量，才能访问到 teamserver 连接端口 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zd1aDSe5iaTgNpot4hQdcBSm9ds3AZ0wy8oHibS6V77icl1Ab1LSiaWuLG2A/640?wx_fmt=png)

2、特殊 URL 可以随机生成，给自己的队友知道就好了，得益于反向代理的强大，我们可以把它放在和 cs 回连的端口，如图，443 也是 CS 上线交互的端口 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdL77k4MXGAxEGfHP4icbupib1Hbic3q3bxMFtgEzpXoO3wCiamzAfy6SEKg/640?wx_fmt=png)

3、后端脚本 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdnyVnnCQDvR0ZczuDxkP5lh2kmmvV8s7INGtmQa4vKfjk8jxcHIoIMQ/640?wx_fmt=png)

4、效果如下，触发之前无法访问到 teamserver，之后就可以，有效防止爆破，如图当前是不能访问到 50050 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdmbQ8r4LTR8nKEibNKcM9d9Abpyt8rzlEqUnEItoKxOCzib2d2CpWPjZw/640?wx_fmt=png)

After 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdXkwcNwPysy5z2hD714x745ZsLjvw79HItZla9YRcgUibwT3w4Tc3OVA/640?wx_fmt=png)

#### 0x007 扩展 2：真白名单上线模式

1、实现：目标机器触发请求到前置代理，前置代理执行脚本发送信息到钉钉机器人问你是否上线，期间会有 60 秒冗余时间让你选择，60 秒内，目标机器的流量将会进入拒绝模式，防止蓝队人员进行扫描，爆破，在 60 秒内，你在钉钉将会收到上线信息，如果超过 60 秒，该 IP 的流量将不会继续拦截（依旧不能上线 CS），意味着你还能继续发送上线申请

如图所示，超时了没有点击上线的，提示链接过期 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zd9SVUIhXPYicoTaGsyZlfOnq25LICtBCqQzwglMCIXicfOdCVmNYzHh2Q/640?wx_fmt=png)

允许 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdVWmv5SrRNYvQjNmr8ib7VqBHTefV1fZyW33jRJSk4kRXdnxbbIwRqxA/640?wx_fmt=png)

拒绝 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdstM5IXZF01lr0gq07bFvNYJ31EIoXLv2ibqLadXadmVc2X4vfQSdsHg/640?wx_fmt=png)

2、可以使用 go 写一个敲门的东西触发请求（用完记得删），落地到受害者机器上执行 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdVoLXr2wjw3ORJibzcL5KeISbh7oFRVwAYIsm637a6I0D67J930fDJiaw/640?wx_fmt=png)

3、同时这几种状态的 IP 地址，都会被记录下来，deny 和 others 的，一般都是蓝队人员的 ip 了，意味着他们抓到了你的敲门工具 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zdm6IebqlN0zxryw7Mnn0skeVuZQuDj7RZMXLrbicHiaM3jf8q7tibYLib0g/640?wx_fmt=png)

4、后端脚本，bash 脚本负责初始化，然后后面交给 python 脚本处理，60 秒过后放行（依旧不能上线 CS） 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdEQicILHkEpMRlkCAC0KOodwibyarDVNdJvbAACMicI9zETjVzkT8vBdZA/640?wx_fmt=png)

5、Python 脚本，在进入 60 秒内，会起一个随机端口 + 随机 uri 的链接用作接收信号，发送到钉钉（本人不会用钉钉的 outgoing 方法，临时想到这种歪门邪道） 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdYSH5pq1gM8ppDX2URvUKnXEjpKsU7MicXic4axd4PvvHAOlKYQG1gNMQ/640?wx_fmt=png)

6、flask 端收到信号后，会立即关闭服务 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdiaQRWD4TXvlcY5zSzH3pAQ6zWFKtCOiaqPEU37kPgVS148NgrMn74R5A/640?wx_fmt=png)

7、钉钉提醒（机器人关键字 whitelist） 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdpJ0TnCCrIqOGg0JicrtO6z0Ob8DWtCaVLlODe3wn2ia32ZgM0IPBCgWg/640?wx_fmt=png)

8、IP 记录 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdtRIY3aBH2gBM6jbicyJNBycvOXE2OkTuFLDRWzeMmcQzWZZxE443FXQ/640?wx_fmt=png)

9、白名单模式并不是万能的，如果你需要套 CDN 的话，那就没得办法了，因为来源 ip 都是随机的  

### 0x03 封装

1、要封装成一键生成 Caddy 配置文件的脚本，首先用到的是来自 RedWarden 的 CobaltStrike Malleable Parser，用来读取 CS Profile，获取 http-stager / get /post (默认)，但是我自己用的 profile 还合并了 http-get / post (geacon)，应对这种复杂的 profile，只有 RedWarden 的 parser 写得很好 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zdmnso6hLN8ibjsiapBN8qCmTK6pDur11gjjCCoDU81DkFz75YXMiblPDXg/640?wx_fmt=png)

2、指定转发链文件，流量从哪进来，转发到哪，如下图所示，流量从 443 进来，转发到 192.168.128.64:10001（c2 backend，默认的话一般写你 ifconfig 看到的 ip），同时关键字 warden 表示该端口同时用作 Teamserver 端口保护的开关（反向代理），50050 表示你的 teamserver 端口 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zdu91EXdJ9bL6bKVWNCMOVAtxdticaRic3AsUQFjfg3W4q8tmTNoxFGEfA/640?wx_fmt=png)

白名单模式下的转发链，https 后面直接接入关键字 warden 不接 IP，表示这个端口将会是作为 Teamserver + beacon 上线的白名单开关 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdG6s4mRbXkbbpHiaiaR2Woywa5ibBETRJS5BH4IgplgjERaQgzEvq8YU3w/640?wx_fmt=png)

3、封装脚本如下（vps ip 填写你真实的 vps ip）

黑名单模式（默认）（适用来钓鱼之类的冲锋动作） 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zd931Qc4cjAEictX2iaibjnBBn6YBsx9KkEFcOeBVsbENOlV700OjW2OEPA/640?wx_fmt=png)

白名单模式 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdaEvUQouLyb9YiaI2BOCE2Tk0oI2B5kGbjhjibtwyLOwfUUId7tcIZXwg/640?wx_fmt=png)

同时会在当前目录生成 teamserver-guard 文件夹，放在协作平台给队友就好了 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdFPrY9JJiac7N7bmtmIm5M5Z66sX2cXswfaIPkknywDp73Xazu9ZQm9A/640?wx_fmt=png)

4、生成的 caddyfile 在 core 目录下即可看到了，还有假证书也在 core 目录下 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zdm4JPWnhbyTU4FiczBVZSB2cqeWSQ7ibaIx4B8mrZibic0UljUJicB1MATCw/640?wx_fmt=png)

### 0x05 演示

1、生成假证书，复制 store 和 pass 文件到 cs 目录 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdGhVjp5EPrKgTOAcTcTHNibicOrfSnicRTjwUiaIRoiao6qkcIaTcWpk7PRw/640?wx_fmt=png)

2、获取本地 ip，并且配置转发链（这边演示用的是白名单模式） 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zdmz8nXoAu8kbYt3hOTicKDagJrpNaas9wFlKKicsP9cHOFgxGQZegaoMw/640?wx_fmt=png)

3、生成配置文件，指定好 vps 真实的外部 IP，还有 dingtalk 的 bot token 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zd6WcnlQcp6apmA6QHS2JZYuvBMp2xs8n28icIqYic3KTnxh3iaFuSnH4ZQ/640?wx_fmt=png)

4、运行 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdRMe5HhZwVseaYMTonVMKmZPSEZycHjGUlgI96aNI3JdA60ruOzphKA/640?wx_fmt=png)

5、去到 cs，修改 profile 里面的 store 文件密码，还有 teamserver 脚本

pass.txt 获取 keystore 密码 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zd4s15r9SRQmFgljNH3ag4vv6thia5Le8jmaryAY5DJXBia7rouSm5NEIQ/640?wx_fmt=png)

修改 profile 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zd9EdPnXqZTZV17omCoz1ads4dLfDkbqq6S5ch8xW2Oc9fJFuPhfcLWg/640?wx_fmt=png)

修改 teamserver 端口和 keystore 的密码 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zdd01ye1gDia3ibxaI6ZJzn01cmiaYAeVnmDrU0uQL4AvFwVbSW4pFhjGcg/640?wx_fmt=png)

6、启动 CS 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdRSrRkYaaNIib1eOJ3gneNFymZj4iakAOdyayfFU8AbK2pgI9FcrNHCyg/640?wx_fmt=png)

7、没触发 teamserver 添加白名单前 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdprHTpibdeyia0HAkTkdvcYwTXAXZD6ic7lukLYAzrV9dEibkA6onSt87gg/640?wx_fmt=png)

8、触发后 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4Zdk74Y6e3iaDBh2E3ayzG8V8NNL0pAGxgaKZLRQoibNdCiaSKgn32dW20Uw/640?wx_fmt=png)

9、cs 配置 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdQfW9ODLAvsQllemAMIfDElcTdhhxLae1D5icVMy7MCVb89PpjdepaXg/640?wx_fmt=png)

10、白名单模式下，你需要手动查看 caddyfile 获取到白名单敲门的信息 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdJksFcicfjiaMxO0q6v3QjJ4eBbyGRhL8dq05drfIt4dUQLp3LAC4rEKQ/640?wx_fmt=png)

request-go.exe 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdXV28lxduOUtBNuDSedcFDw1jDgZnf5gaBWicooKJicdyb7HsxO5ic7Qicw/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdibkNBvXlcgd2ovdkFUTnrZDGXHG2msAJl4Ykx8BU6RFlvB8wHr5oNvw/640?wx_fmt=png)

11、没触发白名单请求之前 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdsnTu6TQrlFsjEkVSbicnW6FzsbTlL2jSAkJVvCYEndqklG5aicQmicNTA/640?wx_fmt=png)

12、触发 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdOhcA3yB1ibFJeiaBQJ6jpzS0OYhKtxMTdnJ90ib2tDF2dyG4u9d9ibldeQ/640?wx_fmt=png)

13、Linux 同理，如图，1443 使用的是 geacon 的 profile，用来给 geacon 上线用 

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdNxWCcO8N5x8ib0t4y1eJKQMGicObyO8Nd0icfhaTJxsNRpY8eusYiaIRzA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdYAcT2s6kAQ6XhibbC7RJqm1NIA18QH7LUubSkQk6KZ2RDER55rzsLnw/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/Tvn7G7hSv34urYf52F2pib43GGBKaV4ZdMcsdwEvAz4mKqc7BxI16S9PCkPLW1g4hKicZdcDsB09qJaC0ZtnKkRA/640?wx_fmt=png)

### 0x04 Outro

*   • 项目链接：https://github.com/XiaoliChan/RedCaddy 希望有看完的大哥觉得还不错的话可以给小弟我点个 star  
    
*   • 目前白名单模式只支持 DingTalk 机器人提醒，后续的话也许会添加 TG Bot  
    
*   • 基本上，如果你有一个调好的 Profile，配置一个 CS（单 IP），也挺快的，5 到 6 分钟左右就搞定了，IP 黑了就立马换，也懒得去想那么多  
    
*   • 黑名单模式（默认）下，本人还没有测过合法域名 + 证书上线，有需要的可以自行测一测