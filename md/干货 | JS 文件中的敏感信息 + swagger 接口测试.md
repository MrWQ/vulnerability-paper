> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/t6CXUmdwva9ARIQ9ayOgeA)

JS 文件中的敏感信息
===========

实战中会经常遇到很多 js 文件，在 js 文件中很可能会遇到一些敏感信息和路径之类的，遇到路径可以尝试拼接，有可能会遇到未授权的情况等等，也有很多站点是 webpack 打包，可以 F12 查看 sources 找到路由可以看到所有路径

![](https://mmbiz.qpic.cn/mmbiz_png/IXOicg347dAiahXzGa6UjWicnOsypZSibD2XyY74Qq2Z5VnsDBM3gRBelwW3wcEN7bNjEFaC3oSjBDpycT1oDAGacw/640?wx_fmt=png&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1)

手工测试
----

也可以手工来挨个查看，右键查看源代码，点击这些 js 文件，ctrl+f 搜索 path: 或者. do .action http api password 等等，来寻找自己想要的

![](https://mmbiz.qpic.cn/mmbiz_png/IXOicg347dAiahXzGa6UjWicnOsypZSibD2X9gNC3ej63bGPFnWPughkXFiaC5tlwUbiaUMOuvmW7cvVrGq3vH4d0NZA/640?wx_fmt=png&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1)

![](https://mmbiz.qpic.cn/mmbiz_png/IXOicg347dAiahXzGa6UjWicnOsypZSibD2Xysl1PibDMtamHI6cJopPJAfg5sicWCvezvs1ibxibZ7eaVpNA2bODL61qA/640?wx_fmt=png&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1)

自动化工具
-----

https://github.com/pingc0y/URLFinder

-s 200 状态码 也可以 all-m 2 深入抓取 - o . 导出 csv 在当前路径

![](https://mmbiz.qpic.cn/mmbiz_png/IXOicg347dAiahXzGa6UjWicnOsypZSibD2XH0yak1XLwKLjEYjjc8532avKicyOPnx7uickG44n2101OGMOiciclfsADA/640?wx_fmt=png&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1)

![](https://mmbiz.qpic.cn/mmbiz_png/IXOicg347dAiahXzGa6UjWicnOsypZSibD2XfgUs3p1SiaARdNhba5gMicjonD3tEENmUF6fWHiaRQkhpoaZgkUAjuStw/640?wx_fmt=png&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1)

插件：FindSomething

![](https://mmbiz.qpic.cn/mmbiz_png/IXOicg347dAiahXzGa6UjWicnOsypZSibD2Xl0LdC5bnZeicNYibw3ua7V44pNE0EpvIkll9gD1vuY2rghzgATtCccbg/640?wx_fmt=png&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1)

其他：

https://github.com/Carrypan2022/leakinfo_finder

添加 spring boot actuator 目录扫描以及手机号、身份证号码等敏感信息匹配

https://github.com/Threezh1/JSFinder

JSFinder 获取 URL 和子域名

https://github.com/rtcatc/Packer-Fuzzer

支持自动模糊提取对应目标站点的 API 以及 API 对应的参数内容，未授权访问、敏感信息泄露、CORS、SQL 注入、水平越权、弱口令、任意文件上传七大漏洞，最后可以生成 doc pdf 之类的报告

![](https://mmbiz.qpic.cn/mmbiz_png/IXOicg347dAiahXzGa6UjWicnOsypZSibD2XjjJ9eXV4CjU7QzoPkSKKouv190rOHM1FVuOUhnHJ9SzN9BLsJdmJYw/640?wx_fmt=png&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1)

Swagger 接口测试
============

特征
--

Whitelabel Error Page // spring 接口信息报错 favicon 小绿叶

常见漏洞：未授权访问、越权、任意文件上传、敏感信息泄露等

![](https://mmbiz.qpic.cn/mmbiz_png/IXOicg347dAiahXzGa6UjWicnOsypZSibD2XcBnjZgYD9PjdbicKNDSdnnpxc66GfVHzicd5xLtF41DPBI8E6RdIBTfQ/640?wx_fmt=png&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1)

![](https://mmbiz.qpic.cn/mmbiz_png/IXOicg347dAiahXzGa6UjWicnOsypZSibD2XGgo6sobkIF2iasyoeEmIg6icbToQKadTKDZm1yzYQvCluEdptBdldXibQ/640?wx_fmt=png&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1)

常见的路径
-----

```
/v2/api-docs/swagger-ui.html/swagger/api/swagger/Swagger/ui/index/api/swaggerui/swagger/ui/api/swagger/ui/api/swagger-ui.html/user/swagger-ui.html/libs/swaggerui/swagger/index.html/swagger-resources/configuration/ui/swagger-resources/configuration/security/api.html/druid/index.html/sw/swagger-ui.html/api/swagger-ui.html/template/swagger-ui.html/spring-security-rest/api/swagger-ui.html/spring-security-oauth-resource/swagger-ui.html/swagger/v1/swagger.json/swagger/v2/swagger.json/api-docs/api/doc/docs//doc.html/v1/api-docs/v3/api-docs

```

寻找接口
----

一般在登录处抓包或者感觉什么地方可能会调用接口就在什么地方抓包，可以看到接口信息，然后在针对接口域名扫描

![](https://mmbiz.qpic.cn/mmbiz_png/IXOicg347dAiahXzGa6UjWicnOsypZSibD2XZq5gVic2GGIpKcFPd6n1lbpzhiaZ4m3D5ALp9lGuYUiaaY8aJmliavdL2A/640?wx_fmt=png&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1)

细节
--

注意看最左上角，下拉可能不止一个接口文档

![](https://mmbiz.qpic.cn/mmbiz_png/IXOicg347dAiahXzGa6UjWicnOsypZSibD2XGgo6sobkIF2iasyoeEmIg6icbToQKadTKDZm1yzYQvCluEdptBdldXibQ/640?wx_fmt=png&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1)

swagger 都会给一个接口调试功能的，寻找自己想要的去调试就行，主要看看未授权之类的，如果遇到需要 token 之类的，可以先看网站能否注册，然后把自己的 token 带入到 swagger 顶部右上角验证，然后再去调试看能不能越权操作

再或者，注意看登录的接口，有的开发会直接把账密留在上面，如果有 一般是管理员权限，尝试登录看是否修改了密码，没修过能登陆的话就可以获取到 token 在带入 token 就行，或者可以用账密 string 尝试登录，因为 swagger 注册处很多值都是 string，有的测试为了方便，直接在 swagger 处创建 string 这个账号，然后就没有删除，导致 string 这个账号存留在数据库中，有可能账号权限还不低

![](https://mmbiz.qpic.cn/mmbiz_png/IXOicg347dAiahXzGa6UjWicnOsypZSibD2Xt1wSG67Yy1jgsAyp163Vr5jh82TvBBSHwtWm3IzFoUCpxANl24qN3Q/640?wx_fmt=png&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1)

自动化工具
-----

https://github.com/jayus0821/swagger-hack

![](https://mmbiz.qpic.cn/mmbiz_png/IXOicg347dAiahXzGa6UjWicnOsypZSibD2XOvvKCArkw6UL7OgfVFPegLNmxTT1QSQSrk26REYSDtgTnM3EL4kU3A/640?wx_fmt=png&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1)

用法：python swagger-hack2.0.py -u https://xxx/v2/api-docs 要用 / v2/api-docs 这个路径最终会形成一个 csv 文档建议手测，如果遇到接口处有删除的地方且存在未授权的操作，可能就会误删到一些东西在确认好接口后再使用比较好

作者：G3et

原文地址：https://www.g3et.cn

**侵权请私聊公众号删文**

 **热文推荐**  

*   [蓝队应急响应姿势之 Linux](http://mp.weixin.qq.com/s?__biz=MzUyMTA0MjQ4NA==&mid=2247523380&idx=1&sn=27acf248b4bbce96e2e40e193b32f0c9&chksm=f9e3f36fce947a79b416e30442009c3de226d98422bd0fb8cbcc54a66c303ab99b4d3f9bbb05&scene=21#wechat_redirect)  
    
*   [通过 DNSLOG 回显验证漏洞](http://mp.weixin.qq.com/s?__biz=MzUyMTA0MjQ4NA==&mid=2247523485&idx=1&sn=2825827e55c1c9264041744a00688caf&chksm=f9e3f3c6ce947ad0c129566e5952ac23c990cf0428704df1a51526d8db6adbc47f998ee96eb4&scene=21#wechat_redirect)  
    
*   [记一次服务器被种挖矿溯源](http://mp.weixin.qq.com/s?__biz=MzUyMTA0MjQ4NA==&mid=2247523441&idx=2&sn=94c6fae1f131c991d82263cb6a8c820b&chksm=f9e3f32ace947a3cdae52cf4cdfc9169ecf2b801f6b0fc2312801d73846d28b36d4ba47cb671&scene=21#wechat_redirect)  
    
*   [内网渗透初探 | 小白简单学习内网渗透](http://mp.weixin.qq.com/s?__biz=MzUyMTA0MjQ4NA==&mid=2247523346&idx=1&sn=4bf01626aa7457c9f9255dc088a738b4&chksm=f9e3f349ce947a5f934329a78177b9ce85e625a36039008eead2fe35cbad5e96a991569d0b80&scene=21#wechat_redirect)  
    
*   [实战 | 通过恶意 pdf 执行 xss 漏洞](http://mp.weixin.qq.com/s?__biz=MzUyMTA0MjQ4NA==&mid=2247523274&idx=1&sn=89290e2b7a8e408ff62a657ef71c8594&chksm=f9e3f491ce947d8702eda190e8d4f7ea2e3721549c27a2f768c3256de170f1fd0c99e817e0fb&scene=21#wechat_redirect)  
    
*   [免杀技术有一套（免杀方法大集结）(Anti-AntiVirus)](http://mp.weixin.qq.com/s?__biz=MzUyMTA0MjQ4NA==&mid=2247523189&idx=1&sn=44ea2c9a59a07847e1efb1da01583883&chksm=f9e3f42ece947d3890eb74e4d5fc60364710b83bd4669344a74c630ac78f689b1248a2208082&scene=21#wechat_redirect)  
    
*   [内网渗透之内网信息查看常用命令](http://mp.weixin.qq.com/s?__biz=MzUyMTA0MjQ4NA==&mid=2247522979&idx=1&sn=894ac98a85ae7e23312b0188b8784278&chksm=f9e3f5f8ce947cee823a62ae4db34270510cc64772ed8314febf177a7660de08c36bedab6267&scene=21#wechat_redirect)  
    
*   [关于漏洞的基础知识](http://mp.weixin.qq.com/s?__biz=MzUyMTA0MjQ4NA==&mid=2247523083&idx=2&sn=0b162aba30063a4073bad24269a8dc0e&chksm=f9e3f450ce947d4699dfebf0a60a2dade481d8baf5f782350c2125ad6a320f91a2854d027e85&scene=21#wechat_redirect)  
    
*   [任意账号密码重置的 6 种方法](http://mp.weixin.qq.com/s?__biz=MzUyMTA0MjQ4NA==&mid=2247522927&idx=1&sn=075ccdb91ae67b7ad2a771aa1d6b43f3&chksm=f9e3f534ce947c220664a938bc42926bee3ca8d07c6e3129795d7c8977948f060b08c0f89739&scene=21#wechat_redirect)  
    
*   [干货 | 横向移动与域控权限维持方法总汇](http://mp.weixin.qq.com/s?__biz=MzUyMTA0MjQ4NA==&mid=2247522810&idx=2&sn=ed65a8c60c45f9af598178ed20c89896&chksm=f9e3f6a1ce947fb710ff77d8fbd721220b16673953b30eba6b10ad6e86924f6b4b9b2a983e74&scene=21#wechat_redirect)  
    
*   [手把手教你 Linux 提权](http://mp.weixin.qq.com/s?__biz=MzUyMTA0MjQ4NA==&mid=2247522500&idx=2&sn=ec74a21ef0a872f7486ccac6772e0b9a&chksm=f9e3f79fce947e89eac9d9077eee8ce74f3ab35a345b1c2194d11b77d5b522be3b269b326ebf&scene=21#wechat_redirect)
    

****欢迎关注 LemonSec****

**觉得不错点个 **“赞”**、“在看”**