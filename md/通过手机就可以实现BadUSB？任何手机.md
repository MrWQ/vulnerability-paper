> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/XtdR4HnlnfCIy9MhmkOV5A)

  

![](https://mmbiz.qpic.cn/mmbiz_png/womF6p4v6N6bqC0nibj6GlhEpxMThQPvyiaWLLh8WnXc7vrXD7k8naV1MfgUjRbV68dWiae1xHE52egibibLLJcgnEQ/640?wx_fmt=png)

点击上方蓝字关注我们

  

  

  

![](https://mmbiz.qpic.cn/mmbiz_png/U1t4cV273bFcfDLY5ErqtmibjRlr3uibJ7b8GGxN1uwLhOGW53rAbzhPicNBohQhdhtv0GK0PLU0jsia22x8pTsqEA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/zz0je9TdHtTwVDKX4DCUniacOWlIQ1DkQwtae0vicgoqIerUdB5ib3iayg8Tj0qN00mk1aVaZhquadAR1lWpEdW5vg/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/WZj2CqDeezXzibh2JxsW0q4V0r3soBEIJNDzibjbsKibLRhYibHXaSicnpW27WkmjQaP3GX2yMs1Ux5bY1GALXcQdVg/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/fy5l9ibUUElo1VrmNNvbIPd72k158cia9SaWcp7O0ntH5pGSJ1N0In4agRUpUpHXUW8J1XvqykdIBRVSuiasmcEKQ/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/ZcWNHRSIjJGs9bvuzwV9GxaCvA4ic5qN3mWFg24MxBaxufb0SNIB7ibCiatwxeU5UJPQsk45phWM1ZeNhj6XILkEg/640?wx_fmt=png)

  

  

  

前言：

  

  

  

![](https://mmbiz.qpic.cn/mmbiz_png/U1t4cV273bFcfDLY5ErqtmibjRlr3uibJ7b8GGxN1uwLhOGW53rAbzhPicNBohQhdhtv0GK0PLU0jsia22x8pTsqEA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/zz0je9TdHtTwVDKX4DCUniacOWlIQ1DkQwtae0vicgoqIerUdB5ib3iayg8Tj0qN00mk1aVaZhquadAR1lWpEdW5vg/640?wx_fmt=png)

之前我们做过一期视频和文章，写了我们可以通过手机的一个程序来模拟HID控制电脑。

![](https://mmbiz.qpic.cn/mmbiz_png/fy5l9ibUUElo1VrmNNvbIPd72k158cia9SaWcp7O0ntH5pGSJ1N0In4agRUpUpHXUW8J1XvqykdIBRVSuiasmcEKQ/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/ZcWNHRSIjJGs9bvuzwV9GxaCvA4ic5qN3mWFg24MxBaxufb0SNIB7ibCiatwxeU5UJPQsk45phWM1ZeNhj6XILkEg/640?wx_fmt=png)

  

![](https://mmbiz.qpic.cn/mmbiz_png/U1t4cV273bFcfDLY5ErqtmibjRlr3uibJ7b8GGxN1uwLhOGW53rAbzhPicNBohQhdhtv0GK0PLU0jsia22x8pTsqEA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/zz0je9TdHtTwVDKX4DCUniacOWlIQ1DkQwtae0vicgoqIerUdB5ib3iayg8Tj0qN00mk1aVaZhquadAR1lWpEdW5vg/640?wx_fmt=png)

但是那次的教程是承载于Kali Nethunter的基础上制作的，对于不会编译内核的小伙伴们是非常不友好的，这需要我们花钱去购买设备。

![](https://mmbiz.qpic.cn/mmbiz_png/fy5l9ibUUElo1VrmNNvbIPd72k158cia9SaWcp7O0ntH5pGSJ1N0In4agRUpUpHXUW8J1XvqykdIBRVSuiasmcEKQ/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/ZcWNHRSIjJGs9bvuzwV9GxaCvA4ic5qN3mWFg24MxBaxufb0SNIB7ibCiatwxeU5UJPQsk45phWM1ZeNhj6XILkEg/640?wx_fmt=png)

  

![](https://mmbiz.qpic.cn/mmbiz_png/U1t4cV273bFcfDLY5ErqtmibjRlr3uibJ7b8GGxN1uwLhOGW53rAbzhPicNBohQhdhtv0GK0PLU0jsia22x8pTsqEA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/zz0je9TdHtTwVDKX4DCUniacOWlIQ1DkQwtae0vicgoqIerUdB5ib3iayg8Tj0qN00mk1aVaZhquadAR1lWpEdW5vg/640?wx_fmt=png)

看了今天这期文章，我想大家应该都可以学会了。

![](https://mmbiz.qpic.cn/mmbiz_png/fy5l9ibUUElo1VrmNNvbIPd72k158cia9SaWcp7O0ntH5pGSJ1N0In4agRUpUpHXUW8J1XvqykdIBRVSuiasmcEKQ/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/ZcWNHRSIjJGs9bvuzwV9GxaCvA4ic5qN3mWFg24MxBaxufb0SNIB7ibCiatwxeU5UJPQsk45phWM1ZeNhj6XILkEg/640?wx_fmt=png)

  

  

  

设备：

  

  

  

  

![](https://mmbiz.qpic.cn/mmbiz_png/U1t4cV273bFcfDLY5ErqtmibjRlr3uibJ7b8GGxN1uwLhOGW53rAbzhPicNBohQhdhtv0GK0PLU0jsia22x8pTsqEA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/zz0je9TdHtTwVDKX4DCUniacOWlIQ1DkQwtae0vicgoqIerUdB5ib3iayg8Tj0qN00mk1aVaZhquadAR1lWpEdW5vg/640?wx_fmt=png)

我今天用到的设备有下：

![](https://mmbiz.qpic.cn/mmbiz_png/fy5l9ibUUElo1VrmNNvbIPd72k158cia9SaWcp7O0ntH5pGSJ1N0In4agRUpUpHXUW8J1XvqykdIBRVSuiasmcEKQ/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/ZcWNHRSIjJGs9bvuzwV9GxaCvA4ic5qN3mWFg24MxBaxufb0SNIB7ibCiatwxeU5UJPQsk45phWM1ZeNhj6XILkEg/640?wx_fmt=png)

  

![](https://mmbiz.qpic.cn/mmbiz_png/U1t4cV273bFcfDLY5ErqtmibjRlr3uibJ7b8GGxN1uwLhOGW53rAbzhPicNBohQhdhtv0GK0PLU0jsia22x8pTsqEA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/zz0je9TdHtTwVDKX4DCUniacOWlIQ1DkQwtae0vicgoqIerUdB5ib3iayg8Tj0qN00mk1aVaZhquadAR1lWpEdW5vg/640?wx_fmt=png)

电脑一台、手机一个（小米10S，12+256，当前版本为：MIUI12.5.14 Enhanced 稳定版 Android11）-- 通过Magisk的Boot.img修补的方式刷入了Root管理和权限，已安装BusyBox（与本期无关），未安装Kali Nethunter（重点）

![](https://mmbiz.qpic.cn/mmbiz_png/fy5l9ibUUElo1VrmNNvbIPd72k158cia9SaWcp7O0ntH5pGSJ1N0In4agRUpUpHXUW8J1XvqykdIBRVSuiasmcEKQ/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/ZcWNHRSIjJGs9bvuzwV9GxaCvA4ic5qN3mWFg24MxBaxufb0SNIB7ibCiatwxeU5UJPQsk45phWM1ZeNhj6XILkEg/640?wx_fmt=png)

  

![](https://mmbiz.qpic.cn/mmbiz_png/U1t4cV273bFcfDLY5ErqtmibjRlr3uibJ7b8GGxN1uwLhOGW53rAbzhPicNBohQhdhtv0GK0PLU0jsia22x8pTsqEA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/zz0je9TdHtTwVDKX4DCUniacOWlIQ1DkQwtae0vicgoqIerUdB5ib3iayg8Tj0qN00mk1aVaZhquadAR1lWpEdW5vg/640?wx_fmt=png)

  

![](https://mmbiz.qpic.cn/mmbiz_jpg/WZj2CqDeezXzibh2JxsW0q4V0r3soBEIJnlBJ4V8vEyo346DYY1OLmRptbZA3mtkNGmonH8b7MtqvwiaoBfYjpsg/640?wx_fmt=jpeg)

  

![](https://mmbiz.qpic.cn/mmbiz_png/fy5l9ibUUElo1VrmNNvbIPd72k158cia9SaWcp7O0ntH5pGSJ1N0In4agRUpUpHXUW8J1XvqykdIBRVSuiasmcEKQ/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/ZcWNHRSIjJGs9bvuzwV9GxaCvA4ic5qN3mWFg24MxBaxufb0SNIB7ibCiatwxeU5UJPQsk45phWM1ZeNhj6XILkEg/640?wx_fmt=png)

  

![](https://mmbiz.qpic.cn/mmbiz_png/U1t4cV273bFcfDLY5ErqtmibjRlr3uibJ7b8GGxN1uwLhOGW53rAbzhPicNBohQhdhtv0GK0PLU0jsia22x8pTsqEA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/zz0je9TdHtTwVDKX4DCUniacOWlIQ1DkQwtae0vicgoqIerUdB5ib3iayg8Tj0qN00mk1aVaZhquadAR1lWpEdW5vg/640?wx_fmt=png)

对于我们目前Android 11 、Android 12的设备来讲，在很早之前的安卓上运行的程序可能对我们现在的版本起不到一个兼容。我们目前能想出来的办法就是只有通过Android Studio 重新编译。

![](https://mmbiz.qpic.cn/mmbiz_png/fy5l9ibUUElo1VrmNNvbIPd72k158cia9SaWcp7O0ntH5pGSJ1N0In4agRUpUpHXUW8J1XvqykdIBRVSuiasmcEKQ/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/ZcWNHRSIjJGs9bvuzwV9GxaCvA4ic5qN3mWFg24MxBaxufb0SNIB7ibCiatwxeU5UJPQsk45phWM1ZeNhj6XILkEg/640?wx_fmt=png)

  

![](https://mmbiz.qpic.cn/mmbiz_png/U1t4cV273bFcfDLY5ErqtmibjRlr3uibJ7b8GGxN1uwLhOGW53rAbzhPicNBohQhdhtv0GK0PLU0jsia22x8pTsqEA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/zz0je9TdHtTwVDKX4DCUniacOWlIQ1DkQwtae0vicgoqIerUdB5ib3iayg8Tj0qN00mk1aVaZhquadAR1lWpEdW5vg/640?wx_fmt=png)

比如Rucky这个程序，对我目前的小米10S的安卓11和12安装都不支持，反倒是通过修改build.grable之后编译即可正常安装。（Rucky软件内不让截图，所以暂时不提供截图和使用教程了，大家可以看一下之前的视频。）

![](https://mmbiz.qpic.cn/mmbiz_png/fy5l9ibUUElo1VrmNNvbIPd72k158cia9SaWcp7O0ntH5pGSJ1N0In4agRUpUpHXUW8J1XvqykdIBRVSuiasmcEKQ/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/ZcWNHRSIjJGs9bvuzwV9GxaCvA4ic5qN3mWFg24MxBaxufb0SNIB7ibCiatwxeU5UJPQsk45phWM1ZeNhj6XILkEg/640?wx_fmt=png)

  

![](https://mmbiz.qpic.cn/mmbiz_png/U1t4cV273bFcfDLY5ErqtmibjRlr3uibJ7b8GGxN1uwLhOGW53rAbzhPicNBohQhdhtv0GK0PLU0jsia22x8pTsqEA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/zz0je9TdHtTwVDKX4DCUniacOWlIQ1DkQwtae0vicgoqIerUdB5ib3iayg8Tj0qN00mk1aVaZhquadAR1lWpEdW5vg/640?wx_fmt=png)

  

![](https://mmbiz.qpic.cn/mmbiz_png/WZj2CqDeezXzibh2JxsW0q4V0r3soBEIJ85VPTYHmrVTTudkfpoeI1BEv929XxFo9v67hJicm3Tvke8R60ry8NbA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/fy5l9ibUUElo1VrmNNvbIPd72k158cia9SaWcp7O0ntH5pGSJ1N0In4agRUpUpHXUW8J1XvqykdIBRVSuiasmcEKQ/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/ZcWNHRSIjJGs9bvuzwV9GxaCvA4ic5qN3mWFg24MxBaxufb0SNIB7ibCiatwxeU5UJPQsk45phWM1ZeNhj6XILkEg/640?wx_fmt=png)

  

![](https://mmbiz.qpic.cn/mmbiz_png/U1t4cV273bFcfDLY5ErqtmibjRlr3uibJ7b8GGxN1uwLhOGW53rAbzhPicNBohQhdhtv0GK0PLU0jsia22x8pTsqEA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/zz0je9TdHtTwVDKX4DCUniacOWlIQ1DkQwtae0vicgoqIerUdB5ib3iayg8Tj0qN00mk1aVaZhquadAR1lWpEdW5vg/640?wx_fmt=png)

因为SdkVersion是影响程序运行的一个最大的方向，我们通过修改compileSdkVersion和targetSdkVersion来修改对SDK版本的支持。

  

已经编译好的程序已经发到QQ群里，大家可以直接加群来获取（群文件）。  

  

那么这个时候就需要ROOT我们的手机了，我们只需通过Magisk对boot.img进行修改，再通过fastboot刷入（需要解锁BootLoader）即可（这里不在赘述方式，我们可以通过百度轻松的获取教程，只需要百度Magisk即可。）

![](https://mmbiz.qpic.cn/mmbiz_png/fy5l9ibUUElo1VrmNNvbIPd72k158cia9SaWcp7O0ntH5pGSJ1N0In4agRUpUpHXUW8J1XvqykdIBRVSuiasmcEKQ/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/ZcWNHRSIjJGs9bvuzwV9GxaCvA4ic5qN3mWFg24MxBaxufb0SNIB7ibCiatwxeU5UJPQsk45phWM1ZeNhj6XILkEg/640?wx_fmt=png)

  

  

  

【不刷Nethunter使用】  

  

  

  

  

  

![](https://mmbiz.qpic.cn/mmbiz_png/U1t4cV273bFcfDLY5ErqtmibjRlr3uibJ7b8GGxN1uwLhOGW53rAbzhPicNBohQhdhtv0GK0PLU0jsia22x8pTsqEA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/zz0je9TdHtTwVDKX4DCUniacOWlIQ1DkQwtae0vicgoqIerUdB5ib3iayg8Tj0qN00mk1aVaZhquadAR1lWpEdW5vg/640?wx_fmt=png)

之前介绍了通过Nethunter刷入的方式，我们就可以直接使用。但是我们可以通过一个简单的程序，不通过Nethunter输入的方式，也可以使用。

![](https://mmbiz.qpic.cn/mmbiz_png/fy5l9ibUUElo1VrmNNvbIPd72k158cia9SaWcp7O0ntH5pGSJ1N0In4agRUpUpHXUW8J1XvqykdIBRVSuiasmcEKQ/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/ZcWNHRSIjJGs9bvuzwV9GxaCvA4ic5qN3mWFg24MxBaxufb0SNIB7ibCiatwxeU5UJPQsk45phWM1ZeNhj6XILkEg/640?wx_fmt=png)

  

```
<string >USB Gadget Tool</string>
```

  

![](https://mmbiz.qpic.cn/mmbiz_png/U1t4cV273bFcfDLY5ErqtmibjRlr3uibJ7b8GGxN1uwLhOGW53rAbzhPicNBohQhdhtv0GK0PLU0jsia22x8pTsqEA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/zz0je9TdHtTwVDKX4DCUniacOWlIQ1DkQwtae0vicgoqIerUdB5ib3iayg8Tj0qN00mk1aVaZhquadAR1lWpEdW5vg/640?wx_fmt=png)

是的，我们通过这个叫USB Gadget Tool的程序就可以轻松的启用hid.keyboard和hid.mouse。

![](https://mmbiz.qpic.cn/mmbiz_png/fy5l9ibUUElo1VrmNNvbIPd72k158cia9SaWcp7O0ntH5pGSJ1N0In4agRUpUpHXUW8J1XvqykdIBRVSuiasmcEKQ/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/ZcWNHRSIjJGs9bvuzwV9GxaCvA4ic5qN3mWFg24MxBaxufb0SNIB7ibCiatwxeU5UJPQsk45phWM1ZeNhj6XILkEg/640?wx_fmt=png)

  

![](https://mmbiz.qpic.cn/mmbiz_png/U1t4cV273bFcfDLY5ErqtmibjRlr3uibJ7b8GGxN1uwLhOGW53rAbzhPicNBohQhdhtv0GK0PLU0jsia22x8pTsqEA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/zz0je9TdHtTwVDKX4DCUniacOWlIQ1DkQwtae0vicgoqIerUdB5ib3iayg8Tj0qN00mk1aVaZhquadAR1lWpEdW5vg/640?wx_fmt=png)

使用的视频我已经发布在B站和西瓜视频与我们公众号的视频中了。

可以点击阅读原文查看使用方法！

![](https://mmbiz.qpic.cn/mmbiz_png/fy5l9ibUUElo1VrmNNvbIPd72k158cia9SaWcp7O0ntH5pGSJ1N0In4agRUpUpHXUW8J1XvqykdIBRVSuiasmcEKQ/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/ZcWNHRSIjJGs9bvuzwV9GxaCvA4ic5qN3mWFg24MxBaxufb0SNIB7ibCiatwxeU5UJPQsk45phWM1ZeNhj6XILkEg/640?wx_fmt=png)

  

![](https://mmbiz.qpic.cn/mmbiz_png/WZj2CqDeezXzibh2JxsW0q4V0r3soBEIJmvb5AfSz8gyDpnURo9KUX2EZqEUCxQ0BXv5xnRhtG1FxQpZTlIfMZQ/640?wx_fmt=png)

在帮大家汉化程序，已经构建完成确认可用了

```
public void updateDeviceInfo(MutableLiveData<TreeMap<String, String>> returnDeviceData) {  
  
    String command = "echo KERNEL_VERSION=`(uname -r |cut -d '-' -f1 )` && (gunzip -c /proc/config.gz | grep -i configfs | sed 's/# //; s/ is not set/=NOT_SET/')\n";  
    this.exec(command, response -> {  
        Boolean status = (Boolean) response.first;  
        String result = (String) response.second;  
        BufferedReader bufReader = new BufferedReader(new StringReader(result));  
        TreeMap<String, String> deviceData = new TreeMap<>(new DeviceInfoMapComparator());  
        try {  
            String line;  
            while ((line = bufReader.readLine()) != null) {  
                String[] parts = line.split("=",2);  
                deviceData.put(parts[0].toLowerCase(), parts[1]);  
            }  
        }  
        catch (Exception e) {  
            Log.d("root", e.getMessage());  
            e.printStackTrace();  
        }  
  
        returnDeviceData.setValue(deviceData);  
    });  
}
```

基本上可以得知，这个程序是通过root后执行命令，修改系统的底层来达到我们想要的效果，汉化版也会尽快给大家测试、发布！敬请关注我们的QQ群~~！

  

工具链接：https://pan.baidu.com/s/1I7cX_DengX5A_9FGnVrkbw?pwd=ZXSC

  

 ![](http://mmbiz.qpic.cn/mmbiz_png/pPVXCo8Wd8DHexWkmfu2sWvFlJjB3HicIsbaxyHrHh7cLgaFw6hmxkNLW2C11PibcqnF4n1IRLxRLribqfmgFKtvQ/0?wx_fmt=png) ** 渗透安全团队 ** 每个人都有迷茫和快速成长的时期。做技术需要静下心来，两耳不闻窗外事，一心只读圣贤书。一段时间以后就发现窗外那些吵杂的声音早已经没法触动你的心思，这时候就谁也挡不住你成长了。 42篇原创内容   公众号

![](https://mmbiz.qpic.cn/mmbiz_png/ndicuTO22p6ibN1yF91ZicoggaJJZX3vQ77Vhx81O5GRyfuQoBRjpaUyLOErsSo8PwNYlT1XzZ6fbwQuXBRKf4j3Q/640?wx_fmt=png)  

  

**推荐阅读**

  

[**干货 | CS绕过vultr特征检测修改算法**](http://mp.weixin.qq.com/s?__biz=MzkxNDAyNTY2NA==&mid=2247486980&idx=1&sn=6d65ae57f03bd32fddb37d7055e5ac8e&chksm=c175f3abf6027abdad06009b2fe964e79f2ca60701ae806b451c18845c656c12b9948670dcbc&scene=21#wechat_redirect)

  

[**漏洞复现** **| GitLab未授权RCE(CVE-2021-22205)**](http://mp.weixin.qq.com/s?__biz=MzkxNDAyNTY2NA==&mid=2247486834&idx=1&sn=a88a0afdbfbdf043e4210aa76dada233&chksm=c175f0ddf60279cb439452c995b0bf2371925babfc15f239b0f2c2f15d59205eb373f7947f78&scene=21#wechat_redirect)

  

**[漏洞复现 | Apache APISIX Dashboard-RCE工具](http://mp.weixin.qq.com/s?__biz=MzkxNDAyNTY2NA==&mid=2247487747&idx=1&sn=e928c89af89c51c6600e8496faf075f3&chksm=c175ecacf60265baed4b22ef817652fab396fd1e187d9e2ddbf96c046244b36dcc9c1750c823&scene=21#wechat_redirect)**

  

  

* * *

  

好文分享收藏赞一下最美点在看哦

![](https://mmbiz.qpic.cn/mmbiz_gif/Ax5Bp6214YNMtf0RNv4VQ0V1bg9SLBsGR5p3Olv8OSO4thBdpswMMZB8mHmWKdE9raicHrIbHZQRO5xxq1RZblA/640?wx_fmt=gif)

点击下方“阅读原文”进入视频