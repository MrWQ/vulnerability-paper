> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/lMvmaeu97xg3skSB-oxJzA)

**免责声明**

请勿利用文章内的相关技术从事非法测试，由于传播、利用此文所提供的信息而造成的任何直接或者间接的后果及损失，均由使用者本人负责，作者不为此承担任何责任。工具来自网络，安全性自测，如有侵权请联系删除。

  

**0x01 工具介绍**

该插件没有什么技术含量，本质上利用的 ps2exe.ps1 脚本编译为 exe，只是不想在命令行里操作，将其写为 cna 脚本，方便直接快速生成免杀的可执行文件。且只有 50KB，目前仅支持 exe 文件格式。

**0x02 安装与使用**

1、在导入 cna 脚本之前，只需要修改当前路径 $path 所在的真实路径即可。

![](https://mmbiz.qpic.cn/mmbiz_png/8H1dCzib3UibtRBuJgaric2zgCIGJ0ds6aoLBiaAYOzSFalqL3ajPqO3JC5ibBBXGiacNxiatWH8uFrBMFcSpia7QB1DDg/640?wx_fmt=png)

2、首先选择 Cobalt Strike 生成后门文件，为 bin 格式。  

![](https://mmbiz.qpic.cn/mmbiz_png/8H1dCzib3UibtRBuJgaric2zgCIGJ0ds6aoXl58ybMbXxzrNPBRYehOTrQU6P7QGSpDdnRZr3YojBALibA0lQ0WHfg/640?wx_fmt=png)

3、选择刚才生成的 bin 文件、ico 图标，以及 powershell 的版本，点击即可生成 exe 可执行文件  

![](https://mmbiz.qpic.cn/mmbiz_png/8H1dCzib3UibtRBuJgaric2zgCIGJ0ds6aovCwlHgnlQXfm2HRPRY6s74uicTelXFtITSuZTm2Xrwlicaqfqp9GFibMw/640?wx_fmt=png)

4、使用 powershell 4.0 上线 server 2012

![](https://mmbiz.qpic.cn/mmbiz_png/8H1dCzib3UibtRBuJgaric2zgCIGJ0ds6aocjIkJcLoxNqicQ65eFvnMhZgcb8cBWw1ud3mcDPr585VLgjduJB0Y2w/640?wx_fmt=png)

5、使用 powershell 2.0 上线 server 2008

![](https://mmbiz.qpic.cn/mmbiz_png/8H1dCzib3UibtRBuJgaric2zgCIGJ0ds6aolYv8gdbaIGfWX0LvywWkrsDMjbgBktaV84J5m5ktXneCMVZlD9gjGw/640?wx_fmt=png)6、如果在 webshell 触发该可执行文件，需要 start 命令

![](https://mmbiz.qpic.cn/mmbiz_png/8H1dCzib3UibtRBuJgaric2zgCIGJ0ds6aolx0fNobIKlYN81QEH6EicMjnANtVIGkr1HhwQ8a03n2tpGhviah8ZhSw/640?wx_fmt=png)

**0x03 下载地址  
**

**  
点击下方名片进入公众号**

**回复关键字【**_**bypassAV**_**】获取******下载链接****