> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/6KBnUCOsbLfOo6J2l1iDaQ)

这两年，eBPF 一直很火，是各大会议上的必讲主题。那么，作为一项革命性的技术，eBPF 的 “魔力” 到底在哪里？为什么无论是故障诊断、网络优化，还是安全控制、性能监控，eBPF 都能发挥这么大的作用？

说到这，就不能不提操作系统内核。一般来说，我们编写的应用程序需要通过系统调用接口，来请求内核帮它做一些事情。**而使用 eBPF ，我们就能在不更改内核代码的前提下，实时获取和修改操作系统的行为。**你看，这个神奇的技术，重新定义了我们思考操作系统的方式。

比如，如果我们想排查网络问题，在没有 eBPF 的时候，一般都是借助 tcpdump 了解网络层面。但等到排查网络丢包等类似问题，会发现 tcpdump 根本不够用，只知道网络上传输了哪些包，想再深一步，知道为什么这么传输，就无能为力了。

但是，有了 eBPF ，以及 BCC 这个 eBPF 工具集的助力，这个问题就变得非常容易解决了，处理效率也会大大提升。你可以看看这张图，感受下 BCC 的强大：

![](https://mmbiz.qpic.cn/mmbiz_png/xabgupsPLbTBgh3ciczT3lUwHkK1hW9GJnFb7ibXTUcBicQIEIFWVlI86ziaomIMUZDvK2WdHRWB4cLt2qViaJxJEfQ/640?wx_fmt=png)

看到这儿，是不是对学习 eBPF 迫不及待了？可惜我搜了一圈，几乎没怎么查到系统的资料，直接啃源码又非常劝退，所以该怎么快速、系统、高效地掌握 eBPF 这个神奇的新技术呢？

其实，理解原理 + 大量的实践，就是学习 eBPF 最好的方式。总结起来，就三大步骤：理清 eBPF 的**基本原理**，掌握 eBPF 的**运行机制**和**核心的编程接口**，再结合大量的**实践技巧**。这三点做到了，就能用好 eBPF ，给实际工作增速提效。

![](https://mmbiz.qpic.cn/mmbiz_png/xabgupsPLbTBgh3ciczT3lUwHkK1hW9GJic0GPp93P9mH0t6oLZv9WMyFeNubGtXZkz7s8w91wTkmz7PEFIJUwrA/640?wx_fmt=png)

这个学习思路和知识点全景图，均出自倪朋飞，他是资深 Linux 专家，云计算老兵，同时也是 Kubernetes 项目维护者。他曾任职于盛大云和腾讯，一直从事云计算领域，特别专注于 IaaS 和容器技术，目前主要负责开源容器编排系统 Kubernetes 在 Azure 的落地实践。

去年，我追完了他的专栏《 Linux 性能优化实战》，已经 7W 多人订阅了。分享一个小道消息，原本说一共 42 讲，结果因为朋飞被评论区的热烈给感染了，最后直接给扩充到了 **60** 讲，这波值得鼓个掌。

当他推出的第二季《 **eBPF 核心技术与实战**》，内容同样硬核。最关键的是，他还采用了一个全新的模式，会随着技术变革持续更新 4 年，买一个专栏相当于包下了未来 4 年关于的 eBPF 最新消息和一手分析，过于划算了。

![](https://mmbiz.qpic.cn/mmbiz_jpg/PicMqQs6T6MPYjQ1TP4dCcu0Via6sopQMnIYDWIrCnuXCdcLc81fdcKhBxgXJGLkV2BnG77DibOheTdpePhrSRkHg/640?wx_fmt=jpeg)

上面说过了，这个专栏将**按时间分成两大阶段：常规更新阶段 + 动态更新阶段**，紧跟技术变革，持续输出最新内容。

![](https://mmbiz.qpic.cn/mmbiz_png/xabgupsPLbTBgh3ciczT3lUwHkK1hW9GJ3Hibw7qo3ooSKAHrXmcuduws0d099mTYcQy714D1Fb9oMLtxxkEr0Mg/640?wx_fmt=png) 

第一阶段以掌握 eBPF 运行原理，编写自己的 eBPF 程序和观测内核运行状态为主。它们是理解 eBPF 机制、把握 eBPF 进化方向的抓手。朋飞老师将这个阶段的内容分成学习**准备篇、基础入门篇、实战进阶篇三个模块**，具体如下：

*   **学习准备篇**，这部分主要介绍 eBPF 的发展历程、工作原理以及主要的应用场景。同时，也会带你梳理 eBPF 的技术脉络、学习路线和技巧。
    
*   **基础入门篇**，主要介绍 eBPF 的基本原理、编程接口以及详细原理讲解，包含如何搭建 eBPF 的开发环境、如何用好 BCC 并在它的基础上扩展自己的 eBPF 程序等等。**对于 eBPF 的详细运行原理，比如 eBPF 如何在内核中运行，并与内核进行交互，老师也会进行深入浅出的讲解。**
    
*   **实战进阶篇**，在了解 eBPF 的基本使用方法后，通过案例，带你实践 eBPF 的主要应用场景，涉及如何使用 eBPF 跟踪内核状态、进程状态、排查网络问题、增强容器安全和如何开发一个 eBPF 负载均衡程序。
    

**第二个阶段是一个动态的过程——“技术雷达篇”。**在第一阶段结束后的 4 年里，每个季度都会更新一篇文章，每年末还会出一篇年终总结，带你持续跟踪内核和开源社区的最新进展和应用案例。

具体每节课的内容，来看目录。

![](https://mmbiz.qpic.cn/mmbiz_jpg/SIH6ibLdtvv9mSPE9ZvTGUyy1g7hktyXQLcDpNbf3Hw1BOexTtVndPPjpeBcWOU9v6vVQfMfzNwILl38cBdxtBg/640?wx_fmt=jpeg) 

eBPF 是一个快速发展的技术，也是 Linux 内核社区最活跃和变更最频繁的模块之一，很期待能和朋飞一起见证未来几年中 eBPF 技术的快速更新，希望你也能加入我们，共同探索技术发展的更多可能性。

争取到了 **¥40 专属粉丝福利**：

限时秒杀立省 ¥39

到手仅 ¥90，原价 ¥129

![](https://mmbiz.qpic.cn/mmbiz_jpg/PicMqQs6T6MPYjQ1TP4dCcu0Via6sopQMnIYDWIrCnuXCdcLc81fdcKhBxgXJGLkV2BnG77DibOheTdpePhrSRkHg/640?wx_fmt=jpeg)

诚邀你在接下来的时间里，跟朋飞一起走入 eBPF 的奇妙世界。这门课可以帮你掌握 eBPF 的基础原理，并且学会如何把它们真正落地到你的产品之中，解决真实生产环境中的各种问题。同时，我们还会一起见证未来几年中 eBPF 技术的快速更新，共同探索技术发展的更多可能。