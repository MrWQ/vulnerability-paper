> æœ¬æ–‡ç”± [ç®€æ‚¦ SimpRead](http://ksria.com/simpread/) è½¬ç ï¼Œ åŸæ–‡åœ°å€ [mp.weixin.qq.com](https://mp.weixin.qq.com/s/T6o4fXYLFiHACYiPA8P2CQ)

**å…è´£å£°æ˜**

ç”±äºä¼ æ’­ã€åˆ©ç”¨æœ¬å…¬ä¼—å·ç‹ç‹¸è¯´å®‰å…¨æ‰€æä¾›çš„ä¿¡æ¯è€Œé€ æˆçš„ä»»ä½•ç›´æ¥æˆ–è€…é—´æ¥çš„åæœåŠæŸå¤±ï¼Œå‡ç”±ä½¿ç”¨è€…æœ¬äººè´Ÿè´£ï¼Œå…¬ä¼—å·ç‹ç‹¸è¯´å®‰å…¨åŠä½œè€…ä¸ä¸º**æ­¤**æ‰¿æ‹…ä»»ä½•è´£ä»»ï¼Œä¸€æ—¦é€ æˆåæœè¯·è‡ªè¡Œæ‰¿æ‹…ï¼å¦‚æœ‰ä¾µæƒçƒ¦è¯·å‘ŠçŸ¥ï¼Œæˆ‘ä»¬ä¼šç«‹å³åˆ é™¤å¹¶è‡´æ­‰ï¼Œè°¢è°¢ï¼

### **0x01 å‰è¨€**

æœ€è¿‘åœ¨è°ƒç ”å›½å†…å¤–å¼€æºçš„å®¹å™¨å®‰å…¨ç›¸å…³å·¥å…·ï¼Œå‘ç°äº†å¾ˆå¤šä¼˜ç§€çš„é¡¹ç›®ï¼Œå›½å¤–çš„é¡¹ç›®æœ‰ trivyã€anchor ç­‰ï¼Œåœ¨æ¼æ´æ£€æµ‹è¿™å—åšçš„å¾ˆå‡ºè‰²äº†ï¼›è€Œå›½å†…çš„é¡¹ç›®ä¸å¤šï¼Œå…³æ³¨éæ¼æ´æ£€æµ‹çš„å·¥å…·æ›´å°‘ï¼Œæ‰€ä»¥å¯¹ä¸€æ¬¾åä¸ºé—®è„‰çš„å¼€æºå®¹å™¨å®‰å…¨å·¥å…·é›†æ¯”è¾ƒæ„Ÿå…´è¶£ï¼Œé‚è®°å½•åˆæ¬¡ä½¿ç”¨çš„è¿‡ç¨‹ã€‚

### **0x02Â ç”¨å®¿ä¸»ç¨‹åºè¿›è¡Œæœ¬åœ°é•œåƒä¸­äº”ç§å¨èƒæ£€æµ‹**

*   `./parallel-container-run.sh scan-host -h`ï¼ŒæŸ¥çœ‹æ‰«ææœ¬åœ°é•œåƒå‘½ä»¤å‚æ•°
    

![](https://mmbiz.qpic.cn/mmbiz_png/pH5fZ5lvwwYlOK38fvygML23avrIagwmgmtGPPuyFwurq4Fu0F47F69vPaOSmPY1ibTypRFvqTHp6Ur4YbYJ5fA/640?wx_fmt=png)

*   `./parallel-container-run.sh scan-host`ï¼Œä½¿ç”¨æ‰€æœ‰å·²è¯†åˆ«æ’ä»¶æ‰«ææœ¬åœ°æ‰€æœ‰é•œåƒ
    

![](https://mmbiz.qpic.cn/mmbiz_png/pH5fZ5lvwwYlOK38fvygML23avrIagwmq8JZbDd2TxYAibvsJvicaSNIARibmOIkribFTSyYF10bYkBJlKticr36sew/640?wx_fmt=png)

å‘ç°å…¶ä¸­ä¸€ä¸ªé«˜å±çš„æ•æ„Ÿä¿¡æ¯ï¼Œè¾“å‡ºæ£€æµ‹è¯¦æƒ…

![](https://mmbiz.qpic.cn/mmbiz_png/pH5fZ5lvwwYlOK38fvygML23avrIagwm9DQHjzibSUbOeaPrh0ZULzYbC7IpIpcCaCBq7cciaiaMVqMHhsticiaYiczA/640?wx_fmt=png)

*   æŸ¥çœ‹å½“å‰æ’ä»¶åˆ—è¡¨Â `./parallel-container-run.sh list plugin`
    

![](https://mmbiz.qpic.cn/mmbiz_png/pH5fZ5lvwwYlOK38fvygML23avrIagwmEXuauVO3JGOkwmicqSGoicJzRa8DpwKicKf5s1jvxmGnFb2mwtZGL8jOQ/640?wx_fmt=png)

*   `./parallel-container-run.sh scan-host -g "**/veinmind-weakpass"`ï¼ŒæŒ‡å®šåªä½¿ç”¨å¼±å£ä»¤æ’ä»¶æ‰«æ
    

![](https://mmbiz.qpic.cn/mmbiz_png/pH5fZ5lvwwYlOK38fvygML23avrIagwmItmO4lXmjXTX0Tb53vJ0bmLoeFRpM9gsVvnu1HqFxVdQZQRdekEghg/640?wx_fmt=png)

å‘ç°é«˜å±çš„å¼±å£ä»¤é£é™©ï¼Œè¾“å‡ºæ£€æµ‹è¯¦æƒ…

![](https://mmbiz.qpic.cn/mmbiz_png/pH5fZ5lvwwYlOK38fvygML23avrIagwmFeEaR2gn96gGiaLLOcUg9GRsDOg44fmMVH7qBLZl2sLx5zweFFS5uKg/640?wx_fmt=png)

### **0x02Â ä½¿ç”¨å®¿ä¸»ç¨‹åºè¿›è¡Œä»“åº“é•œåƒçš„æ£€æµ‹**

*   ./parallel-container-run.sh scan-registry -h ï¼ŒæŸ¥çœ‹æ‰«æè¿œç¨‹ä»“åº“å‘½ä»¤å‚æ•°
    

![](https://mmbiz.qpic.cn/mmbiz_png/pH5fZ5lvwwYlOK38fvygML23avrIagwmabhMDV7FpaG3T59PHqSD1HYicsXY8f4XF6XuWya4icibF62r0asvr5QvA/640?wx_fmt=png)

*   ./parallel-container-run.sh scan-registry oodo ï¼Œè¯•è¯•æ‰«æ docker hub å…¬å¼€ä»“åº“ä¸­çš„ oodo é•œåƒ
    

![](https://mmbiz.qpic.cn/mmbiz_png/pH5fZ5lvwwYlOK38fvygML23avrIagwmh6NzOQNu7O4ticPjLHrp1eNUIZ8e0omu4K1cReE98YHQ13oSLPyLA0g/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/pH5fZ5lvwwYlOK38fvygML23avrIagwmQiao7mEGyE8Azebec5S1JCeZWQKTleMiaicM2R2V4ZCdT28z2PLVuMxsg/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/pH5fZ5lvwwYlOK38fvygML23avrIagwmX0w3Ih21JKb80XEzQDLqUeVrtcw4DibIJLA3PS0eictZ0DaBBfHH7pHA/640?wx_fmt=png)

### **0x03Â Demo**

![](https://mmbiz.qpic.cn/mmbiz_gif/pH5fZ5lvwwYlOK38fvygML23avrIagwm47LgThf0JibBOV4qad89MPUzBs4dvthhZrXVzXSCeBiaVECqQQRmk6yA/640?wx_fmt=gif)

### **0x04Â å¿«é€Ÿå¼€å§‹**

### 1. ç¡®ä¿æœºå™¨ä¸Šæ­£ç¡®å®‰è£… docker

```
docker info
```

```
docker pull veinmind/veinmind-runner:latest
```

### 2. å®‰è£…Â veinmind-runnerÂ é•œåƒ

```
wget -q https://download.veinmind.tech/scripts/veinmind-runner-parallel-container-run.sh -O run.sh && chmod +x run.sh
```

```
./run.sh scan-host
```

### 3. ä¸‹è½½Â veinmind-runnerÂ å¹³è¡Œå®¹å™¨å¯åŠ¨è„šæœ¬

```
wget -q https://download.veinmind.tech/scripts/veinmind-runner-parallel-container-run.sh -O run.sh && chmod +x run.sh
```

### 4. å¿«é€Ÿæ‰«ææœ¬åœ°é•œåƒ

```
./run.sh scan-host
```

ğŸ”¨Â å·¥å…·åˆ—è¡¨
-------

<table width="NaN"><thead><tr><th>å·¥å…·</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>veinmind-runner</td><td>æ‰«æå·¥å…·è¿è¡Œå®¿ä¸»</td></tr><tr><td>veinmind-malicious</td><td>æ‰«æé•œåƒä¸­çš„æ¶æ„æ–‡ä»¶</td></tr><tr><td>veinmind-weakpass</td><td>æ‰«æé•œåƒä¸­çš„å¼±å£ä»¤</td></tr><tr><td>veinmind-sensitive</td><td>æ‰«æé•œåƒä¸­çš„æ•æ„Ÿä¿¡æ¯</td></tr><tr><td>veinmind-backdoor</td><td>æ‰«æé•œåƒä¸­çš„åé—¨</td></tr><tr><td>veinmind-history</td><td>æ‰«æé•œåƒä¸­çš„å¼‚å¸¸å†å²å‘½ä»¤</td></tr><tr><td>veinmind-asset</td><td>æ‰«æé•œåƒä¸­çš„èµ„äº§ä¿¡æ¯</td></tr><tr><td>veinmind-webshell</td><td>æ‰«æé•œåƒä¸­çš„ Webshell</td></tr></tbody></table>

PS: ç›®å‰æ‰€æœ‰å·¥å…·å‡å·²æ”¯æŒå¹³è¡Œå®¹å™¨çš„æ–¹å¼è¿è¡Œ

â˜ï¸Â äº‘åŸç”Ÿè®¾æ–½å…¼å®¹æ€§
-----------

<table width="NaN"><thead><tr><th>åç§°</th><th>ç±»åˆ«</th><th>æ˜¯å¦å…¼å®¹</th></tr></thead><tbody><tr><td>Jenkins</td><td>CI/CD</td><td><g-emoji alias="heavy_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png">âœ”ï¸</g-emoji></td></tr><tr><td>Gitlab CI</td><td>CI/CD</td><td><g-emoji alias="heavy_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png">âœ”ï¸</g-emoji></td></tr><tr><td>Github Action</td><td>CI/CD</td><td><g-emoji alias="heavy_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png">âœ”ï¸</g-emoji></td></tr><tr><td>DockerHub</td><td>é•œåƒä»“åº“</td><td><g-emoji alias="heavy_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png">âœ”ï¸</g-emoji></td></tr><tr><td>Docker Registry</td><td>é•œåƒä»“åº“</td><td><g-emoji alias="heavy_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png">âœ”ï¸</g-emoji></td></tr><tr><td>Harbor</td><td>é•œåƒä»“åº“</td><td><g-emoji alias="heavy_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png">âœ”ï¸</g-emoji></td></tr><tr><td>Docker</td><td>å®¹å™¨è¿è¡Œæ—¶</td><td><g-emoji alias="heavy_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png">âœ”ï¸</g-emoji></td></tr><tr><td>Containerd</td><td>å®¹å™¨è¿è¡Œæ—¶</td><td><g-emoji alias="heavy_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png">âœ”ï¸</g-emoji></td></tr></tbody></table>

### **0x05 æ€»ç»“**

veinmind-tools æ˜¯ç”±é•¿äº­ç§‘æŠ€è‡ªç ”ï¼ŒåŸºäºÂ veinmind-sdkÂ æ‰“é€ çš„å®¹å™¨å®‰å…¨å·¥å…·é›†

veinmind, ä¸­æ–‡åä¸ºé—®è„‰ï¼Œå¯“æ„Â å®¹å™¨å®‰å…¨è§ç­‹è„‰ï¼Œæœ›é—»é—®åˆ‡æ²»ç—…å®³ã€‚Â æ—¨åœ¨æˆä¸ºäº‘åŸç”Ÿé¢†åŸŸçš„ä¸€å‰‚è‰¯æ–¹

![](https://mmbiz.qpic.cn/mmbiz_png/pH5fZ5lvwwYlOK38fvygML23avrIagwmlIwkGA1XywEuibHCvxCoVXS4qzibFibheGTZxrungicNwryvFZOB9I8cmg/640?wx_fmt=png)

é—®è„‰å®˜æ–¹ç½‘ç«™ï¼šhttps://veinmind.chaitin.com/

![](https://mmbiz.qpic.cn/mmbiz_png/pH5fZ5lvwwYlOK38fvygML23avrIagwmRxcFqI7USGEDQAGnsOwPlz79RfjPNZFw8R6RkZOIM1t6MsdrGGmL6g/640?wx_fmt=png)

é—®è„‰å®˜æ–¹æ–‡æ¡£ï¼šhttps://veinmind.chaitin.com/docs/  

![](https://mmbiz.qpic.cn/mmbiz_png/pH5fZ5lvwwYlOK38fvygML23avrIagwmKu0AkdBdSKxdrYiaq2PnCmicHia5g2YucpOC1bHCKx2O3M5vjW5l49uUQ/640?wx_fmt=png)

é—®è„‰é¡¹ç›®åœ°å€ï¼š**https://github.com/chaitin/veinmind-tools**

ç®€å•ä½¿ç”¨ä¸‹æ¥ï¼Œé—®è„‰æ˜¯å¾ˆå®¹æ˜“ä¸Šæ‰‹çš„ï¼Œå‡ ä¹æ²¡æœ‰ç†è§£æˆæœ¬ã€‚æ‰«ææœ¬åœ°é•œåƒæ—¶æ£€æµ‹å‡ºäº†å¥½å‡ ä¸ªæ•æ„Ÿä¿¡æ¯å’Œå¼±å£ä»¤ï¼Œçœ‹ä»‹ç»å®˜æ–¹è¿˜åšäº†ä¸€ä¸ªå®¿ä¸»ï¼Œå¯ä»¥ä¸€ä¸ªå·¥å…·è°ƒç”¨å…¶ä»–æ£€æµ‹æ’ä»¶ï¼Œè¿˜å¯ä»¥è‡ªå·±æ ¹æ®æ’ä»¶è§„èŒƒå¼€å‘ç‰¹å®šéœ€æ±‚çš„æ’ä»¶è¿›è¡Œè°ƒç”¨ï¼Œè¿˜æ˜¯æ¯”è¾ƒé è°±çš„ï¼Œå¸Œæœ›å®˜æ–¹æŒç»­å¢åŠ å·¥å…·çš„æ£€æµ‹è§„åˆ™ï¼Œè°ƒç ”æ—¶æçš„ issue é›†æˆ Jenkins å¾ˆå¿«å°±å®ç°äº†ï¼Œçœ‹æ¥æ˜¯ä¸“äººç»´æŠ¤ï¼Œé¡¹ç›®æ´»è·ƒåº¦è›®é«˜çš„ã€‚

æœ¬æ–‡ç« ä¸»è¦æ¥æºäº freebufï¼Œéƒ¨åˆ†å†…å®¹è‡ªå·±æ•´ç†æ€»ç»“ã€‚  

https://www.freebuf.com/sectool/339319.html