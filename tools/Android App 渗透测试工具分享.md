<meta name="referrer" content="no-referrer"/>
> æœ¬æ–‡ç”± [ç®€æ‚¦ SimpRead](http://ksria.com/simpread/) è½¬ç ï¼Œ åŸæ–‡åœ°å€ [mp.weixin.qq.com](https://mp.weixin.qq.com/s/jkr17KSt2Bwqk9YpA5w7Bw)

drozer ç®€ä»‹
---------

drozerï¼ˆä»¥å‰ç§°ä¸º Mercuryï¼‰æ˜¯ä¸€æ¬¾ Android å®‰å…¨æµ‹è¯•æ¡†æ¶ã€‚

drozer å…è®¸æ‚¨é€šè¿‡æ‰¿æ‹…åº”ç”¨ç¨‹åºçš„è§’è‰²å¹¶ä¸ Dalvik VMï¼Œå…¶ä»–åº”ç”¨ç¨‹åºçš„ IPC ç«¯ç‚¹å’Œåº•å±‚æ“ä½œç³»ç»Ÿè¿›è¡Œäº¤äº’æ¥æœç´¢åº”ç”¨ç¨‹åºå’Œè®¾å¤‡ä¸­çš„å®‰å…¨æ¼æ´ã€‚

drozer æä¾›å·¥å…·æ¥å¸®åŠ©æ‚¨ä½¿ç”¨ï¼Œå…±äº«å’Œç†è§£å…¬å…± Android æ¼æ´ã€‚å®ƒå¯ä»¥å¸®åŠ©æ‚¨é€šè¿‡å¼€å‘æˆ–ç¤¾ä¼šå·¥ç¨‹å°† drozer Agent éƒ¨ç½²åˆ°è®¾å¤‡ã€‚ä½¿ç”¨ weaselï¼ˆMWR çš„é«˜çº§å¼€å‘è´Ÿè½½ï¼‰drozer èƒ½å¤Ÿé€šè¿‡å®‰è£…å®Œæ•´ä»£ç†ï¼Œå°†æœ‰é™ä»£ç†æ³¨å…¥æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æˆ–è¿æ¥åå‘ shell ä»¥å……å½“è¿œç¨‹è®¿é—®å·¥å…·ï¼ˆRATï¼‰æ¥æœ€å¤§åŒ–å…¶å¯ç”¨æƒé™ã€‚

é¡¹ç›®åœ°å€ï¼šhttps://github.com/mwrlabs/drozer

Mac å®‰è£… drozer
-------------

1. å®‰è£… Python3.8
---------------

https://blog.csdn.net/WANGJUNAIJIAO/article/details/134661910

ä½œè€…çš„æ˜¯ Python 3.8.17

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNm6H6Uy7DPc19WLdMZR4MUhbgouT65rcus5NibTDkhnPbYrs4WVR2NGrEID1TNyZ5UZiafzZtWMibNA/640?wx_fmt=png&from=appmsg)

2. å®‰è£… Protobuf 2.6 or greater

```
sudo pip install protobuf

```

3. å®‰è£… Pyopenssl 16.2 or greater

```
pipÂ installÂ pyopenssl==24.0.0Â 

```

4. å®‰è£… Twisted 10.2 or greater

```
sudo pip install twisted

```

5. å®‰è£… JDK 1.7

è¿™é‡Œæˆ‘å®‰è£…çš„æ˜¯ JDK 1.8ï¼Œæœ€åä¹Ÿå®‰è£…æˆåŠŸäº†ã€‚

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNm6H6Uy7DPc19WLdMZR4MUK0tFkjsSHIserpjwH4N9rOrBQfcdgJV9fQicibVZX6PB52yCJEaGoNBg/640?wx_fmt=png&from=appmsg)

6. å®‰è£… Python çš„ service_identity æ¨¡å—ï¼ˆä¸å®‰è£…çš„è¯åé¢è¿è¡Œ drozer æ—¶æ€»ä¼šæ˜¾ç¤ºè­¦å‘Šï¼‰

```
sudo pip install service_identity

```

7. å®‰è£… adbï¼ˆAndroid Debug Bridgeï¼‰

å¯ä»¥å» https://developer.android.com/studio/releases/platform-tools ä¸‹è½½ç›¸åº”å¹³å°ä¸Šçš„å®‰è£…åŒ…ï¼Œè§£å‹åé…ç½®ä¸‹ç¯å¢ƒå˜é‡å³å¯ï¼Œè¿™é‡Œä»…æ¼”ç¤º Mac ä¸‹çš„å®‰è£…æ–¹å¼ï¼š

å®‰è£… homebrewï¼ˆå·²å®‰è£…çš„è¯å¯è·³è¿‡ï¼‰

```
rubyÂ -eÂ "$(curlÂ -fsSLÂ https://raw.githubusercontent.com/Homebrew/install/master/install)"

```

å®‰è£… adb

```
brew install android-platform-tools

```

æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ

```
adb devices

```

å¦‚æœä¸æŠ¥é”™å°±è¯´æ˜å®‰è£…æˆåŠŸå•¦ã€‚

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNm6H6Uy7DPc19WLdMZR4MUshCmWiaEZQk7z4NwCqibicicrUib1p1HnmuQLcUxMc5Wz9J9aaiaia9iaiaCBnQ/640?wx_fmt=png&from=appmsg)

8. å®‰è£… drozer

åˆ° https://github.com/WithSecureLabs/drozer/releases/Â ä¸‹è½½ç›¸åº”å¹³å°çš„å®‰è£…åŒ…ï¼š

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNm6H6Uy7DPc19WLdMZR4MU81OCZ0QCQguibcV6Mg0mOXbCTBWwff9FIdVQyOudk899Jm6wvicXUabA/640?wx_fmt=png&from=appmsg)

```
sudoÂ pythonÂ -mÂ pipÂ installÂ /Users/xiaobai/Downloads/drozer-3.0.2-py3-none-any.whl

```

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNm6H6Uy7DPc19WLdMZR4MUJtUqgbLKEIELmIVr2dz1GO0eYxeMIKNNtZdpuz19mM184TfuEqNibeg/640?wx_fmt=png&from=appmsg)

å®‰è£…æˆåŠŸåï¼Œæ‰§è¡Œ drozer å‘½ä»¤åè¾“å‡ºå¦‚ä¸‹ï¼š

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNm6H6Uy7DPc19WLdMZR4MU5icT2MVUBvbIoocr763NYtibr3WUCnquPDgomia0AO6wSexwSJ83JNftA/640?wx_fmt=png&from=appmsg)

Windows å’Œ Linux å¹³å°ä¸Šçš„å®‰è£…å¤§ä½“ä¸Šç±»ä¼¼ï¼Œå°±ä¸ä¸€ä¸€æµ‹è¯•äº†ã€‚

å®¢æˆ·ç«¯å®‰è£…

åŒæ ·åˆ°ï¼šhttps://github.com/WithSecureLabs/drozer-agent/releases/Â ä¸‹è½½å®¢æˆ·ç«¯ï¼Œä¹Ÿå°±æ˜¯ drozerï¼ˆAgent .apk onlyï¼‰, ç„¶åå®‰è£…åˆ°æ‰‹æœºæˆ–è€…æ¨¡æ‹Ÿå™¨ä¸Šå°±å¥½ã€‚

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNm6H6Uy7DPc19WLdMZR4MUbhZhFeciaDicccBaGbFHnrFKKHmNIC44AqHnC34ibXdnuYv3uyNSlqicrA/640?wx_fmt=png&from=appmsg)

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNm6H6Uy7DPc19WLdMZR4MUMJfJVQsBsbDwxzocwQ9RVEJiab9MpVPlsr2OsCAm6hRtGomZCicLiapibw/640?wx_fmt=png&from=appmsg)

ä½¿ç”¨

### ä½¿ç”¨ Android æ¨¡æ‹Ÿå™¨ï¼š

å¦‚æœä½¿ç”¨ Android æ¨¡æ‹Ÿå™¨ï¼Œåˆ™éœ€è¦è®¾ç½®åˆé€‚çš„ç«¯å£ï¼Œä»¥ä¾¿ PC å¯ä»¥è¿æ¥åˆ°æ¨¡æ‹Ÿå™¨å†…éƒ¨æˆ–è®¾å¤‡ä¸Šçš„ä»£ç†æ‰“å¼€çš„ TCP å¥—æ¥å­—ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œdrozer ä½¿ç”¨ç«¯å£ 31415:

åˆ—å‡ºæ‰€æœ‰è®¾å¤‡ï¼š

```
adb devices

```

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNm6H6Uy7DPc19WLdMZR4MUkHoej7aAMCVse2pPx4ltklWV7VC2xRfMiakibN17eSZgiauUO94Swo6iaw/640?wx_fmt=png&from=appmsg)

æ¥ç€æ‰§è¡Œï¼š

```
adbÂ forwardÂ tcp:31415Â tcp:31415Â Â Â Â Â Â #è¿›è¡Œç«¯å£è½¬å‘

```

å¯åŠ¨ç§»åŠ¨è®¾å¤‡ä¸­çš„ drozer agentï¼Œå°†å³ä¸‹è§’çš„å…³é—­ç½®ä¸ºæ‰“å¼€çŠ¶æ€ï¼š

ç„¶åï¼Œä½¿ç”¨ drozer æ§åˆ¶å°è¿›è¡Œè¿æ¥ï¼Œåœ¨ PC ç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```
drozerÂ consoleÂ connect

```

å¦‚æœè¿æ¥æˆåŠŸï¼ŒPC ç»ˆç«¯æ•ˆæœå¦‚ä¸‹ï¼š

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNm6H6Uy7DPc19WLdMZR4MUrC4LNApfE4qowwbFOEZsh7P31lfUcamIBibfUc06W1rse4tlR3CFxKQ/640?wx_fmt=png&from=appmsg)

æ­¤æ—¶ï¼ŒAndroid å®¢æˆ·ç«¯çŠ¶æ€å¦‚ä¸‹ï¼š  

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNm6H6Uy7DPc19WLdMZR4MUpzbGwzAf4qibibnvMKjibkInoMzlbibf73YP6OUnx8yblzOD598TjPPaYQ/640?wx_fmt=png&from=appmsg)

### å¸¸ç”¨å‘½ä»¤ï¼š

```
run app.package.list               #åˆ—å‡ºè®¾å¤‡ä¸­å®‰è£…çš„åŒ…
run app.package.list -f appåç§°     #ä¸ä¸€å®šéå¾—æ˜¯å®Œæ•´çš„åŒ…å
run app.package.info               #è·å–å®‰è£…çš„åŒ…çš„ä¿¡æ¯
run app.package.info -a com.android.browser   #åˆ—ä¸¾æŒ‡å®šåŒ…çš„ä¿¡æ¯
run app.package.info -p android.permission.INTERNET  #åˆ—å‡ºå…·æœ‰ç›¸åº”æƒé™çš„åŒ…

```

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNm6H6Uy7DPc19WLdMZR4MUibwKgY7PchiaFIPicRLa5Pn0HcJtMk9a9oTnJNwCKhvhydud1Wiat74FvQ/640?wx_fmt=png&from=appmsg)

æŸ¥çœ‹ apk ä¿¡æ¯

åˆ©ç”¨å…³é”®è¯ â€œsieveâ€ è¿›è¡Œæœç´¢å¾—å‡ºåŒ…åï¼š

```
run app.package.list -f sieve

```

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNm6H6Uy7DPc19WLdMZR4MUjc2tk8O72VeBpibUYCbgTMNB5yqyVOFjhYQSwF8KVdTOPXSUYcg6K9A/640?wx_fmt=png&from=appmsg)

æŸ¥çœ‹åŒ…ä¿¡æ¯

```
run app.package.info -a com.withsecure.example.sieve

```

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNm6H6Uy7DPc19WLdMZR4MUiblLKlhrial4R1kWIhPNunpR7OSQswMSRGEvKTzIVySPZvnhiaAfxjHNQ/640?wx_fmt=png&from=appmsg)

æ›´å¤šç”¨æ³•è¯·å‰å¾€å®˜ç½‘æŸ¥çœ‹

```
https://labs.withsecure.com/tools/drozer

```

MobSF

ç¯å¢ƒæ­å»º

```
å®‰è£…Â PythonÂ 3.8+Â Â (å®‰è£…äº†3.8æˆ–3.8ä»¥ä¸Šç‰ˆæœ¬)Â Â        ï¼ˆå¿…è¦çš„ï¼‰
ä¸‹è½½é“¾æ¥ï¼šhttps://www.python.org/downloads/
å®‰è£…Â JDKÂ 8+Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  (å¿…è¦çš„ï¼‰
ä¸‹è½½é“¾æ¥ï¼šhttps://www.oracle.com/java/technologies/downloads/#java8-windows
å®‰è£…Â Â æ„Ÿè°¢æ‚¨ä¸‹è½½Â VisualÂ StudioÂ -Â VisualÂ StudioÂ Â Â Â ï¼ˆå¿…è¦çš„ï¼‰
ä¸‹è½½é“¾æ¥ï¼šhttps://visualstudio.microsoft.com/zh-hans/thank-you-downloading-visual-studio/?sku=BuildTools&rel=16
å®‰è£…OpenSSLÂ (non-light)Â Â Â Â Win32/Win64Â OpenSSLÂ InstallerÂ forÂ WindowsÂ -Â ShiningÂ LightÂ ProductionsÂ ï¼ˆé»˜è®¤å®‰è£…è·¯å¾„ä¸è¦ä¿®æ”¹ï¼‰ï¼ˆå¿…è¦çš„ï¼‰
ä¸‹è½½é“¾æ¥ï¼šhttps://slproweb.com/products/Win32OpenSSL.html
ä¸‹è½½å’Œå®‰è£…wkhtmltopdfÂ ï¼ˆå¹¶æ·»åŠ åˆ°ç¯å¢ƒå˜é‡PATHï¼Œè¯¥å·¥å…·æ˜¯å°†ç»“æœç”ŸæˆPDFçš„ï¼‰
ä¸‹è½½é“¾æ¥ï¼šhttps://wkhtmltopdf.org/downloads.html
å®‰è£… é›·ç”µæ¨¡æ‹Ÿå™¨ï¼ˆåŠ¨æ€åˆ†æéœ€è¦ç”¨åˆ°ï¼Œä¸ç„¶è¯¥åŠŸèƒ½ç”¨ä¸äº†ï¼Œæ¨¡æ‹Ÿå™¨ä¹Ÿå¯ä»¥ç”¨å…¶ä»–çš„ï¼‰

```

æœ¬æ–‡ç« ä½¿ç”¨çš„ç¯å¢ƒæ˜¯ï¼špython 11, java jdk 17

MobSF è¿è¡Œ

```
githubåœ°å€ï¼šhttps://github.com/MobSF/Mobile-Security-Framework-MobSF/archive/refs/heads/master.zip

```

å‘½ä»¤ï¼š

```
setup.batÂ å®‰è£…ç¯å¢ƒä¾èµ–
run.batÂ è¿è¡Œ

```

ä¸‹è½½ => è§£å‹ => æ‰“å¼€  

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNhxX14ohE6kyibpOdluqSzD6LVzCxxXlajjfSo1sr9SywVl3RMbwRH2Eyp8921hiadqaB7YgNL337g/640?wx_fmt=png&from=appmsg)

åœ¨åœ°å€æ ä¸Šè¾“å…¥ cmd å¹¶å›è½¦æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ï¼š

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNhxX14ohE6kyibpOdluqSzDpot5d5nMd2kYsalibl7pff0M0xHwiazSmwJnVvvDqP6R4E4tS6w3lb3A/640?wx_fmt=png&from=appmsg)

è¿è¡Œ ./setup.bat å®‰è£…ä¾èµ–

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNhxX14ohE6kyibpOdluqSzDKIMZLxnCOx95neYzUEbiabB1NDLM7DtYicUhXTg9DTIgW6ywEZ02W3Rg/640?wx_fmt=png&from=appmsg)

ç„¶åè¿è¡Œ run.bat å¯åŠ¨æœåŠ¡ï¼šhttp://127.0.0.1:8000

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyNhxX14ohE6kyibpOdluqSzDStS4xVhFYJ6DIBjYvN6NUzd4dZvNP8ZRBA6uccnZic3xNsiaeCdW92iag/640?wx_fmt=png&from=appmsg)

**â˜…  
**

**ä»˜è´¹åœˆå­  
**

  

  

**æ¬¢Â è¿ åŠ Â å…¥ ç¤¾åŒºÂ ï¼**

**ä»£ç å®¡è®¡ + å…æ€ + æ¸—é€å­¦ä¹ èµ„æº + å„ç§èµ„æ–™æ–‡æ¡£ + å„ç§å·¥å…· + ä»˜è´¹ä¼šå‘˜**

![](https://mmbiz.qpic.cn/mmbiz_gif/pLGTianTzSu7XRhTMZOBAqXehvREhD5ThABGJdRialUx3dQWwO7fclsicyiajicKfvXV4kHs38nkwFxUSckVF2nYlibA/640?wx_fmt=gif&random=0.4447566002908574&wxfrom=5&wx_lazy=1&tp=webp)

  

**è¿›æˆå‘˜å†…éƒ¨ç¾¤**

![](https://mmbiz.qpic.cn/sz_mmbiz_png/0YvAy5BgkyPnXn6CAvD7hsuGdKUkm7umsk3hcdicxCz3rBSv2d3SVib4ZhUhRYBNSso9vUecO4aNJGKCECsr6mkw/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

**ğŸ‘‡ç‚¹å‡»ä¸‹æ–¹é“¾æ¥æŸ¥çœ‹è¯¦ç»†ä»‹ç»ğŸ‘‡**

**[é¹ç»„å®‰å…¨ç¤¾åŒº VIP ç¦åˆ©ä»‹ç» V1.2 ç‰ˆæœ¬ - ç¤¾åŒºä»‹ç»](http://mp.weixin.qq.com/s?__biz=Mzg5NDU3NDA3OQ==&mid=2247490425&idx=1&sn=25a8d41abbf66fd731cd18d6d1c359f0&chksm=c01cd7e9f76b5eff49eaae3e20809e744b3ec40227169c54a203e1af6b867d42f7a2bdf988f1&scene=21#wechat_redirect)**

æ‰«æäºŒç»´ç å¯ç›´è¾¾ç¤¾åŒº

https://comm.pgpsec.cn/user

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/0YvAy5BgkyPnXn6CAvD7hsuGdKUkm7um7a4D12keOJOjiaGXhbvVQ3kB7yCibI67IKkKdthVtRFRhlpCTKFw6YCg/640?wx_fmt=other&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

**å…è´£å£°æ˜**

ç”±äºä¼ æ’­ã€åˆ©ç”¨æœ¬å…¬ä¼—å·æ¸—é€å®‰å…¨å›¢é˜Ÿæ‰€æä¾›çš„ä¿¡æ¯è€Œé€ æˆçš„ä»»ä½•ç›´æ¥æˆ–è€…é—´æ¥çš„åæœåŠæŸå¤±ï¼Œå‡ç”±ä½¿ç”¨è€…æœ¬äººè´Ÿè´£ï¼Œå…¬ä¼—å·æ¸—é€å®‰å…¨å›¢é˜ŸåŠä½œè€…ä¸ä¸º**æ­¤**æ‰¿æ‹…ä»»ä½•è´£ä»»ï¼Œä¸€æ—¦é€ æˆåæœè¯·è‡ªè¡Œæ‰¿æ‹…ï¼å¦‚æœ‰ä¾µæƒçƒ¦è¯·å‘ŠçŸ¥ï¼Œæˆ‘ä»¬ä¼šç«‹å³åˆ é™¤å¹¶è‡´æ­‰ã€‚è°¢è°¢ï¼

å¥½æ–‡åˆ†äº«æ”¶è—èµä¸€ä¸‹æœ€ç¾ç‚¹åœ¨çœ‹å“¦